import ClaimsNeedNetworkRequest from '../../fragments/_claims-need-network-request.mdx';
import FindUserInfoMissing from '../../fragments/_find-user-info-missing.mdx';
import ScopesAndClaims from '../../fragments/_scopes-and-claims.mdx';
import ScopesAndClaimsIntroduction from '../../fragments/_scopes-claims-introduction.md';

import FetchUserinfoCode from './_fetch-userinfo-code.md';
import ScopesAndClaimsCode from './_scopes-and-claims-code.md';

### 顯示使用者資訊 \{#display-user-information}

要顯示使用者的資訊，你可以使用 `getIdTokenClaims()` 方法。例如，在 Capacitor 應用程式中：

```tsx
const userClaims = await logtoClient.getIdTokenClaims();
console.log(userClaims);
```

### 請求額外的宣告 (Claims) \{#request-additional-claims}

<FindUserInfoMissing method="client.getIdTokenClaims()" />

<ScopesAndClaimsIntroduction />

要請求額外的權限範圍 (Scopes)，可以在初始化客戶端時將權限範圍傳遞給 `LogtoConfig` 物件。例如：

```tsx
const logtoConfig = {
  scopes: ['email', 'phone', 'custom_data', 'organizations'],
};
```

然後你可以在 `client.getIdTokenClaims()` 的返回值中訪問額外的宣告 (Claims)：

<ClaimsNeedNetworkRequest
  type="method"
  method="client.fetchUserInfo()"
  codeSnippet={<FetchUserinfoCode />}
/>

### 權限範圍 (Scopes) 和宣告 (Claims) \{#scopes-and-claims}

<ScopesAndClaims configScopesCode={<ScopesAndClaimsCode />} />
