---
id: email-connectors
title: Conectores de email
sidebar_label: Conectores de email
sidebar_position: 1
---

# Conectores de email

Um conector de email integra seu serviço de entrega de email com o Logto para permitir a verificação segura do usuário por meio de email. Uma vez configurado, você pode enviar [senhas de uso único (OTPs)](https://auth.wiki/otp) para [cadastro](/end-user-flows/sign-up-and-sign-in/sign-up), [login](/end-user-flows/sign-up-and-sign-in/sign-in), [redefinição de senha](/end-user-flows/sign-up-and-sign-in/reset-password), [vinculação de conta](/end-user-flows/sign-up-and-sign-in/social-sign-in#account-linking), [convites de membros](/end-user-flows/organization-experience/invite-organization-members) e [validação de operações de alto risco](/end-user-flows/security-verification).

## Escolha seu conector de email \{#choose-your-email-connector}

Logto oferece três tipos de opções de conectores de email:

### Serviço de Email Logto Gratuito (somente Cloud) \{#free-logto-email-service-cloud-only}

Esta opção de serviço de email embutido é ideal para começar rapidamente tanto para [teste](/logto-cloud/tenant-settings#development) quanto para [produção](/logto-cloud/tenant-settings#production). Ela elimina a necessidade de integrações de terceiros e oferece entrega de email gratuita e confiável. Basta personalizar sua marca básica para os modelos de email pré-desenhados.

O conector do Serviço de Email Logto agora oferece capacidades de personalização de marca, incluindo logotipo, informações da empresa e nome do remetente.

No entanto, embora seja conveniente, há algumas limitações a serem observadas — você não pode personalizar o endereço de email do remetente, domínio ou o conteúdo específico do email.

```mdx-code-block
import DocCardList from '@theme/DocCardList';
import LogtoEmailService from '@site/docs/connectors/assets/icons/logto-email-service.svg';
import AwsDm from '@site/docs/connectors/assets/icons/aws-direct-mail.svg';
import SendGrid from '@site/docs/connectors/assets/icons/sendgrid.svg';
import Mailgun from '@site/docs/connectors/assets/icons/mailgun.svg';
import Postmark from '@site/docs/connectors/assets/icons/postmark.svg';
import AliyunDm from '@site/docs/connectors/assets/icons/aliyun-direct-mail.svg';
import Smtp from '@site/docs/connectors/assets/icons/smtp.svg';
import Http from '@site/docs/connectors/assets/icons/http.svg';

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Logto Email Service',
      href: '/connectors/email-connectors/built-in-email-service',
      description: 'Conector oficial para o Logto Email Service.',
      customProps: {
        icon: <LogtoEmailService />,
      }
    },
  ]}
/>
```

### Provedores de email populares \{#popular-email-providers}

Conecte-se com seu provedor de serviço de email (ESP) preferido usando os guias passo a passo do Logto.

Essas opções permitem que você [personalize completamente seus modelos de email](/connectors/email-connectors/email-templates), nome do remetente, adicione variáveis, etc., para melhor atender à sua marca.

Oferecemos suporte pronto para uso para os seguintes provedores de serviço de email:

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'AWS Direct Mail',
      href: '/integrations/aws-ses',
      description: 'O conector oficial do Logto para o serviço de correio direto da AWS.',
      customProps: {
        icon: <AwsDm />,
      }
    },
    {
      type: 'link',
      label: 'Mailgun',
      href: '/integrations/mailgun',
      description: 'O conector oficial do Logto para o serviço de email Mailgun.',
      customProps: {
        icon: <Mailgun />,
      }
    },
    {
      type: 'link',
      label: 'SendGrid Email',
      href: '/integrations/sendgrid-email',
      description: 'O conector oficial do Logto para o serviço de email SendGrid.',
      customProps: {
        icon: <SendGrid />,
      }
    },
    {
      type: 'link',
      label: 'Aliyun Direct Mail',
      href: '/integrations/aliyun-dm',
      description: 'O conector oficial do Logto para o serviço de correio direto da Aliyun.',
      customProps: {
        icon: <AliyunDm />,
      }
    },
    {
      type: 'link',
      label: 'Postmark Mail',
      href: '/integrations/postmark',
      description: 'Conector do Logto para o serviço de email Postmark.',
      customProps: {
        icon: <Postmark />,
      }
    },
  ]}
/>
```

### Personalize seu conector de email \{#customize-your-email-connector}

Se nenhuma das soluções acima atender às suas necessidades, você também pode optar por se conectar ao seu serviço de email desejado usando o Protocolo de Transferência de Correio Simples (SMTP).

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'SMTP',
      href: '/integrations/smtp',
      description: 'O conector oficial do Logto para SMTP.',
      customProps: {
        icon: <Smtp />,
      }
    },
  ]}
/>
```

Se você já possui seu próprio serviço de email e não é elegível para usar uma conexão SMTP, também fornecemos um "conector de email HTTP".

Quando precisa enviar um email, ele envia uma chamada de API para o `endpoint` configurado para completar o fluxo de autenticação dependente de email. Observe que, para evitar erros no fluxo de autenticação, o endpoint configurado precisa retornar uma resposta 200 após receber o WebHook para informar ao Logto que recebeu a notificação para enviar o email. Nesse caso, você precisa monitorar seu próprio serviço de email para garantir a entrega bem-sucedida.

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'Conector de email HTTP',
      href: '/integrations/http-email',
      description: 'O conector oficial do Logto para email HTTP.',
      customProps: {
        icon: <Http />,
      }
    },
  ]}
/>
```

Se nossos conectores padrão não atenderem aos seus requisitos específicos, não hesite em [entrar em contato conosco](https://logto.productlane.com/roadmap). Para usuários do OSS, você pode [implementar seu conector (OSS)](/logto-oss/develop-your-connector/implement-connectors#build-a-passwordless-connector) se o requisito for urgente. Sempre damos boas-vindas a [contribuições](/logto-oss/contribution); seu esforço pode muito bem ajudar outros membros da comunidade com as mesmas necessidades.

## Etapas de configuração \{#configure-steps}

Siga as etapas abaixo para adicionar um conector de email:

1. Navegue até <CloudLink to="/connectors/passwordless">Console > Conectores > Conectores de Email e SMS </CloudLink>.
2. Para adicionar um novo conector de email, clique no botão "Configurar" e selecione seu provedor de email desejado.
3. Revise a documentação README e configure para o provedor escolhido passo a passo.
4. Clique em "Salvar e Concluir" para finalizar.

:::note

Para garantir que emails críticos (como códigos de verificação) cheguem de forma confiável às caixas de entrada dos usuários e evitem filtros de spam, concentre-se em duas prioridades:

- **Configurar autenticação de email (SPF, DKIM, DMARC)**
  Provedores de email (Gmail, Outlook, etc.) usam esses protocolos para verificar se você não é um spammer. A falta dessas configurações pode fazer com que seus emails caiam no spam ou sejam rejeitados.
  - SPF (Sender Policy Framework): Lista servidores / IPs autorizados a enviar emails para seu domínio.
  - DKIM (DomainKeys Identified Mail): Adiciona uma assinatura digital para provar que os emails não foram adulterados.
  - DMARC (Domain-based Message Authentication): Informa aos receptores como lidar com emails que falham no SPF / DKIM.
- **Separar emails de autenticação e marketing**
  Emails de marketing frequentemente geram reclamações de spam ou altas taxas de rejeição. Se os emails de autenticação compartilharem o mesmo domínio / IP, sua entregabilidade será prejudicada.
  - Use um Domínio Dedicado: Envie emails de verificação de `@auth.seudominio.com`, marketing de `@marketing.seudominio.com`.
  - IP Dedicado: Solicite um IP exclusivo para emails de autenticação e aqueça-o lentamente.
  - Correspondência do Endereço "De": Certifique-se de que o domínio do remetente esteja alinhado com os registros SPF / DKIM / DMARC.

:::

## Alterar conector de email \{#change-email-connector}

Você pode notar que apenas um conector de email pode ser adicionado.

Quando você já tem um conector de email, só pode selecionar "Alterar conector de email". Ao realizar essa operação no console, ela entra em vigor imediatamente após ser salva, portanto, certifique-se de testar sua configuração antes de salvar.

Para garantir a estabilidade do seu serviço, os usuários do Cloud podem criar um [tenant de desenvolvimento](/logto-cloud/tenant-settings#development) para o ambiente de desenvolvimento. Após testar a configuração no ambiente de desenvolvimento, "migre" a configuração para [produção](/logto-cloud/tenant-settings#production) e, em seguida, salve a configuração.

## Ativar cadastro ou login por email \{#enable-email-sign-up-or-sign-in}

Depois de adicionar com sucesso o conector de email e concluir a configuração, você pode habilitar as configurações de login e cadastro que dependem de email + código de verificação, de acordo com suas necessidades de negócios.

1. **Navegue até:** <CloudLink to="/sign-in-experience/sign-up-and-sign-in">Console > Experiência de login > Cadastro e login</CloudLink>
2. [**Definir métodos de cadastro**](/end-user-flows/sign-up-and-sign-in/sign-up): Escolha "Endereço de email" ou "Endereço de email ou número de telefone" como o identificador de cadastro. Nota: a verificação de email é atualmente obrigatória durante o cadastro.
3. [**Definir métodos de login**](/end-user-flows/sign-up-and-sign-in/sign-in): O identificador de cadastro escolhido automaticamente se torna um método de login. Clique em "Adicionar outro" para opções adicionais de login.
4. **Salvar Alterações e Testar:** Clique em "Salvar alterações" para implementar a nova experiência de login. Lembre-se de usar a "[Visualização ao vivo](/customization/live-preview)" para testar a funcionalidade.

:::warning
Como nossas configurações entram em vigor imediatamente, excluir o conector de email existente pode afetar os processos normais de login e registro dos usuários finais.

Por exemplo, se o identificador de login incluir a combinação "email + código de verificação", excluir o conector de email existente impedirá que os usuários recebam códigos de verificação por email e resultará em um erro no fluxo de login.

Esteja ciente dos riscos potenciais ao operar em conectores.
:::

## FAQs \{#faqs}

<details>
<summary>

### Como personalizar o nome do remetente do email? \{#how-to-customize-the-email-sender-name}

</summary>

Ainda estamos trabalhando em mais conectores. Se você precisar de mais opções, basta nos informar suas necessidades no Discord e registrar uma Solicitação de Recurso no [GitHub](https://github.com/logto-io/logto/issues). Se precisar de mais assistência, você também pode [entrar em contato conosco por email](mailto:contact@logto.io).

Para contribuidores, fornecemos um método de criação de conector fácil de estender, permitindo que você [personalize seu próprio conector](/logto-oss/develop-your-connector) com base em seus cenários específicos. Você é sempre bem-vindo para enviar um pull request para o Logto, para que outros na comunidade também possam se beneficiar do seu trabalho.

</details>

<details>
<summary>

### Como posso restringir endereços IP para solicitações de email em conectores de email Logto? \{#how-can-i-restrict-ip-addresses-for-email-requests-in-logto-email-connectors}

</summary>

Uma solução alternativa é usar o conector de email HTTP do Logto.

Implemente um endpoint de API em seu servidor que chame o serviço de email relevante e acione esse endpoint de API através do [conector de email HTTP](/integrations/http-email) do Logto. Dessa forma, você terá controle total sobre o endereço IP do seu endpoint de API e poderá adicionar os endereços IP correspondentes à lista de permissões na configuração do provedor de serviço de email.

</details>
