---
id: email-connectors
title: Conectores de correo electrónico
sidebar_label: Conectores de correo electrónico
sidebar_position: 1
---

# Conectores de correo electrónico

Un conector de correo electrónico integra tu servicio de entrega de correo electrónico con Logto para habilitar la verificación segura de usuarios a través del correo electrónico. Una vez configurado, puedes enviar [contraseñas de un solo uso (OTPs)](https://auth.wiki/otp) para [registro](/end-user-flows/sign-up-and-sign-in/sign-up), [inicio de sesión](/end-user-flows/sign-up-and-sign-in/sign-in), [restablecimiento de contraseña](/end-user-flows/sign-up-and-sign-in/reset-password), [vinculación de cuentas](/end-user-flows/sign-up-and-sign-in/social-sign-in#account-linking), [invitaciones a miembros](/end-user-flows/organization-experience/invite-organization-members) y [validación de operaciones de alto riesgo](/end-user-flows/security-verification).

## Elige tu conector de correo electrónico \{#choose-your-email-connector}

Logto ofrece tres tipos de opciones de conectores de correo electrónico:

### Servicio de correo electrónico gratuito de Logto (solo en la nube) \{#free-logto-email-service-cloud-only}

Esta opción de servicio de correo electrónico incorporado es ideal para comenzar rápidamente tanto para [pruebas](/logto-cloud/tenant-settings#development) como para [producción](/logto-cloud/tenant-settings#production). Elimina la necesidad de integraciones de terceros y ofrece una entrega de correo electrónico gratuita y confiable. Simplemente personaliza tu marca básica para las plantillas de correo electrónico prediseñadas.

El conector del Servicio de Correo Electrónico de Logto ahora ofrece capacidades de personalización de marca, incluyendo logo, información de la empresa y nombre del remitente.

Sin embargo, aunque es conveniente, hay algunas limitaciones a tener en cuenta: no puedes personalizar la dirección de correo electrónico del remitente, el dominio o el contenido específico del correo electrónico.

```mdx-code-block
import DocCardList from '@theme/DocCardList';
import LogtoEmailService from '@site/docs/connectors/assets/icons/logto-email-service.svg';
import AwsDm from '@site/docs/connectors/assets/icons/aws-direct-mail.svg';
import SendGrid from '@site/docs/connectors/assets/icons/sendgrid.svg';
import Mailgun from '@site/docs/connectors/assets/icons/mailgun.svg';
import Postmark from '@site/docs/connectors/assets/icons/postmark.svg';
import AliyunDm from '@site/docs/connectors/assets/icons/aliyun-direct-mail.svg';
import Smtp from '@site/docs/connectors/assets/icons/smtp.svg';
import Http from '@site/docs/connectors/assets/icons/http.svg';

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Logto Email Service',
      href: '/connectors/email-connectors/built-in-email-service',
      description: 'Conector oficial para el Servicio de Correo Electrónico de Logto.',
      customProps: {
        icon: <LogtoEmailService />,
      }
    },
  ]}
/>
```

### Proveedores de correo electrónico populares \{#popular-email-providers}

Conéctate con tu proveedor de servicios de correo electrónico (ESP) preferido utilizando las guías paso a paso de Logto.

Estas opciones te permiten [personalizar completamente tus plantillas de correo electrónico](/connectors/email-connectors/email-templates), el nombre del remitente, agregar variables, etc., para servir mejor a tu marca.

Proporcionamos soporte listo para usar para los siguientes proveedores de servicios de correo electrónico:

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'AWS Direct Mail',
      href: '/integrations/aws-ses',
      description: 'El conector oficial de Logto para el servicio de correo directo de AWS.',
      customProps: {
        icon: <AwsDm />,
      }
    },
    {
      type: 'link',
      label: 'Mailgun',
      href: '/integrations/mailgun',
      description: 'El conector oficial de Logto para el servicio de correo electrónico Mailgun.',
      customProps: {
        icon: <Mailgun />,
      }
    },
    {
      type: 'link',
      label: 'SendGrid Email',
      href: '/integrations/sendgrid-email',
      description: 'El conector oficial de Logto para el servicio de correo electrónico SendGrid.',
      customProps: {
        icon: <SendGrid />,
      }
    },
    {
      type: 'link',
      label: 'Aliyun Direct Mail',
      href: '/integrations/aliyun-dm',
      description: 'El conector oficial de Logto para el servicio de correo directo de Aliyun.',
      customProps: {
        icon: <AliyunDm />,
      }
    },
    {
      type: 'link',
      label: 'Postmark Mail',
      href: '/integrations/postmark',
      description: 'Conector de Logto para el servicio de correo electrónico Postmark.',
      customProps: {
        icon: <Postmark />,
      }
    },
  ]}
/>
```

### Personaliza tu conector de correo electrónico \{#customize-your-email-connector}

Si ninguna de las soluciones anteriores satisface tus necesidades, también puedes optar por conectarte a tu servicio de correo electrónico deseado utilizando el Protocolo Simple de Transferencia de Correo (SMTP).

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'SMTP',
      href: '/integrations/smtp',
      description: 'El conector oficial de Logto para SMTP.',
      customProps: {
        icon: <Smtp />,
      }
    },
  ]}
/>
```

Si ya tienes tu propio servicio de correo electrónico y no eres elegible para usar una conexión SMTP, también ofrecemos un "conector de correo electrónico HTTP".

Cuando necesita enviar un correo electrónico, envía una llamada API al `endpoint` configurado para completar el flujo de autenticación dependiente del correo electrónico. Ten en cuenta que para evitar errores en el flujo de autenticación, el `endpoint` configurado debe devolver una respuesta 200 después de recibir el WebHook para informar a Logto que ha recibido la notificación para enviar el correo electrónico. En este caso, necesitas monitorear tu propio servicio de correo electrónico para asegurar una entrega exitosa.

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'Conector de correo electrónico HTTP',
      href: '/integrations/http-email',
      description: 'El conector oficial de Logto para correo electrónico HTTP.',
      customProps: {
        icon: <Http />,
      }
    },
  ]}
/>
```

Si nuestros conectores estándar no cumplen con tus requisitos específicos, no dudes en [contactarnos](https://logto.productlane.com/roadmap). Para los usuarios de OSS, puedes [implementar tu conector (OSS)](/logto-oss/develop-your-connector/implement-connectors#build-a-passwordless-connector) si el requisito es urgente. Siempre damos la bienvenida a [contribuciones](/logto-oss/contribution); tu esfuerzo podría ayudar a otros miembros de la comunidad con las mismas necesidades.

## Pasos de configuración \{#configure-steps}

Sigue los pasos a continuación para agregar un conector de correo electrónico:

1. Navega a <CloudLink to="/connectors/passwordless">Consola > Conectores > Conectores de correo electrónico y SMS </CloudLink>.
2. Para agregar un nuevo conector de correo electrónico, haz clic en el botón "Configurar" y selecciona tu proveedor de correo electrónico deseado.
3. Revisa la documentación README y configura tu proveedor elegido paso a paso.
4. Haz clic en "Guardar y Listo" para finalizar.

:::note

Para asegurar que los correos electrónicos críticos (como los códigos de verificación) lleguen de manera confiable a las bandejas de entrada de los usuarios y eviten los filtros de spam, concéntrate en dos prioridades:

- **Configura la autenticación de correo electrónico (SPF, DKIM, DMARC)**
  Los proveedores de correo electrónico (Gmail, Outlook, etc.) utilizan estos protocolos para verificar que no eres un spammer. La falta de estas configuraciones puede hacer que tus correos electrónicos terminen en spam o sean rechazados.
  - SPF (Sender Policy Framework): Lista los servidores / IPs permitidos para enviar correos electrónicos para tu dominio.
  - DKIM (DomainKeys Identified Mail): Agrega una firma digital para demostrar que los correos electrónicos no han sido manipulados.
  - DMARC (Domain-based Message Authentication): Indica a los receptores cómo manejar los correos electrónicos que fallan en SPF / DKIM.
- **Separa los correos electrónicos de autenticación y marketing**
  Los correos electrónicos de marketing a menudo desencadenan quejas de spam o altas tasas de rebote. Si los correos electrónicos de autenticación comparten el mismo dominio / IP, su capacidad de entrega se ve afectada.
  - Usa un Dominio Dedicado: Envía correos electrónicos de verificación desde `@auth.tudominio.com`, marketing desde `@marketing.tudominio.com`.
  - IP Dedicada: Solicita una IP única para los correos electrónicos de autenticación y caliéntala lentamente.
  - Coincide la Dirección "De": Asegúrate de que el dominio del remitente se alinee con los registros SPF / DKIM / DMARC.

:::

## Cambiar conector de correo electrónico \{#change-email-connector}

Puedes notar que solo se puede agregar un conector de correo electrónico.

Cuando ya tienes un conector de correo electrónico, solo puedes seleccionar "Cambiar conector de correo electrónico". Al realizar esta operación en la consola, entra en vigor inmediatamente una vez guardado, así que asegúrate de probar tu configuración antes de guardar.

Para asegurar la estabilidad de tu servicio, los usuarios de Cloud pueden crear un [tenant de desarrollo](/logto-cloud/tenant-settings#development) para el entorno de desarrollo. Después de probar la configuración en el entorno de desarrollo, "migra" la configuración a [producción](/logto-cloud/tenant-settings#production), y luego guarda la configuración.

## Habilitar registro o inicio de sesión por correo electrónico \{#enable-email-sign-up-or-sign-in}

Una vez que agregues con éxito el conector de correo electrónico y completes la configuración, puedes habilitar configuraciones de inicio de sesión y registro que dependen de correo electrónico + código de verificación, de acuerdo con tus necesidades comerciales.

1. **Navega a:** <CloudLink to="/sign-in-experience/sign-up-and-sign-in">Consola > Experiencia de inicio de sesión > Registro e inicio de sesión</CloudLink>
2. [**Establecer métodos de registro**](/end-user-flows/sign-up-and-sign-in/sign-up): Elige "Dirección de correo electrónico" o "Dirección de correo electrónico o número de teléfono" como el identificador de registro. Nota: la verificación por correo electrónico es actualmente obligatoria durante el registro.
3. [**Establecer métodos de inicio de sesión**](/end-user-flows/sign-up-and-sign-in/sign-in): El identificador de registro elegido se convierte automáticamente en un método de inicio de sesión. Haz clic en "Agregar otro" para opciones adicionales de inicio de sesión.
4. **Guardar Cambios y Probar:** Haz clic en "Guardar cambios" para implementar la nueva experiencia de inicio de sesión. Recuerda usar la "[Vista previa en vivo](/customization/live-preview)" para probar la funcionalidad.

:::warning
Debido a que nuestras configuraciones entran en vigor inmediatamente, eliminar el conector de correo electrónico existente puede afectar los procesos normales de inicio de sesión y registro de los usuarios finales.

Por ejemplo, si el identificador de inicio de sesión incluye la combinación "correo electrónico + código de verificación", eliminar el conector de correo electrónico existente impedirá que los usuarios reciban códigos de verificación por correo electrónico y resultará en un error en el flujo de inicio de sesión.

Por favor, ten en cuenta los posibles riesgos al operar sobre los conectores.
:::

## Preguntas frecuentes \{#faqs}

<details>
<summary>

### ¿Cómo personalizar el nombre del remitente del correo electrónico? \{#how-to-customize-the-email-sender-name}

</summary>

Todavía estamos trabajando en más conectores. Si necesitas más opciones, simplemente háznoslo saber en Discord y presenta una Solicitud de Función en [GitHub](https://github.com/logto-io/logto/issues). Si necesitas más ayuda, también puedes [contactarnos por correo electrónico](mailto:contact@logto.io).

Para los colaboradores, proporcionamos un método de creación de conectores fácil de extender, que te permite [personalizar tu propio conector](/logto-oss/develop-your-connector) basado en tus escenarios específicos. Siempre eres bienvenido a enviar una solicitud de extracción a Logto, para que otros en la comunidad también puedan beneficiarse de tu trabajo.

</details>

<details>
<summary>

### ¿Cómo puedo restringir las direcciones IP para solicitudes de correo electrónico en los conectores de correo electrónico de Logto? \{#how-can-i-restrict-ip-addresses-for-email-requests-in-logto-email-connectors}

</summary>

Una solución es usar el conector de correo electrónico HTTP de Logto.

Implementa un endpoint de API en tu servidor que llame al servicio de correo electrónico relevante, y activa este endpoint de API a través del [conector de correo electrónico HTTP](/integrations/http-email) de Logto. De esta manera, tendrás control total sobre la dirección IP de tu endpoint de API y podrás agregar las direcciones IP correspondientes a la lista blanca en la configuración del proveedor de servicios de correo electrónico.

</details>
