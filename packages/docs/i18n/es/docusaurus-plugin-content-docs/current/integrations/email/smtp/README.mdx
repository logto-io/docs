---
slug: /integrations/smtp
sidebar_label: SMTP
sidebar_custom_props:
  description: El SMTP es un protocolo de comunicación estándar de internet para la transmisión de correo electrónico.
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# Configura la verificación por correo electrónico con SMTP

El conector oficial de Logto para SMTP.

<GuideTip />

## Comenzar \{#get-started}

El SMTP (Protocolo Simple de Transferencia de Correo) es un protocolo de comunicación estándar de internet para la transmisión de correo electrónico. Los servidores de correo y otros agentes de transferencia de mensajes utilizan SMTP para enviar y recibir mensajes.

## Configurar el conector SMTP \{#set-up-smtp-connector}

SMTP es un protocolo de transmisión que no es exclusivo de algunos proveedores de servicios de correo electrónico específicos, sino que puede funcionar con todos los proveedores.

Ahora estamos ofreciendo guías sobre cómo usar el conector SMTP para enviar correos electrónicos siguiendo a los proveedores para tu mejor comprensión:

- _Gmail_ es el proveedor de servicios de correo electrónico más popular en todo el mundo.
- _Aliyun direct mail_ y _SendGrid mail_. Algunos de ustedes podrían estar familiarizados con estos dos proveedores de servicios de correo electrónico porque el equipo de Logto proporcionó conectores correspondientes; es probable que tengan una idea general de ellos.

Esperamos que puedas resolver la configuración de todos los demás proveedores de correo electrónico con los siguientes ejemplos :rocket:

### Configuración para el uso de Gmail \{#set-up-for-gmail-use}

Puedes obtener una nueva cuenta de Gmail en [Gmail](https://mail.google.com/), o puedes usar una cuenta existente si tienes una.

Un [post oficial de Gmail](https://support.google.com/a/answer/176600) muestra cómo determinar los valores de las propiedades requeridas para operar Gmail a través de un conector SMTP.

### Integración con SendGrid SMTP API \{#integrate-with-sendgrid-smtp-api}

Inicialmente, asumimos que ya tienes una cuenta de SendGrid. Si no, crea una nueva cuenta en el [sitio web de SendGrid](https://app.sendgrid.com/).

Puedes encontrar una guía paso a paso sobre ["Integración con la API SMTP"](https://docs.sendgrid.com/for-developers/sending-email/integrating-with-the-smtp-api).

Los desarrolladores pueden acceder a los detalles del _remitente_ en la ["Gestión de remitentes"](https://mc.sendgrid.com/senders).

### Configuración con cuenta de Aliyun direct mail \{#configure-with-aliyun-direct-mail-account}

Inicia sesión en el [sitio web de Aliyun](https://cn.aliyun.com/). Registra una nueva cuenta si no tienes una.

Sigue la [guía para enviar correos electrónicos usando SMTP](https://www.alibabacloud.com/help/en/directmail/latest/send-emails-using-smtp) y completa esas 'tareas' para obtener las configuraciones e información requeridas.

Puedes ir a la [página de dirección del servicio SMTP](https://www.alibabacloud.com/help/en/directmail/latest/smtp-service-address) para elegir un host de dirección de servicio SMTP y número de puerto adecuados.

Para verificar "Direcciones de remitente", puedes encontrar la entrada en el panel de navegación lateral en la [consola de DirectMail](https://dm.console.aliyun.com/). Deberías ver `Dirección del remitente` y `Contraseña SMTP` aquí.

:::note
Solo se proporciona una plantilla de muestra en los casos anteriores para simplificar las cosas. Deberías agregar más plantillas para otros casos de uso.
Deberías cambiar los valores envueltos con "\<" y ">" de acuerdo con la configuración de tu cuenta de Gmail, SendGrid o Aliyun y elegir mantener otros campos sin "\<" y ">".
Agrega `{{code}}` como un marcador de posición en el contenido de las plantillas para mostrar un código de verificación aleatorio al enviar correos electrónicos.
:::

### Probar el conector SMTP \{#test-smtp-connector}

Puedes escribir una dirección de correo electrónico y hacer clic en "Enviar" para ver si la configuración puede funcionar antes de "Guardar y Listo".

Eso es todo. No olvides [Habilitar el conector en la experiencia de inicio de sesión](/connectors/email-connectors/#enable-email-sign-up-or-sign-in).

### Tipos de configuración \{#config-types}

| Nombre    | Tipo       |
| --------- | ---------- |
| host      | string     |
| port      | string     |
| fromEmail | string     |
| templates | Template[] |

| Propiedades de la plantilla | Tipo        | Valores del enum                                        |
| --------------------------- | ----------- | ------------------------------------------------------- |
| subject                     | string      | N/A                                                     |
| content                     | string      | N/A                                                     |
| usageType                   | enum string | 'Register' \| 'SignIn' \| 'ForgotPassword' \| 'Generic' |
| contentType                 | enum string | 'text/plain' \| 'text/html'                             |

**Opciones de autenticación de nombre de usuario y contraseña**

| Nombre | Tipo                   | Valores del enum |
| ------ | ---------------------- | ---------------- |
| user   | string                 | N/A              |
| pass   | string                 | N/A              |
| type   | enum string (OPCIONAL) | 'login'          |

También puedes configurar [Opciones de autenticación OAuth2](https://nodemailer.com/smtp/oauth2/) y otras configuraciones avanzadas. Consulta [aquí](https://nodemailer.com/smtp/) para más detalles.

Dimos un ejemplo de configuración con todos los parámetros configurables en el cuadro de texto para ayudarte a configurar tu propia configuración. (Eres responsable de la configuración, algunos valores son para fines de demostración y pueden no ajustarse a tu caso de uso.)
