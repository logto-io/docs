"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[55089],{79174:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"logto-oss/file-storage-provider","title":"Dateispeicheranbieter","description":"Standardm\xe4\xdfig verwendet die Logto-Konsole ein Texteingabefeld f\xfcr statische Dateiadressen wie Avatare. Um eine intuitivere Dateiupload-Erfahrung mit Drag-and-Drop zu erm\xf6glichen, musst du einen Speicheranbieter konfigurieren.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/logto-oss/file-storage-provider.mdx","sourceDirName":"logto-oss","slug":"/logto-oss/file-storage-provider","permalink":"/de/logto-oss/file-storage-provider","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/de/docusaurus-plugin-content-docs/current/logto-oss/file-storage-provider.mdx","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"docsSidebar","previous":{"title":"Zentraler Cache","permalink":"/de/logto-oss/central-cache"},"next":{"title":"Entwickle deinen Connector","permalink":"/de/logto-oss/develop-your-connector/"}}');var s=i(86070),o=i(15658);const t={sidebar_position:6},d="Dateispeicheranbieter",l={},c=[{value:"Azure Storage",id:"azure-storage",level:2},{value:"Voraussetzungen",id:"voraussetzungen",level:3},{value:"Konfiguration mit CLI",id:"konfiguration-mit-cli",level:3},{value:"<code>connectionString</code>",id:"connectionstring",level:4},{value:"<code>container</code>",id:"container",level:4},{value:"<code>publicUrl</code>",id:"publicurl",level:4},{value:"S3 Storage",id:"s3-storage",level:2},{value:"Voraussetzungen",id:"voraussetzungen-1",level:3},{value:"Konfiguration mit CLI",id:"konfiguration-mit-cli-1",level:3},{value:"<code>accessKeyId</code>",id:"accesskeyid",level:4},{value:"<code>accessSecretKey</code>",id:"accesssecretkey",level:4},{value:"<code>bucket</code>",id:"bucket",level:4},{value:"<code>region</code>",id:"region",level:4},{value:"<code>endpoint</code>",id:"endpoint",level:4},{value:"<code>publicUrl</code>",id:"publicurl-1",level:4},{value:"Google Cloud Storage",id:"google-cloud-storage",level:2},{value:"Voraussetzungen",id:"voraussetzungen-2",level:3},{value:"Erhalte die Schl\xfcsseldatei",id:"erhalte-die-schl\xfcsseldatei",level:3},{value:"F\xfcge die Schl\xfcsseldatei zu Logto hinzu",id:"f\xfcge-die-schl\xfcsseldatei-zu-logto-hinzu",level:3},{value:"Konfiguration mit CLI",id:"konfiguration-mit-cli-2",level:3},{value:"<code>projectId</code>",id:"projectid",level:4},{value:"<code>keyFilename</code>",id:"keyfilename",level:4},{value:"<code>bucketName</code>",id:"bucketname",level:4},{value:"<code>publicUrl</code>",id:"publicurl-2",level:4}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"dateispeicheranbieter",children:"Dateispeicheranbieter"})}),"\n",(0,s.jsx)(n.p,{children:"Standardm\xe4\xdfig verwendet die Logto-Konsole ein Texteingabefeld f\xfcr statische Dateiadressen wie Avatare. Um eine intuitivere Dateiupload-Erfahrung mit Drag-and-Drop zu erm\xf6glichen, musst du einen Speicheranbieter konfigurieren."}),"\n",(0,s.jsx)(n.p,{children:"Logto unterst\xfctzt mehrere Speicheranbieter, darunter AWS S3 und Azure Storage. Dieses Rezept zeigt dir, wie du einen Speicheranbieter f\xfcr Logto konfigurierst."}),"\n",(0,s.jsxs)(n.p,{children:["Die Konfiguration wird in der ",(0,s.jsx)(n.code,{children:"systems"}),'-Tabelle der Datenbank gespeichert, es wird jedoch empfohlen, die CLI zu verwenden, um den Speicheranbieter zu konfigurieren. F\xfcr weitere Informationen, versuche den "help"-Befehl:']}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"pnpm logto db system --help\n"})}),"\n",(0,s.jsx)(n.h2,{id:"azure-storage",children:"Azure Storage"}),"\n",(0,s.jsx)(n.p,{children:"Azure Storage ist eine leistungsstarke und skalierbare Cloud-Speicherl\xf6sung, die es dir erm\xf6glicht, deine Daten in der Cloud zu speichern und zu verwalten. Das folgende Rezept zeigt dir, wie du Azure Storage als Speicheranbieter f\xfcr Logto konfigurierst."}),"\n",(0,s.jsx)(n.h3,{id:"voraussetzungen",children:"Voraussetzungen"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/storage/common/storage-account-overview",children:"Azure Storage-Konto"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"konfiguration-mit-cli",children:"Konfiguration mit CLI"}),"\n",(0,s.jsx)(n.p,{children:"Beispielverwendung:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'pnpm logto db system set storageProvider \'{"provider":"AzureStorage","connectionString":"DefaultEndpointsProtocol=https;AccountName=logto;AccountKey=oRhfTBHOHiBxxxxxxxxxxxxxxxxZ0se6XROftl/Xrow==;EndpointSuffix=core.windows.net","container":"logto"}\'\n'})}),"\n",(0,s.jsx)(n.h4,{id:"connectionstring",children:(0,s.jsx)(n.code,{children:"connectionString"})}),"\n",(0,s.jsx)(n.p,{children:"Um auf Azure Storage zuzugreifen, musst du eine Verbindungszeichenfolge verwenden, die eine Zeichenfolge ist, die die notwendigen Informationen f\xfcr die Herstellung einer Verbindung zu deinem Speicherkonto enth\xe4lt."}),"\n",(0,s.jsxs)(n.p,{children:["Um die Verbindungszeichenfolge zu erhalten, folge der offiziellen ",(0,s.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/storage/common/storage-configure-connection-string",children:"Azure Storage-Verbindungszeichenfolgendokumentation"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"container",children:(0,s.jsx)(n.code,{children:"container"})}),"\n",(0,s.jsx)(n.p,{children:"Der Container ist eine Speicherressource, die Blobs speichert. Du kannst den Container verwenden, um deine Blobs zu organisieren und den Zugriff auf deine Daten zu steuern."}),"\n",(0,s.jsxs)(n.p,{children:["Um einen Container zu erstellen, folge der offiziellen ",(0,s.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/storage/blobs/storage-blobs-introduction#containers",children:"Azure Storage-Containerdokumentation"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"publicurl",children:(0,s.jsx)(n.code,{children:"publicUrl"})}),"\n",(0,s.jsx)(n.p,{children:"Optional."}),"\n",(0,s.jsxs)(n.p,{children:['Die \xf6ffentliche URL ist die URL, die verwendet werden kann, um auf die Speicherressource \xf6ffentlich zuzugreifen. Wenn du kein CDN verwendest, kannst du es leer lassen, um die standardm\xe4\xdfige "Prim\xe4re Endpunkt"-URL von Azure Storage als \xf6ffentliche URL zu verwenden. Logto wird diesen Wert aus der "connectionString" mit Hilfe des Azure SDK erhalten. Um mehr \xfcber den prim\xe4ren Endpunkt deines Speicherkontos zu erfahren, folge der offiziellen ',(0,s.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/storage/common/storage-account-overview#primary-endpoints",children:"Azure Storage prim\xe4re Endpunktdokumentation"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"s3-storage",children:"S3 Storage"}),"\n",(0,s.jsx)(n.p,{children:"S3 Storage ist ein Cloud-Speicherdienst, der Objektspeicherung \xfcber eine Webdienstschnittstelle bietet. Das folgende Rezept zeigt dir, wie du S3 Storage als Speicheranbieter f\xfcr Logto konfigurierst."}),"\n",(0,s.jsx)(n.h3,{id:"voraussetzungen-1",children:"Voraussetzungen"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/creating-buckets.html",children:"S3 Storage-Konto"})," oder ein anderer S3-kompatibler Speicherdienst, wie ",(0,s.jsx)(n.a,{href:"https://min.io/",children:"MinIO"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"konfiguration-mit-cli-1",children:"Konfiguration mit CLI"}),"\n",(0,s.jsx)(n.p,{children:"Beispielverwendung:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'pnpm logto db system set storageProvider \'{"provider":"S3Storage","accessKeyId":"my-access-key-id","accessSecretKey": "my-secret-access-key","bucket":"logto","endpoint":"https://s3.us-east-2.amazonaws.com"}\'\n'})}),"\n",(0,s.jsx)(n.h4,{id:"accesskeyid",children:(0,s.jsx)(n.code,{children:"accessKeyId"})}),"\n",(0,s.jsxs)(n.p,{children:["Die Zugangs-Schl\xfcssel-ID ist ein Identifikator f\xfcr dein AWS-Konto. Um deine Zugangs-Schl\xfcssel-ID f\xfcr dein AWS-Konto zu finden, folge der offiziellen ",(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html#Using_CreateAccessKey",children:"AWS Zugangs-Schl\xfcssel-ID-Dokumentation"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"accesssecretkey",children:(0,s.jsx)(n.code,{children:"accessSecretKey"})}),"\n",(0,s.jsxs)(n.p,{children:["Der geheime Zugangsschl\xfcssel wird zusammen mit der Zugangs-Schl\xfcssel-ID verwendet, um programmatische Anfragen zu signieren. Um deinen geheimen Zugangsschl\xfcssel f\xfcr dein AWS-Konto zu finden, folge der offiziellen ",(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html#Using_CreateAccessKey",children:"AWS geheime Zugangsschl\xfcssel-Dokumentation"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"bucket",children:(0,s.jsx)(n.code,{children:"bucket"})}),"\n",(0,s.jsxs)(n.p,{children:["Der Bucket ist ein Container f\xfcr Objekte, die in Amazon S3 gespeichert sind. Um einen Bucket zu erstellen, folge der offiziellen ",(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/creating-buckets.html",children:"AWS S3 Bucket-Dokumentation"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"region",children:(0,s.jsx)(n.code,{children:"region"})}),"\n",(0,s.jsx)(n.p,{children:"Optional."}),"\n",(0,s.jsxs)(n.p,{children:["Die Region ist die geografische Region, in der sich der AWS S3-Bucket befindet. Wenn ",(0,s.jsx)(n.code,{children:"endpoint"})," ein standardm\xe4\xdfiger AWS S3-Endpunkt ist, kann er aus ",(0,s.jsx)(n.code,{children:"endpoint"})," analysiert werden. Um deine AWS S3-Region zu finden, folge der offiziellen ",(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/general/latest/gr/s3.html",children:"AWS S3 Region-Dokumentation"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Wenn du einen S3-kompatiblen Speicherdienst verwendest, kannst du dieses Feld leer lassen."}),"\n",(0,s.jsx)(n.h4,{id:"endpoint",children:(0,s.jsx)(n.code,{children:"endpoint"})}),"\n",(0,s.jsx)(n.p,{children:"Optional."}),"\n",(0,s.jsxs)(n.p,{children:["Der Endpunkt ist die URL, die verwendet wird, um auf den AWS S3-Dienst zuzugreifen. Um deinen AWS S3-Endpunkt zu finden, folge der offiziellen ",(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/general/latest/gr/s3.html",children:"AWS S3 Endpunkt-Dokumentation"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Du kannst dieses Feld leer lassen, um den standardm\xe4\xdfigen Endpunkt f\xfcr die Region zu verwenden. Wenn du einen S3-kompatiblen Speicherdienst verwendest, kannst du den Endpunkt des Dienstes verwenden."}),"\n",(0,s.jsx)(n.h4,{id:"publicurl-1",children:(0,s.jsx)(n.code,{children:"publicUrl"})}),"\n",(0,s.jsx)(n.p,{children:"Optional."}),"\n",(0,s.jsx)(n.p,{children:"Die \xf6ffentliche URL ist die URL, die verwendet werden kann, um auf die Speicherressource \xf6ffentlich zuzugreifen. Wenn du kein CDN verwendest, kannst du es leer lassen, um die standardm\xe4\xdfige URL von S3 Storage zu verwenden."}),"\n",(0,s.jsx)(n.h2,{id:"google-cloud-storage",children:"Google Cloud Storage"}),"\n",(0,s.jsx)(n.p,{children:"Google Cloud Storage ist ein Cloud-Speicherdienst, der Objektspeicherung \xfcber eine Webdienstschnittstelle bietet. Die folgende Anleitung zeigt dir, wie du Google Cloud Storage als Speicheranbieter f\xfcr Logto konfigurierst."}),"\n",(0,s.jsx)(n.h3,{id:"voraussetzungen-2",children:"Voraussetzungen"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ein Google Cloud-Projekt"}),"\n",(0,s.jsxs)(n.li,{children:["Ein Bucket, siehe die offizielle Google Cloud-Dokumentation: ",(0,s.jsx)(n.a,{href:"https://cloud.google.com/storage/docs/creating-buckets",children:"https://cloud.google.com/storage/docs/creating-buckets"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"erhalte-die-schl\xfcsseldatei",children:"Erhalte die Schl\xfcsseldatei"}),"\n",(0,s.jsx)(n.p,{children:'Google Cloud SDKs verwenden h\xe4ufig eine "Schl\xfcsseldatei". Wenn du mit Google Cloud nicht vertraut bist, k\xf6nnte dies der herausforderndste Teil sein. So erh\xe4ltst du sie:'}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Gehe zur Servicekonto-Seite: ",(0,s.jsx)(n.a,{href:"https://console.cloud.google.com/iam-admin/serviceaccounts",children:"https://console.cloud.google.com/iam-admin/serviceaccounts"})]}),"\n",(0,s.jsx)(n.li,{children:"Erstelle ein Konto, gib einen Namen ein und fahre dann fort."}),"\n",(0,s.jsx)(n.li,{children:'W\xe4hle im n\xe4chsten Schritt die Rolle "Storage Object User". Du kannst sie mit dem Filter finden.'}),"\n",(0,s.jsx)(n.li,{children:'Sobald du das Konto erstellt hast, gehe zur Kontodetailseite und w\xe4hle den Tab "Schl\xfcssel".'}),"\n",(0,s.jsx)(n.li,{children:'Klicke auf "Schl\xfcssel hinzuf\xfcgen", w\xe4hle "Neuen Schl\xfcssel erstellen", w\xe4hle im Dialog "json" und lade dann deine json-Datei herunter.'}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"f\xfcge-die-schl\xfcsseldatei-zu-logto-hinzu",children:"F\xfcge die Schl\xfcsseldatei zu Logto hinzu"}),"\n",(0,s.jsx)(n.p,{children:"Logto sollte Zugriff auf die Schl\xfcsseldatei haben."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ausf\xfchrung in Node.js"})}),"\n",(0,s.jsxs)(n.p,{children:["Kopiere die Datei nach ",(0,s.jsx)(n.code,{children:"/path/to/logto/core"})," und benenne sie in ",(0,s.jsx)(n.code,{children:"google-storage-key.json"})," um."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ausf\xfchrung in einem Docker-Container"})}),"\n",(0,s.jsx)(n.p,{children:"Wenn du Logto in einem Docker-Container ausf\xfchrst, musst du die Datei in den Container einbinden. Angenommen, du verwendest Docker Compose, f\xfcge dies zu deiner Konfiguration hinzu:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"volumes:\n  - ./path/to/google-storage-key.json:/etc/logto/core/google-storage-key.json\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Denke daran, ",(0,s.jsx)(n.code,{children:"/path/to"})," durch den tats\xe4chlichen Pfad zu ersetzen."]}),"\n",(0,s.jsx)(n.h3,{id:"konfiguration-mit-cli-2",children:"Konfiguration mit CLI"}),"\n",(0,s.jsx)(n.p,{children:"Beispielverwendung:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'pnpm logto db system set storageProvider \'{"provider":"GoogleStorage","projectId":"psychic-trainer-403801","keyFilename":"google-storage-key.json","bucketName":"logto-test2"}\'\n'})}),"\n",(0,s.jsx)(n.h4,{id:"projectid",children:(0,s.jsx)(n.code,{children:"projectId"})}),"\n",(0,s.jsx)(n.p,{children:"Deine Google Cloud-Projekt-ID."}),"\n",(0,s.jsx)(n.h4,{id:"keyfilename",children:(0,s.jsx)(n.code,{children:"keyFilename"})}),"\n",(0,s.jsxs)(n.p,{children:["Der Name der Schl\xfcsseldatei, wenn du die obigen Schritte befolgst, dann ist es ",(0,s.jsx)(n.code,{children:"google-storage-key.json"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"bucketname",children:(0,s.jsx)(n.code,{children:"bucketName"})}),"\n",(0,s.jsx)(n.p,{children:"Der Bucket-Name."}),"\n",(0,s.jsx)(n.h4,{id:"publicurl-2",children:(0,s.jsx)(n.code,{children:"publicUrl"})}),"\n",(0,s.jsx)(n.p,{children:"Optional."}),"\n",(0,s.jsx)(n.p,{children:"Die \xf6ffentliche URL ist die URL, die verwendet werden kann, um auf die Speicherressource \xf6ffentlich zuzugreifen. Wenn du kein CDN verwendest, kannst du es leer lassen, um die standardm\xe4\xdfige URL von S3 Storage zu verwenden."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},15658:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>d});var r=i(30758);const s={},o=r.createContext(s);function t(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);