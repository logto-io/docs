"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[30975],{49613:function(t,e,n){n.d(e,{Zo:function(){return d},kt:function(){return N}});var a=n(59496);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var k=a.createContext({}),o=function(t){var e=a.useContext(k),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},d=function(t){var e=o(t.components);return a.createElement(k.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},u=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,k=t.parentName,d=p(t,["components","mdxType","originalType","parentName"]),u=o(n),N=r,s=u["".concat(k,".").concat(N)]||u[N]||m[N]||l;return n?a.createElement(s,i(i({ref:e},d),{},{components:n})):a.createElement(s,i({ref:e},d))}));function N(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=u;var p={};for(var k in e)hasOwnProperty.call(e,k)&&(p[k]=e[k]);p.originalType=t,p.mdxType="string"==typeof t?t:r,i[1]=p;for(var o=2;o<l;o++)i[o]=n[o];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},69149:function(t,e,n){n.r(e),n.d(e,{assets:function(){return b},contentTitle:function(){return y},default:function(){return T},frontMatter:function(){return c},metadata:function(){return h},toc:function(){return C}});var a=n(665),r=n(40151),l=(n(59496),n(49613)),i=["components"],p={toc:[]};function k(t){var e=t.components,n=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,a.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("details",null,(0,l.kt)("summary",null,"fetchOidcConfig"),(0,l.kt)("p",null,"Return ",(0,l.kt)("inlineCode",{parentName:"p"},"OidcConfigResponse")," by requesting to ",(0,l.kt)("inlineCode",{parentName:"p"},"/oidc/.well-known/openid-configuration"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"endpoint"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"The OIDC service endpoint")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Return Type")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"OidcConfigResponse")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Throws")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Fetch failed"))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"generateSignInUri"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"authorizationEndpoint"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"clientId"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"redirectUri"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"codeChallenge"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"state"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"scopes"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string[]")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"The implementation may vary according to language specifications.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"resources"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string[]")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"The implementation may vary according to language specifications.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"prompt"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Default: ",(0,l.kt)("inlineCode",{parentName:"td"},"consent"),".")))),(0,l.kt)("p",null,"The URL will be generated based on ",(0,l.kt)("inlineCode",{parentName:"p"},"authorizationEndpoint")," and contains the following query params:"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Sign-In Url Query Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Query Key"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"client_id"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"redirect_uri"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"code_challenge"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"code_challenge_method"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"Hardcoded as S256.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"state"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"scope"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"scope always contains openid and offline_access, even the input scope provides a null or empty scope value.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"resource"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"We can add resource to uri more than once, the backend will convert them as a list. e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},"resource=a&resource=b"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"response_type"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"Hardcoded as code.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"prompt"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Return Type")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"string"))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"generateSignOutUri"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"endSessionEndpoint"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"idToken"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"postLogoutRedirectUri"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,"The URL to be generated will be based on ",(0,l.kt)("inlineCode",{parentName:"p"},"endSessionEndpoint")," and contain the following query parameters:"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Sign-Out Url Query Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Query Key"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id_token_hint"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null},"the inputed ",(0,l.kt)("inlineCode",{parentName:"td"},"idToken")," parameter")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"post_logout_redirect_uri"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"the inputed ",(0,l.kt)("inlineCode",{parentName:"td"},"postLogoutRedirectUri")," parameter")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Return Type")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"string"))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"fetchTokenByAuthorizationCode"),(0,l.kt)("p",null,"Fetch a token (",(0,l.kt)("inlineCode",{parentName:"p"},"CodeTokenResponse"),") by requesting to ",(0,l.kt)("inlineCode",{parentName:"p"},"/oidc/token")," (by authorization code)."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"tokenEndpoint"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"code"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"codeVerifier"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"clientId"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"redirectUri"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"resource"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"HTTP Request")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Endpoint: ",(0,l.kt)("inlineCode",{parentName:"li"},"/oidc/token")),(0,l.kt)("li",{parentName:"ul"},"Method: ",(0,l.kt)("inlineCode",{parentName:"li"},"POST")),(0,l.kt)("li",{parentName:"ul"},"Content-Type: ",(0,l.kt)("inlineCode",{parentName:"li"},"application/x-www-form-urlencoded")),(0,l.kt)("li",{parentName:"ul"},"Payload:")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Query Key"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"grant_type"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string: 'authorization_code'")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"code"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"code_verifier"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"client_id"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"redirect_uri"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"resource"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Return Type")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"CodeTokenResponse")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Throws")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Fetch failed"))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"fetchTokenByRefreshToken"),(0,l.kt)("p",null,"Fetch a token (",(0,l.kt)("inlineCode",{parentName:"p"},"RefreshTokenTokenResponse"),") via ",(0,l.kt)("inlineCode",{parentName:"p"},"/oidc/token")," (by refresh token)."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"tokenEndpoint"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"clientId"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"refreshToken"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"resource"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"scopes"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string[]")),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"HTTP Request")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Endpoint: ",(0,l.kt)("inlineCode",{parentName:"li"},"/oidc/token")),(0,l.kt)("li",{parentName:"ul"},"Method: ",(0,l.kt)("inlineCode",{parentName:"li"},"POST")),(0,l.kt)("li",{parentName:"ul"},"Content-Type: ",(0,l.kt)("inlineCode",{parentName:"li"},"application/x-www-form-urlencoded")),(0,l.kt)("li",{parentName:"ul"},"Payload:")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Query Key"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"grant_type"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string: 'refresh_token'")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"refresh_token"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"client_id"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"resource"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"scope"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"we join the ",(0,l.kt)("inlineCode",{parentName:"td"},"scopes")," values with space to construct this ",(0,l.kt)("inlineCode",{parentName:"td"},"scope")," string")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Return Type")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"RefreshTokenTokenResponse")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Throws")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Fetch failed"))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"revoke"),(0,l.kt)("p",null,"Request to ",(0,l.kt)("inlineCode",{parentName:"p"},"/oidc/token/revocation")," API to notify the authorization server that a previously obtained refresh or access token is no longer needed."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"revocationEndpoint"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"clientId"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"token"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"token to be revoked")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"HTTP Request")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Endpoint: ",(0,l.kt)("inlineCode",{parentName:"li"},"/oidc/token/revocation")),(0,l.kt)("li",{parentName:"ul"},"Method: ",(0,l.kt)("inlineCode",{parentName:"li"},"POST")),(0,l.kt)("li",{parentName:"ul"},"Content-Type: ",(0,l.kt)("inlineCode",{parentName:"li"},"application/x-www-form-urlencoded")),(0,l.kt)("li",{parentName:"ul"},"Payload:")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Query Key"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"client_id"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"token"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Return Type")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"void")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Throws")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Revoke failed"))))}k.isMDXComponent=!0;var o=["components"],d={toc:[]};function m(t){var e=t.components,n=(0,r.Z)(t,o);return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("details",null,(0,l.kt)("summary",null,"OidcConfigResponse"),(0,l.kt)("p",null,"The configuration of the identity provider, which can be retrieved via ",(0,l.kt)("inlineCode",{parentName:"p"},"/oidc/.well-known/openid-configuration")," API."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Properties")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"authorizationEndpoint"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"tokenEndpoint"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"endSessionEndpoint"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"revocationEndpoint"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jwksUri"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"issuer"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")))))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"CodeTokenResponse"),(0,l.kt)("p",null,"The response data of ",(0,l.kt)("inlineCode",{parentName:"p"},"/oidc/token")," (by authorization code)."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Properties")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"accessToken"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"refreshToken"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"idToken"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"scope"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"expiresIn"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"number")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"))))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"RefreshTokenResponse"),(0,l.kt)("p",null,"The response data of ",(0,l.kt)("inlineCode",{parentName:"p"},"/oidc/token")," (by refresh token) when refreshing tokens by a refresh token."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Properties")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"accessToken"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"refreshToken"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"idToken"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"scope"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"expiresIn"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"number")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705"))))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"IdTokenClaims"),(0,l.kt)("p",null,"Claims carried by the id token."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Properties")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"sub"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"aud"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"exp"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"number")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"iat"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"number")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"iss"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"atHash"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"username"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"name"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"avatar"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null}))))))}m.isMDXComponent=!0;var u=["components"],N={toc:[]};function s(t){var e=t.components,n=(0,r.Z)(t,u);return(0,l.kt)("wrapper",(0,a.Z)({},N,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("details",null,(0,l.kt)("summary",null,"generateCodeVerifier"),(0,l.kt)("p",null,"Generate a code verifier.",(0,l.kt)("br",{parentName:"p"}),"\n","The length of the code verifier is hardcoded as 64.",(0,l.kt)("br",{parentName:"p"}),"\n","The return value MUST be encrypted to an URL-safe base64 format string."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Reference")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://oauth.net/2/pkce/"},"PKCE"))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("p",null,"None."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Return Type")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"string"))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"generateCodeChallenge"),(0,l.kt)("p",null,"Generate a code challenge based on a code verifier.",(0,l.kt)("br",{parentName:"p"}),"\n","This method encrypts the code verifier and returns the result in a URL-safe Base64 format.",(0,l.kt)("br",{parentName:"p"}),"\n","We hardcode the encryption algorithm as ",(0,l.kt)("inlineCode",{parentName:"p"},"SHA-256")," in Logto V1."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Reference")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://oauth.net/2/pkce/"},"PKCE"))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"codeVerifier"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Generated by ",(0,l.kt)("a",{parentName:"td",href:"#generatecodeverifier"},"generateCodeVerifier"))))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Return Type")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"string"))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"generateState"),(0,l.kt)("p",null,'"State" is used to prevent the CSRF attack.',(0,l.kt)("br",{parentName:"p"}),"\n",'The length of the "state" is hardcoded as 64.',(0,l.kt)("br",{parentName:"p"}),"\n","The result string to be returned MUST be encrypted to an URL-safe base64 format string."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Reference")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://datatracker.ietf.org/doc/html/rfc6749#section-10.12"},"CSRF"))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("p",null,"None."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Return Type")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"string"))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"decodeIdToken"),(0,l.kt)("p",null,"Decode an ID Token without secret verification.",(0,l.kt)("br",{parentName:"p"}),"\n","Return an ",(0,l.kt)("inlineCode",{parentName:"p"},"IdTokenClaims")," which carries all the token claims in the payload section."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"token"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Return Type")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"IdTokenClaims")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Throws")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The ",(0,l.kt)("inlineCode",{parentName:"li"},"token")," is not a valid JWT."))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"verifyIdToken"),(0,l.kt)("p",null,"Verify if an ID Token is legal."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Verify Signing Key")),(0,l.kt)("p",null,"OIDC supported the JSON Web Key Set.\nThis function accepts a ",(0,l.kt)("inlineCode",{parentName:"p"},"JsonWebKeySet")," object from a 3rd-party library (jose) for verification."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsonc"},'// JsonWebKeySet example\n{\n  "keys": [\n    {\n      "kty": "RSA",\n      "use": "sig",\n      "kid": "xxxx",\n      "e": "xxxx",\n      "n": "xxxx"\n    }\n  ]\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Verify Claims")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Verify the ",(0,l.kt)("inlineCode",{parentName:"li"},"iss")," in the ID Token matches the issuer of this token."),(0,l.kt)("li",{parentName:"ul"},"Verify the ",(0,l.kt)("inlineCode",{parentName:"li"},"aud")," (audience) Claim is equal to the client ID."),(0,l.kt)("li",{parentName:"ul"},"Verify that the current time is before the expiry time."),(0,l.kt)("li",{parentName:"ul"},"Verify that the issued at time (",(0,l.kt)("inlineCode",{parentName:"li"},"iat"),") is not more than +/- 1 minute on the current time.")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Reference")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation"},"OpenID connect core - ID Token Validation"))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"idToken"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"clientId"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"issuer"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jwks"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"JsonWebKeySet"))))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Return Type")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"void")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Throws")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Verify signing key failed"),(0,l.kt)("li",{parentName:"ul"},"Verify claims failed"))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"verifyAndParseCodeFromCallbackUri"),(0,l.kt)("p",null,"Verify the sign-in callbackUri is legal and return the ",(0,l.kt)("inlineCode",{parentName:"p"},"code")," extracted from callbackUri."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Verify Callback URI")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Verify the ",(0,l.kt)("inlineCode",{parentName:"li"},"callbackUri")," should start with ",(0,l.kt)("inlineCode",{parentName:"li"},"redirectUri")),(0,l.kt)("li",{parentName:"ul"},"Verify there is no ",(0,l.kt)("inlineCode",{parentName:"li"},"error")," in the ",(0,l.kt)("inlineCode",{parentName:"li"},"callbackUri")," (Refer to ",(0,l.kt)("a",{parentName:"li",href:"https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.2.1"},"Error Response")," in redirect URI)."),(0,l.kt)("li",{parentName:"ul"},"Verify the ",(0,l.kt)("inlineCode",{parentName:"li"},"callbackUri")," contains ",(0,l.kt)("inlineCode",{parentName:"li"},"state"),", which should equal to the ",(0,l.kt)("inlineCode",{parentName:"li"},"state")," value you specified in ",(0,l.kt)("inlineCode",{parentName:"li"},"generateSignInUri"),"."),(0,l.kt)("li",{parentName:"ul"},"Verify the ",(0,l.kt)("inlineCode",{parentName:"li"},"callbackUri")," contains the parameter value ",(0,l.kt)("inlineCode",{parentName:"li"},"code"),", which you will use when requesting to ",(0,l.kt)("inlineCode",{parentName:"li"},"/oidc/token")," (by refresh token).")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"callbackUri"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"redirectUri"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"state"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"))))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Return Type")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"string")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Throws")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Verifications failed"))))}s.isMDXComponent=!0;var g=["components"],c={sidebar_position:1.2},y="Core",h={unversionedId:"docs/references/sdk-convention/core-sdk-convention",id:"version-1.x/docs/references/sdk-convention/core-sdk-convention",title:"Core",description:"Basic Conventions",source:"@site/versioned_docs/version-1.x/docs/references/sdk-convention/core-sdk-convention.mdx",sourceDirName:"docs/references/sdk-convention",slug:"/docs/references/sdk-convention/core-sdk-convention",permalink:"/docs/references/sdk-convention/core-sdk-convention",draft:!1,editUrl:"https://github.com/logto-io/docs/tree/master/versioned_docs/version-1.x/docs/references/sdk-convention/core-sdk-convention.mdx",tags:[],version:"1.x",sidebarPosition:1.2,frontMatter:{sidebar_position:1.2},sidebar:"docsSidebar",previous:{title:"Design Strategy",permalink:"/docs/references/sdk-convention/design-strategy"},next:{title:"Platform SDK",permalink:"/docs/references/sdk-convention/platform-sdk-convention"}},b={},C=[{value:"Basic Conventions",id:"basic-conventions",level:2},{value:"Basic Requirements",id:"basic-requirements",level:2},{value:"Types",id:"types",level:3},{value:"Utility Functions",id:"utility-functions",level:3},{value:"Core Functions",id:"core-functions",level:3}],f={toc:C};function T(t){var e=t.components,n=(0,r.Z)(t,g);return(0,l.kt)("wrapper",(0,a.Z)({},f,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"core"},"Core"),(0,l.kt)("h2",{id:"basic-conventions"},"Basic Conventions"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The core should contain platform-independent functions only."),(0,l.kt)("li",{parentName:"ul"},"The core should be named as ",(0,l.kt)("inlineCode",{parentName:"li"},"{$language}")," and under the repository root directory. E.g., ",(0,l.kt)("inlineCode",{parentName:"li"},"logto/js/js"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"logto/kotlin/kotlin"),"."),(0,l.kt)("li",{parentName:"ul"},"The core package should be named as ",(0,l.kt)("inlineCode",{parentName:"li"},"{$language}")," under Logto scope. E.g., ",(0,l.kt)("inlineCode",{parentName:"li"},"@logto/js"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"io.logto.sdk:kotlin"),".")),(0,l.kt)("h2",{id:"basic-requirements"},"Basic Requirements"),(0,l.kt)("p",null,"Any core SDK should contain:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Types"),(0,l.kt)("li",{parentName:"ul"},"Utility functions"),(0,l.kt)("li",{parentName:"ul"},"Core functions")),(0,l.kt)("h3",{id:"types"},"Types"),(0,l.kt)(m,{mdxType:"CoreTypes"}),(0,l.kt)("h3",{id:"utility-functions"},"Utility Functions"),(0,l.kt)(s,{mdxType:"CoreUtilityFunctions"}),(0,l.kt)("h3",{id:"core-functions"},"Core Functions"),(0,l.kt)(k,{mdxType:"CoreFunctions"}))}T.isMDXComponent=!0}}]);