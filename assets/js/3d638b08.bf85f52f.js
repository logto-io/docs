"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[29397],{74321:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var n=s(86070),t=s(76113);const r={sidebar_position:1},o="Configure MFA",a={id:"docs/recipes/multi-factor-auth/configure-mfa",title:"Configure MFA",description:"Configure MFA in Logto",source:"@site/docs/docs/recipes/multi-factor-auth/configure-mfa.md",sourceDirName:"docs/recipes/multi-factor-auth",slug:"/docs/recipes/multi-factor-auth/configure-mfa",permalink:"/docs/recipes/multi-factor-auth/configure-mfa",draft:!1,unlisted:!1,editUrl:"https://github.com/logto-io/docs/tree/master/docs/docs/recipes/multi-factor-auth/configure-mfa.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docsSidebar",previous:{title:"\ud83d\udee1\ufe0f Multi-factor authentication",permalink:"/docs/recipes/multi-factor-auth/"},next:{title:"Authenticator app OTP",permalink:"/docs/recipes/multi-factor-auth/authenticator-app-otp"}},c={},l=[{value:"Configure MFA in Logto",id:"configure-mfa-in-logto",level:2},{value:"Universal authentication flows for MFA",id:"universal-authentication-flows-for-mfa",level:2},{value:"MFA set-up flows",id:"mfa-set-up-flows",level:3},{value:"MFA sign-in flow",id:"mfa-sign-in-flow",level:3}];function h(e){const i={a:"a",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h1,{id:"configure-mfa",children:"Configure MFA"}),"\n",(0,n.jsx)(i.h2,{id:"configure-mfa-in-logto",children:"Configure MFA in Logto"}),"\n",(0,n.jsx)(i.p,{children:"To configure your MFA in the Logto Console, follow these steps:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:'Navigate to the "Multi-factor auth" in the Logto Console.'}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Enable the Factors for 2-step verification"})," available for users. You have the following options:","\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Primary factors"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"../authenticator-app-otp",children:"Authenticator App OTP"}),": This is the most common and widely accepted method."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"../webauthn",children:"WebAuthn (Passkeys)"}),": A high-security option suitable for web products supporting device biometrics or security keys, etc., ensuring robust protection."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Backup factors"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"../backup-codes",children:"Backup codes"}),": This serves as a backup option when users can't verify any of the primary factors mentioned above. Enabling this option reduces friction for users' access successfully."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Select a 2-step verification policy"})," after enabling factors. There are two choices:","\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"User-controlled MFA"}),": Users can enable or disable MFA on their own.","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"After saving changes, during new users\u2019 sign-up or old users\u2019 first sign-in, users can choose to set up MFA voluntarily or skip it, and this set-up flow will only occur once per user."}),"\n",(0,n.jsxs)(i.li,{children:["Or the user can enable/disable it in the User Account Settings of your apps which can be integrated by Logto ",(0,n.jsx)(i.a,{href:"/docs/recipes/interact-with-management-api/",children:"Management API"}),"."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Mandatory MFA"}),": Users are always required to use MFA at sign-in.","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Users must set up MFA the first time at sign-in or sign-up, and use it for all future sign-ins."}),"\n",(0,n.jsxs)(i.li,{children:["Users can also change it in the User Account Settings of your apps which can be integrated by Logto ",(0,n.jsx)(i.a,{href:"/docs/recipes/interact-with-management-api/",children:"Management API"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"Configure MFA",src:s(4559).A+"",width:"3010",height:"1456"})}),"\n",(0,n.jsx)(i.h2,{id:"universal-authentication-flows-for-mfa",children:"Universal authentication flows for MFA"}),"\n",(0,n.jsx)(i.p,{children:"When MFA is enabled, the second-step verification flow will typically operate after the first-step verification. The MFA set-up flow will also take place after users have set up their first verification factors, such as a password or email verification code."}),"\n",(0,n.jsx)(i.h3,{id:"mfa-set-up-flows",children:"MFA set-up flows"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["Users will set up the primary factors (Authenticator app OTP or Passkeys) after registering or signing in with the first factor.","\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"If multiple primary factors are provided, users need to select their preferred primary factor and set it up."}),"\n",(0,n.jsx)(i.li,{children:"If only a single primary factor is provided, users will be asked to set it up directly."}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(i.li,{children:"Users can save backup codes if this option is enabled."}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"If the Mandatory MFA policy is configured, users must set up MFA. If the user-controlled MFA policy is configured, users can skip these flows, and they will only occur once."}),"\n",(0,n.jsx)(i.p,{children:"If MFA is removed for some users, don't worry. Logto will prompt them to set up MFA again during their next sign-in."}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"MFA set-up flows",src:s(48695).A+"",width:"4108",height:"3018"})}),"\n",(0,n.jsx)(i.h3,{id:"mfa-sign-in-flow",children:"MFA sign-in flow"}),"\n",(0,n.jsx)(i.p,{children:"Users who have already set up MFA will be asked to verify the second factor after verifying the first factor during sign-in. The verification method will depend on the configuration in the Logto Console and the user settings."}),"\n",(0,n.jsx)(i.p,{children:"If a user has set up only one factor, they will verify it directly."}),"\n",(0,n.jsx)(i.p,{children:"If a user has set up multiple factors as 2FA, they will need to choose one to verify. For user convenience, during the next sign-in, they will be directly redirected to the last-used factor for a faster sign-in process."}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"MFA sign-in flow",src:s(62503).A+"",width:"4108",height:"2546"})})]})}function d(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},4559:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/configure-mfa-0cb50b342c37a3c463725af83142fa49.webp"},48695:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/mfa-set-up-flows-4285dcb004dc2186db1436141a68acb7.webp"},62503:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/mfa-sign-in-flow-6aa61ab4ec6e98ef2ad6148017dfedd9.webp"},76113:(e,i,s)=>{s.d(i,{R:()=>o,x:()=>a});var n=s(30758);const t={},r=n.createContext(t);function o(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),n.createElement(r.Provider,{value:i},e.children)}}}]);