"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[59696],{90169:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"integrations/email/aliyun-dm/README","title":"Set up email verification with Aliyun Direct Mail","description":"The official Logto connector for Aliyun connector for direct mail service.","source":"@site/docs/integrations/email/aliyun-dm/README.mdx","sourceDirName":"integrations/email/aliyun-dm","slug":"/integrations/aliyun-dm","permalink":"/integrations/aliyun-dm","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/integrations/email/aliyun-dm/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/integrations/aliyun-dm","sidebar_label":"Aliyun Direct Mail","sidebar_custom_props":{"description":"Aliyun provides cloud computing services to online businesses.","logoFilename":"aliyun.svg"}},"sidebar":"integrationsSidebar","previous":{"title":"WeCom","permalink":"/integrations/wecom"},"next":{"title":"AWS Direct Mail","permalink":"/integrations/aws-ses"}}');var s=i(86070),r=i(15658),o=i(57295);const l={slug:"/integrations/aliyun-dm",sidebar_label:"Aliyun Direct Mail",sidebar_custom_props:{description:"Aliyun provides cloud computing services to online businesses.",logoFilename:"aliyun.svg"}},c="Set up email verification with Aliyun Direct Mail",a={},d=[...o.RM,{value:"Get started",id:"get-started",level:2},{value:"Set up an email service in Aliyun DirectMail Console",id:"set-up-an-email-service-in-aliyun-directmail-console",level:2},{value:"Create an Aliyun account",id:"create-an-aliyun-account",level:3},{value:"Enable and configure Aliyun Direct Mail",id:"enable-and-configure-aliyun-direct-mail",level:3},{value:"Compose the connector JSON",id:"compose-the-connector-json",level:2},{value:"Test Aliyun DM connector",id:"test-aliyun-dm-connector",level:3},{value:"Config types",id:"config-types",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"set-up-email-verification-with-aliyun-direct-mail",children:"Set up email verification with Aliyun Direct Mail"})}),"\n",(0,s.jsx)(n.p,{children:"The official Logto connector for Aliyun connector for direct mail service."}),"\n",(0,s.jsx)(o.Ay,{}),"\n",(0,s.jsx)(n.h2,{id:"get-started",children:"Get started"}),"\n",(0,s.jsx)(n.p,{children:"Aliyun is a primary cloud service provider in Asia, offering many cloud services, including DM (direct mail). Aliyun DM Connector is a plugin provided by the Logto team to call the Aliyun DM service APIs, with the help of which Logto end-users can register and sign in to their Logto account via mail verification code (or in other words, verification code)."}),"\n",(0,s.jsx)(n.h2,{id:"set-up-an-email-service-in-aliyun-directmail-console",children:"Set up an email service in Aliyun DirectMail Console"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\ud83d\udca1 ",(0,s.jsx)(n.strong,{children:"Tip"})]}),"\n",(0,s.jsx)(n.p,{children:"You can skip some sections if you have already finished."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"create-an-aliyun-account",children:"Create an Aliyun account"}),"\n",(0,s.jsxs)(n.p,{children:["Head to ",(0,s.jsx)(n.a,{href:"https://aliyun.com/",children:"Aliyun"})," and create your Aliyun account if you don't have one."]}),"\n",(0,s.jsx)(n.h3,{id:"enable-and-configure-aliyun-direct-mail",children:"Enable and configure Aliyun Direct Mail"}),"\n",(0,s.jsxs)(n.p,{children:["Go to the ",(0,s.jsx)(n.a,{href:"https://www.aliyun.com/product/directmail",children:"DM service console page"}),' and sign in. Enable the Direct Mail service by clicking the "Apply to enable" (\u7533\u8bf7\u5f00\u901a) button on the top left of the page and begin the configuration process.']}),"\n",(0,s.jsxs)(n.p,{children:["Starting from the ",(0,s.jsx)(n.a,{href:"https://dm.console.aliyun.com/",children:"DM admin console page"}),", you should:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Go to "Email Domains" (\u53d1\u4fe1\u57df\u540d) from the sidebar and add "New Domain" (\u65b0\u5efa\u57df\u540d) following the instructions.'}),"\n",(0,s.jsx)(n.li,{children:'Customize "Sender Addresses" (\u53d1\u4fe1\u5730\u5740) and "Email Tags" (\u90ae\u4ef6\u6807\u7b7e) respectively.'}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"After finishing setup, there are two different ways to test:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Go to the ",(0,s.jsx)(n.a,{href:"https://dm.console.aliyun.com/",children:"DirectMail Overview page"}),', find "Operation Guide" (\u64cd\u4f5c\u5f15\u5bfc) at the bottom of the page, and click on "Send Emails" (\u53d1\u9001\u90ae\u4ef6). You will find all the different kinds of testing methods.']}),"\n",(0,s.jsx)(n.li,{children:'Follow the path "Send Emails" (\u53d1\u9001\u90ae\u4ef6) -> "Email Tasks" (\u53d1\u9001\u90ae\u4ef6) in the sidebar to create a testing task.'}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"compose-the-connector-json",children:"Compose the connector JSON"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["From the ",(0,s.jsx)(n.a,{href:"https://dm.console.aliyun.com/",children:"DM admin console page"}),', hover on your avatar in the top right corner and go to "AccessKey Management" (AccessKey \u7ba1\u7406), and click "Create AccessKey" (\u521b\u5efa AccessKey). You will get an "AccessKey ID" and "AccessKey Secret" pair after finishing security verification. Please keep them properly.']}),"\n",(0,s.jsxs)(n.li,{children:['Go to the "Sender Addresses" (\u53d1\u4fe1\u5730\u5740) or "Email Tags" (\u90ae\u4ef6\u6807\u7b7e) tab you just visited from the ',(0,s.jsx)(n.a,{href:"https://dm.console.aliyun.com/",children:"DM admin console page"}),", you can find ",(0,s.jsx)(n.em,{children:"Sender Address"})," or ",(0,s.jsx)(n.em,{children:"Email Tag"})," easily."]}),"\n",(0,s.jsxs)(n.li,{children:["Fill out the Aliyun DM Connector settings:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Fill out the ",(0,s.jsx)(n.code,{children:"accessKeyId"})," and ",(0,s.jsx)(n.code,{children:"accessKeySecret"})," fields with access key pairs you've got from step 1."]}),"\n",(0,s.jsxs)(n.li,{children:["Fill out the ",(0,s.jsx)(n.code,{children:"accountName"})," and ",(0,s.jsx)(n.code,{children:"fromAlias"}),' field with "Sender Address" and "Email Tag" which were found in step 2. All templates will share this signature name. (You can leave ',(0,s.jsx)(n.code,{children:"fromAlias"})," blank as it is OPTIONAL.)"]}),"\n",(0,s.jsxs)(n.li,{children:["You can add multiple DM connector templates for different cases. Here is an example of adding a single template:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Fill out the ",(0,s.jsx)(n.code,{children:"subject"})," field, which will work as title of the sending email."]}),"\n",(0,s.jsxs)(n.li,{children:["Fill out the ",(0,s.jsx)(n.code,{children:"content"})," field with arbitrary string-type contents. Do not forget to leave ",(0,s.jsx)(n.code,{children:"{{code}}"})," placeholder for random verification code."]}),"\n",(0,s.jsxs)(n.li,{children:["Fill out ",(0,s.jsx)(n.code,{children:"usageType"})," field with either ",(0,s.jsx)(n.code,{children:"Register"}),", ",(0,s.jsx)(n.code,{children:"SignIn"}),", ",(0,s.jsx)(n.code,{children:"ForgotPassword"})," or ",(0,s.jsx)(n.code,{children:"Generic"})," for different use cases. (",(0,s.jsx)(n.code,{children:"usageType"})," is a Logto property to identify the proper use case.) In order to enable full user flows, templates with usageType ",(0,s.jsx)(n.code,{children:"Register"}),", ",(0,s.jsx)(n.code,{children:"SignIn"}),", ",(0,s.jsx)(n.code,{children:"ForgotPassword"})," and ",(0,s.jsx)(n.code,{children:"Generic"})," are required."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"test-aliyun-dm-connector",children:"Test Aliyun DM connector"}),"\n",(0,s.jsx)(n.p,{children:'You can type in an email address and click on "Send" to see whether the settings can work before "Save and Done".'}),"\n",(0,s.jsxs)(n.p,{children:["That's it. Don't forget to ",(0,s.jsx)(n.a,{href:"/connectors/email-connectors/#enable-email-sign-up-or-sign-in",children:"Enable connector in sign-in experience"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"config-types",children:"Config types"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Name"}),(0,s.jsx)(n.th,{children:"Type"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"accessKeyId"}),(0,s.jsx)(n.td,{children:"string"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"accessKeySecret"}),(0,s.jsx)(n.td,{children:"string"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"accountName"}),(0,s.jsx)(n.td,{children:"string"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"fromAlias"}),(0,s.jsx)(n.td,{children:"string (OPTIONAL)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"templates"}),(0,s.jsx)(n.td,{children:"Template[]"})]})]})]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Template Properties"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Enum values"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"subject"}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"N/A"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"content"}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"N/A"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"usageType"}),(0,s.jsx)(n.td,{children:"enum string"}),(0,s.jsx)(n.td,{children:"'Register' | 'SignIn' | 'ForgotPassword' | 'Generic'"})]})]})]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},57295:(e,n,i)=>{i.d(n,{Ay:()=>l,RM:()=>r});var t=i(86070),s=i(15658);const r=[];function o(e){const n={a:"a",admonition:"admonition",p:"p",...(0,s.R)(),...e.components};return(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["In this guide, we assume you have basic knowledge of Logto Connectors. If you don't, check out the ",(0,t.jsx)(n.a,{href:"/connectors",children:"Configure connectors"})," guide to get started."]})})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},15658:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var t=i(30758);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);