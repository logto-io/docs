import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

## Étapes de préparation rapide \{#quick-preparation-steps}

### Configurer les ressources & permissions Logto \{#configure-logto-resources-permissions}

<Tabs groupId="permission-models">
  <TabItem value="global-api-resources" label="Ressources API globales">

    1. **Créer une ressource API :** Rendez-vous sur [Console → Ressources API](https://cloud.logto.io/api-resources) et enregistrez votre API (par exemple, `https://api.votreapp.com`)
    2. **Définir les permissions :** Ajoutez des portées comme `read:products`, `write:orders` – voir [Définir des ressources API avec des permissions](/authorization/role-based-access-control#define-api-resources-with-permissions)
    3. **Créer des rôles globaux :** Rendez-vous sur [Console → Rôles](https://cloud.logto.io/roles) et créez des rôles qui incluent vos permissions API – voir [Configurer des rôles globaux](/authorization/role-based-access-control#configure-global-roles)
    4. **Attribuer des rôles :** Attribuez des rôles aux utilisateurs ou applications M2M qui ont besoin d'accéder à l'API

  </TabItem>
  <TabItem value="organization-permissions" label="Permissions d'organisation (hors API)">

    1. **Définir les permissions d'organisation :** Créez des permissions d'organisation hors API comme `invite:member`, `manage:billing` dans le modèle d'organisation
    2. **Configurer les rôles d'organisation :** Configurez le modèle d'organisation avec des rôles spécifiques à l'organisation et attribuez-leur des permissions
    3. **Attribuer des rôles d'organisation :** Attribuez des utilisateurs aux rôles d'organisation dans chaque contexte d'organisation

  </TabItem>
  <TabItem value="organization-level-api-resources" label="Ressources API au niveau de l'organisation">

    1. **Créer une ressource API :** Enregistrez votre ressource API comme ci-dessus, mais elle sera utilisée dans le contexte d'organisation
    2. **Définir les permissions :** Ajoutez des portées comme `read:data`, `write:settings` qui sont limitées au contexte d'organisation
    3. **Configurer le modèle d'organisation :** Configurez des rôles d'organisation qui incluent les permissions de votre ressource API
    4. **Attribuer des rôles d'organisation :** Attribuez des utilisateurs ou applications M2M à des rôles d'organisation qui incluent des permissions API
    5. **Configuration multi-locataire :** Assurez-vous que votre API peut gérer les données et la validation à l'échelle de l'organisation

  </TabItem>
</Tabs>

:::tip Nouveau sur le RBAC ?
Commencez avec notre [guide du contrôle d’accès basé sur les rôles (RBAC)](/authorization/role-based-access-control) pour des instructions d'installation étape par étape.
:::

### Mettez à jour votre application cliente \{#update-your-client-application}

**Demandez les portées appropriées dans votre client :**

- Authentification utilisateur : [Mettez à jour votre application →](/quick-starts) pour demander les portées de votre API et/ou le contexte d'organisation
- Machine à machine : [Configurer les portées M2M →](/quick-starts/m2m) pour l'accès serveur à serveur

Le processus consiste généralement à mettre à jour la configuration de votre client pour inclure un ou plusieurs des éléments suivants :

- Paramètre `scope` dans les flux OAuth
- Paramètre `resource` pour l'accès à la ressource API
- `organization_id` pour le contexte d'organisation

:::tip Avant de coder
Assurez-vous que l'utilisateur ou l'application M2M que vous testez s'est vu attribuer les rôles ou rôles d'organisation appropriés incluant les permissions nécessaires pour votre API.
:::
