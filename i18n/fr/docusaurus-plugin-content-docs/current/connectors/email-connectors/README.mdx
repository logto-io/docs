---
id: email-connectors
title: Connecteurs email
sidebar_label: Connecteurs email
sidebar_position: 1
---

# Connecteurs email

Un connecteur email intègre votre service de livraison d’e-mails avec Logto pour permettre une vérification sécurisée des utilisateurs par e-mail. Une fois configuré, vous pouvez envoyer des [mots de passe à usage unique (OTP)](https://auth.wiki/otp) pour l’[inscription](/end-user-flows/sign-up-and-sign-in/sign-up) des utilisateurs, la [connexion](/end-user-flows/sign-up-and-sign-in/sign-in), la [réinitialisation du mot de passe](/end-user-flows/sign-up-and-sign-in/reset-password), le [rattachement de compte](/end-user-flows/sign-up-and-sign-in/social-sign-in#account-linking), les [invitations de membres](/end-user-flows/organization-experience/invite-organization-members) et la [validation d’opérations à haut risque](/end-user-flows/security-verification).

## Choisissez votre connecteur email \{#choose-your-email-connector}

Logto propose trois types d’options de connecteurs email :

### Service Email Logto gratuit (Cloud uniquement) \{#free-logto-email-service-cloud-only}

Cette option de service email intégré est idéale pour démarrer rapidement, aussi bien pour les [tests](/logto-cloud/tenant-settings#development) que pour la [production](/logto-cloud/tenant-settings#production). Elle élimine le besoin d’intégrations tierces et offre une livraison d’e-mails fiable et gratuite. Il suffit de personnaliser votre branding de base pour les modèles d’e-mails préconçus.

Le connecteur Logto Email Service propose désormais des capacités de personnalisation de marque, incluant le logo, les informations de l’entreprise et le nom de l’expéditeur.

Cependant, bien que pratique, il existe certaines limitations à connaître — vous ne pouvez pas personnaliser l’adresse e-mail de l’expéditeur, le domaine ou le contenu spécifique de l’e-mail.

```mdx-code-block
import DocCardList from '@theme/DocCardList';
import LogtoEmailService from '@site/docs/connectors/assets/icons/logto-email-service.svg';
import AwsDm from '@site/docs/connectors/assets/icons/aws-direct-mail.svg';
import SendGrid from '@site/docs/connectors/assets/icons/sendgrid.svg';
import Mailgun from '@site/docs/connectors/assets/icons/mailgun.svg';
import Postmark from '@site/docs/connectors/assets/icons/postmark.svg';
import AliyunDm from '@site/docs/connectors/assets/icons/aliyun-direct-mail.svg';
import Smtp from '@site/docs/connectors/assets/icons/smtp.svg';
import Http from '@site/docs/connectors/assets/icons/http.svg';

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Logto Email Service',
      href: '/connectors/email-connectors/built-in-email-service',
      description: 'Connecteur officiel pour Logto Email Service.',
      customProps: {
        icon: <LogtoEmailService />,
      }
    },
  ]}
/>
```

### Fournisseurs d’e-mails populaires \{#popular-email-providers}

Connectez-vous à votre fournisseur de service d’e-mails (ESP) préféré grâce aux guides étape par étape de Logto.

Ces options vous permettent de [personnaliser entièrement vos modèles d’e-mails](/connectors/email-connectors/email-templates), le nom de l’expéditeur, d’ajouter des variables, etc., pour servir au mieux votre image de marque.

Nous proposons une prise en charge prête à l’emploi pour les fournisseurs de services e-mail suivants :

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'AWS Direct Mail',
      href: '/integrations/aws-ses',
      description: 'Connecteur officiel Logto pour AWS Direct Mail.',
      customProps: {
        icon: <AwsDm />,
      }
    },
    {
      type: 'link',
      label: 'Mailgun',
      href: '/integrations/mailgun',
      description: 'Connecteur officiel Logto pour le service e-mail Mailgun.',
      customProps: {
        icon: <Mailgun />,
      }
    },
    {
      type: 'link',
      label: 'SendGrid Email',
      href: '/integrations/sendgrid-email',
      description: 'Connecteur officiel Logto pour le service e-mail SendGrid.',
      customProps: {
        icon: <SendGrid />,
      }
    },
    {
      type: 'link',
      label: 'Aliyun Direct Mail',
      href: '/integrations/aliyun-dm',
      description: 'Connecteur officiel Logto pour Aliyun Direct Mail.',
      customProps: {
        icon: <AliyunDm />,
      }
    },
    {
      type: 'link',
      label: 'Postmark Mail',
      href: '/integrations/postmark',
      description: 'Connecteur Logto pour le service e-mail Postmark.',
      customProps: {
        icon: <Postmark />,
      }
    },
  ]}
/>
```

### Personnalisez votre connecteur email \{#customize-your-email-connector}

Si aucune des solutions ci-dessus ne répond à vos besoins, vous pouvez également choisir de vous connecter à votre service e-mail préféré en utilisant le protocole SMTP (Simple Mail Transfer Protocol).

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'SMTP',
      href: '/integrations/smtp',
      description: 'Connecteur officiel Logto pour SMTP.',
      customProps: {
        icon: <Smtp />,
      }
    },
  ]}
/>
```

Si vous disposez déjà de votre propre service e-mail et que vous n’êtes pas éligible à une connexion SMTP, nous proposons également un "connecteur email HTTP".

Lorsqu’il doit envoyer un e-mail, il effectue un appel API vers l’`endpoint` configuré pour compléter le flux d’authentification dépendant de l’e-mail. Notez que, pour éviter les erreurs de flux d’authentification, l’endpoint configuré doit retourner une réponse 200 après avoir reçu le WebHook pour informer Logto qu’il a bien reçu la notification d’envoi de l’e-mail. Dans ce cas, vous devez surveiller votre propre service e-mail pour garantir la bonne livraison.

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'HTTP email connector',
      href: '/integrations/http-email',
      description: 'Connecteur officiel Logto pour HTTP email.',
      customProps: {
        icon: <Http />,
      }
    },
  ]}
/>
```

Si nos connecteurs standards ne répondent pas à vos besoins spécifiques, n’hésitez pas à [nous contacter](https://feedback.logto.io/roadmap). Pour les utilisateurs OSS, vous pouvez [implémenter votre propre connecteur (OSS)](/logto-oss/develop-your-connector/implement-connectors#build-a-passwordless-connector) si le besoin est urgent. Nous accueillons toujours les [contributions](/logto-oss/contribution) ; votre effort pourrait aider d’autres membres de la communauté ayant les mêmes besoins.

## Étapes de configuration \{#configure-steps}

Suivez les étapes ci-dessous pour ajouter un connecteur email :

1. Accédez à <CloudLink to="/connectors/passwordless">Console > Connecteurs > Connecteurs email et SMS </CloudLink>.
2. Pour ajouter un nouveau connecteur email, cliquez sur le bouton "Configurer" et sélectionnez votre fournisseur d’e-mails souhaité.
3. Consultez la documentation README et configurez votre fournisseur étape par étape.
4. Cliquez sur "Enregistrer et terminer" pour finaliser.

:::note

Pour garantir que les e-mails critiques (comme les codes de vérification) atteignent de manière fiable la boîte de réception des utilisateurs et évitent les filtres anti-spam, concentrez-vous sur deux priorités :

- **Configurer l’authentification des e-mails (SPF, DKIM, DMARC)**
  Les fournisseurs d’e-mails (Gmail, Outlook, etc.) utilisent ces protocoles pour vérifier que vous n’êtes pas un spammeur. L’absence de ces configurations peut envoyer vos e-mails en spam ou les faire rejeter.
  - SPF (Sender Policy Framework) : Liste les serveurs / IP autorisés à envoyer des e-mails pour votre domaine.
  - DKIM (DomainKeys Identified Mail) : Ajoute une signature numérique pour prouver que les e-mails n’ont pas été altérés.
  - DMARC (Domain-based Message Authentication) : Indique aux destinataires comment traiter les e-mails qui échouent SPF / DKIM.
- **Séparer les e-mails d’authentification & marketing**
  Les e-mails marketing déclenchent souvent des plaintes pour spam ou des taux de rebond élevés. Si les e-mails d’authentification partagent le même domaine / IP, leur délivrabilité en pâtit.
  - Utilisez un domaine dédié : Envoyez les e-mails de vérification depuis `@auth.votredomaine.com`, le marketing depuis `@marketing.votredomaine.com`.
  - IP dédiée : Demandez une IP unique pour les e-mails d’authentification et réchauffez-la progressivement.
  - Faites correspondre l’adresse "From" : Assurez-vous que le domaine de l’expéditeur correspond aux enregistrements SPF / DKIM / DMARC.

:::

## Changer de connecteur email \{#change-email-connector}

Vous remarquerez qu’un seul connecteur email peut être ajouté.

Lorsque vous avez déjà un connecteur email, vous ne pouvez sélectionner que "Changer de connecteur email". Lors de cette opération dans la console, elle prend effet immédiatement une fois enregistrée, veillez donc à bien tester votre configuration avant de sauvegarder.

Pour garantir la stabilité de votre service, les utilisateurs Cloud peuvent créer un [tenant de développement](/logto-cloud/tenant-settings#development) pour l’environnement de développement. Après avoir testé la configuration dans l’environnement de développement, "migre" la configuration vers la [production](/logto-cloud/tenant-settings#production), puis enregistrez la configuration.

## Activer l’adresse e-mail pour les parcours utilisateur \{#enable-email-address-for-end-user-flows}

Une fois que vous avez ajouté et configuré le connecteur email, vous pouvez activer les parcours d’authentification par e-mail :

- [**Définir les méthodes d’inscription**](/end-user-flows/sign-up-and-sign-in/sign-up) : Accédez à <CloudLink to="/sign-in-experience/sign-up-and-sign-in">Expérience de connexion > Inscription et connexion</CloudLink>. Dans la section inscription, ajoutez "Adresse e-mail" ou "Adresse e-mail ou numéro de téléphone" comme identifiant. Remarque : La vérification de l’adresse e-mail est obligatoire lors de l’inscription.
- [**Définir les méthodes de connexion**](/end-user-flows/sign-up-and-sign-in/sign-in) : Dans la section connexion, ajoutez "Adresse e-mail" comme méthode de connexion. Choisissez entre mot de passe et code de vérification par e-mail pour l’authentification. Cliquez sur "Ajouter une autre" pour des options supplémentaires.
- [**Configurer le mot de passe oublié**](/end-user-flows/sign-up-and-sign-in/reset-password) : Dans la section connexion, si la connexion par mot de passe est activée, vous verrez le paramètre "Mot de passe oublié". Activez "Code de vérification par e-mail" pour permettre la réinitialisation du mot de passe par e-mail.
- [**Configurer l’e-mail pour la MFA**](/end-user-flows/mfa/email-mfa) : Accédez à <CloudLink to="/mfa">Expérience de connexion > Authentification multi-facteurs</CloudLink>. Activez "Code de vérification par e-mail" comme second facteur pour renforcer la sécurité.
- [**Configurer les paramètres de compte**](/end-user-flows/account-settings/by-account-api#update-or-link-new-email) : Utilisez l’[Account API](/end-user-flows/account-settings/by-account-api) pour personnaliser votre Centre de compte et permettre aux utilisateurs de gérer leurs adresses e-mail.

:::warning
Comme nos configurations prennent effet immédiatement, la suppression du connecteur email existant peut affecter le processus normal de connexion et d’inscription des utilisateurs finaux.

Par exemple, si l’identifiant de connexion inclut la combinaison "e-mail + code de vérification", la suppression du connecteur email existant empêchera les utilisateurs de recevoir les codes de vérification par e-mail et entraînera une erreur dans le flux de connexion.

Veuillez être conscient des risques potentiels lors de la manipulation des connecteurs.
:::

## FAQ \{#faqs}

<details>
<summary>

### Comment personnaliser le nom de l’expéditeur de l’e-mail ? \{#how-to-customize-the-email-sender-name}

</summary>

Nous travaillons encore sur d’autres connecteurs. Si vous avez besoin d’options supplémentaires, faites-nous part de vos besoins sur Discord et soumettez une demande de fonctionnalité sur [GitHub](https://github.com/logto-io/logto/issues). Si vous avez besoin d’aide supplémentaire, vous pouvez également [nous contacter par e-mail](mailto:contact@logto.io).

Pour les contributeurs, nous proposons une méthode de création de connecteur facile à étendre, vous permettant de [personnaliser votre propre connecteur](/logto-oss/develop-your-connector) selon vos scénarios spécifiques. Vous êtes toujours invité à soumettre une pull request à Logto, afin que d’autres membres de la communauté puissent également bénéficier de votre travail.

</details>

<details>
<summary>

### Comment puis-je restreindre les adresses IP pour les requêtes e-mail dans les connecteurs email Logto ? \{#how-can-i-restrict-ip-addresses-for-email-requests-in-logto-email-connectors}

</summary>

Une solution consiste à utiliser le connecteur email HTTP de Logto.

Implémentez un endpoint API sur votre serveur qui appelle le service e-mail concerné, et déclenchez ce endpoint API via le [connecteur email HTTP](/integrations/http-email) de Logto. De cette façon, vous aurez un contrôle total sur l’adresse IP de votre endpoint API et pourrez ajouter les adresses IP correspondantes à la liste blanche dans la configuration de votre fournisseur de service e-mail.

</details>
