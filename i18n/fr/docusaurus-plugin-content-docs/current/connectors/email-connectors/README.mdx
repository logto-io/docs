---
id: email-connectors
title: Connecteurs email
sidebar_label: Connecteurs email
sidebar_position: 1
---

# Connecteurs email

Un connecteur email intègre votre service de livraison d'emails avec Logto pour permettre une vérification sécurisée des utilisateurs par email. Une fois configuré, vous pouvez envoyer des [mots de passe à usage unique (OTPs)](https://auth.wiki/otp) pour l'[inscription](/end-user-flows/sign-up-and-sign-in/sign-up), la [connexion](/end-user-flows/sign-up-and-sign-in/sign-in), la [réinitialisation de mot de passe](/end-user-flows/sign-up-and-sign-in/reset-password), le [lien de compte](/end-user-flows/sign-up-and-sign-in/social-sign-in#account-linking), les [invitations de membres](/end-user-flows/organization-experience/invite-organization-members) et la [validation des opérations à haut risque](/end-user-flows/security-verification).

## Choisissez votre connecteur email \{#choose-your-email-connector}

Logto propose trois types d'options de connecteurs email :

### Service Email Logto gratuit (Cloud uniquement) \{#free-logto-email-service-cloud-only}

Cette option de service email intégré est idéale pour commencer rapidement, que ce soit pour les [tests](/logto-cloud/tenant-settings#development) ou la [production](/logto-cloud/tenant-settings#production). Elle élimine le besoin d'intégrations tierces et offre une livraison d'emails gratuite et fiable. Il suffit de personnaliser votre image de marque de base pour les modèles d'emails préconçus.

Le connecteur Logto Email Service offre désormais des capacités de personnalisation de marque, y compris le logo, les informations de l'entreprise et le nom de l'expéditeur.

Cependant, bien que pratique, il y a certaines limitations à prendre en compte — vous ne pouvez pas personnaliser l'adresse email de l'expéditeur, le domaine ou le contenu spécifique de l'email.

```mdx-code-block
import DocCardList from '@theme/DocCardList';
import LogtoEmailService from '@site/docs/connectors/assets/icons/logto-email-service.svg';
import AwsDm from '@site/docs/connectors/assets/icons/aws-direct-mail.svg';
import SendGrid from '@site/docs/connectors/assets/icons/sendgrid.svg';
import Mailgun from '@site/docs/connectors/assets/icons/mailgun.svg';
import Postmark from '@site/docs/connectors/assets/icons/postmark.svg';
import AliyunDm from '@site/docs/connectors/assets/icons/aliyun-direct-mail.svg';
import Smtp from '@site/docs/connectors/assets/icons/smtp.svg';
import Http from '@site/docs/connectors/assets/icons/http.svg';

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Logto Email Service',
      href: '/connectors/email-connectors/built-in-email-service',
      description: 'Connecteur officiel pour Logto Email Service.',
      customProps: {
        icon: <LogtoEmailService />,
      }
    },
  ]}
/>
```

### Fournisseurs d'email populaires \{#popular-email-providers}

Connectez-vous à votre fournisseur de service email (ESP) préféré en utilisant les guides étape par étape de Logto.

Ces options vous permettent de [personnaliser entièrement vos modèles d'email](/connectors/email-connectors/email-templates), le nom de l'expéditeur, d'ajouter des variables, etc., pour mieux servir votre image de marque.

Nous offrons un support prêt à l'emploi pour les fournisseurs de services email suivants :

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'AWS Direct Mail',
      href: '/integrations/aws-ses',
      description: 'Le connecteur officiel Logto pour le service de courrier direct AWS.',
      customProps: {
        icon: <AwsDm />,
      }
    },
    {
      type: 'link',
      label: 'Mailgun',
      href: '/integrations/mailgun',
      description: 'Le connecteur officiel Logto pour le service email Mailgun.',
      customProps: {
        icon: <Mailgun />,
      }
    },
    {
      type: 'link',
      label: 'SendGrid Email',
      href: '/integrations/sendgrid-email',
      description: 'Le connecteur officiel Logto pour le service email SendGrid.',
      customProps: {
        icon: <SendGrid />,
      }
    },
    {
      type: 'link',
      label: 'Aliyun Direct Mail',
      href: '/integrations/aliyun-dm',
      description: 'Le connecteur officiel Logto pour le service de courrier direct Aliyun.',
      customProps: {
        icon: <AliyunDm />,
      }
    },
    {
      type: 'link',
      label: 'Postmark Mail',
      href: '/integrations/postmark',
      description: 'Connecteur Logto pour le service email Postmark.',
      customProps: {
        icon: <Postmark />,
      }
    },
  ]}
/>
```

### Personnalisez votre connecteur email \{#customize-your-email-connector}

Si aucune des solutions ci-dessus ne répond à vos besoins, vous pouvez également choisir de vous connecter à votre service email souhaité en utilisant le Simple Mail Transfer Protocol (SMTP).

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'SMTP',
      href: '/integrations/smtp',
      description: 'Le connecteur officiel Logto pour SMTP.',
      customProps: {
        icon: <Smtp />,
      }
    },
  ]}
/>
```

Si vous avez déjà votre propre service email et que vous n'êtes pas éligible pour utiliser une connexion SMTP, nous proposons également un "connecteur email HTTP".

Lorsqu'il doit envoyer un email, il envoie un appel API à l'`endpoint` configuré pour compléter le flux d'authentification dépendant de l'email. Notez que pour éviter les erreurs de flux d'authentification, l'endpoint configuré doit renvoyer une réponse 200 après avoir reçu le WebHook pour informer Logto qu'il a reçu la notification pour envoyer l'email. Dans ce cas, vous devez surveiller votre propre service email pour garantir une livraison réussie.

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'Connecteur email HTTP',
      href: '/integrations/http-email',
      description: 'Le connecteur officiel Logto pour les emails HTTP.',
      customProps: {
        icon: <Http />,
      }
    },
  ]}
/>
```

Si nos connecteurs standard ne répondent pas à vos besoins spécifiques, n'hésitez pas à [nous contacter](https://logto.productlane.com/roadmap). Pour les utilisateurs OSS, vous pouvez [implémenter votre connecteur (OSS)](/logto-oss/develop-your-connector/implement-connectors#build-a-passwordless-connector) si le besoin est urgent. Nous accueillons toujours les [contributions](/logto-oss/contribution) ; votre effort pourrait bien aider d'autres membres de la communauté ayant les mêmes besoins.

## Étapes de configuration \{#configure-steps}

Suivez les étapes ci-dessous pour ajouter un connecteur email :

1. Accédez à <CloudLink to="/connectors/passwordless">Console > Connecteurs > Connecteurs email et SMS </CloudLink>.
2. Pour ajouter un nouveau connecteur email, cliquez sur le bouton "Configurer" et sélectionnez votre fournisseur d'email souhaité.
3. Consultez la documentation README et configurez votre fournisseur choisi étape par étape.
4. Cliquez sur "Enregistrer et Terminer" pour terminer.

:::note

Pour garantir que les emails critiques (comme les codes de vérification) atteignent de manière fiable les boîtes de réception des utilisateurs et évitent les filtres anti-spam, concentrez-vous sur deux priorités :

- **Configurer l'authentification des emails (SPF, DKIM, DMARC)**
  Les fournisseurs d'email (Gmail, Outlook, etc.) utilisent ces protocoles pour vérifier que vous n'êtes pas un spammeur. L'absence de ces configurations peut faire atterrir vos emails dans le spam ou les faire rejeter.
  - SPF (Sender Policy Framework) : Liste les serveurs / IPs autorisés à envoyer des emails pour votre domaine.
  - DKIM (DomainKeys Identified Mail) : Ajoute une signature numérique pour prouver que les emails n'ont pas été altérés.
  - DMARC (Domain-based Message Authentication) : Indique aux récepteurs comment gérer les emails qui échouent au SPF / DKIM.
- **Séparer les emails d'authentification & marketing**
  Les emails marketing déclenchent souvent des plaintes de spam ou des taux de rebond élevés. Si les emails d'authentification partagent le même domaine / IP, leur délivrabilité en souffre.
  - Utilisez un domaine dédié : Envoyez les emails de vérification depuis `@auth.votredomaine.com`, le marketing depuis `@marketing.votredomaine.com`.
  - IP dédiée : Demandez une IP unique pour les emails d'authentification et réchauffez-la lentement.
  - Correspondance de l'adresse "De" : Assurez-vous que le domaine de l'expéditeur est aligné avec les enregistrements SPF / DKIM / DMARC.

:::

## Changer de connecteur email \{#change-email-connector}

Vous remarquerez peut-être qu'un seul connecteur email peut être ajouté.

Lorsque vous avez déjà un connecteur email, vous ne pouvez sélectionner que "Changer de connecteur email". Lors de l'exécution de cette opération dans la console, elle prend effet immédiatement une fois enregistrée, alors assurez-vous de tester votre configuration avant de l'enregistrer.

Pour garantir la stabilité de votre service, les utilisateurs Cloud peuvent créer un [locataire de développement](/logto-cloud/tenant-settings#development) pour l'environnement de développement. Après avoir testé la configuration dans l'environnement de développement, "migrer" la configuration vers la [production](/logto-cloud/tenant-settings#production), puis enregistrer la configuration.

## Activer l'inscription ou la connexion par email \{#enable-email-sign-up-or-sign-in}

Une fois que vous avez ajouté avec succès le connecteur email et complété la configuration, vous pouvez activer les configurations de connexion et d'inscription qui reposent sur l'email + code de vérification, selon vos besoins commerciaux.

1. **Accédez à :** <CloudLink to="/sign-in-experience/sign-up-and-sign-in">Console > Expérience de connexion > Inscription et connexion</CloudLink>
2. [**Définir les méthodes d'inscription**](/end-user-flows/sign-up-and-sign-in/sign-up) : Choisissez "Adresse email" ou "Adresse email ou numéro de téléphone" comme identifiant d'inscription. Remarque : la vérification par email est actuellement obligatoire lors de l'inscription.
3. [**Définir les méthodes de connexion**](/end-user-flows/sign-up-and-sign-in/sign-in) : L'identifiant d'inscription choisi devient automatiquement une méthode de connexion. Cliquez sur "Ajouter un autre" pour des options de connexion supplémentaires.
4. **Enregistrer les modifications et tester :** Cliquez sur "Enregistrer les modifications" pour mettre en œuvre la nouvelle expérience de connexion. N'oubliez pas d'utiliser la "[Prévisualisation en direct](/customization/live-preview)" pour tester la fonctionnalité.

:::warning
Parce que nos configurations prennent effet immédiatement, la suppression d'un connecteur email existant peut affecter les processus de connexion et d'inscription normaux des utilisateurs finaux.

Par exemple, si l'identifiant de connexion inclut la combinaison "email + code de vérification", la suppression du connecteur email existant empêchera les utilisateurs de recevoir des codes de vérification par email et entraînera une erreur dans le flux de connexion.

Veuillez être conscient des risques potentiels lors de l'opération sur les connecteurs.
:::

## FAQs \{#faqs}

<details>
<summary>

### Comment personnaliser le nom de l'expéditeur de l'email ? \{#how-to-customize-the-email-sender-name}

</summary>

Nous travaillons encore sur plus de connecteurs. Si vous avez besoin d'autres options, faites-nous simplement part de vos besoins sur Discord et déposez une demande de fonctionnalité sur [GitHub](https://github.com/logto-io/logto/issues). Si vous avez besoin d'une assistance supplémentaire, vous pouvez également [nous contacter par email](mailto:contact@logto.io).

Pour les contributeurs, nous fournissons une méthode de création de connecteur facile à étendre, vous permettant de [personnaliser votre propre connecteur](/logto-oss/develop-your-connector) en fonction de vos scénarios spécifiques. Vous êtes toujours les bienvenus pour soumettre une demande de tirage à Logto, afin que d'autres membres de la communauté puissent également bénéficier de votre travail.

</details>

<details>
<summary>

### Comment puis-je restreindre les adresses IP pour les requêtes email dans les connecteurs email Logto ? \{#how-can-i-restrict-ip-addresses-for-email-requests-in-logto-email-connectors}

</summary>

Une solution de contournement consiste à utiliser le connecteur email HTTP de Logto.

Implémentez un endpoint API sur votre serveur qui appelle le service email pertinent, et déclenchez ce endpoint API via le [connecteur email HTTP](/integrations/http-email) de Logto. De cette manière, vous aurez un contrôle total sur l'adresse IP de votre endpoint API et pourrez ajouter les adresses IP correspondantes à la liste blanche dans la configuration du fournisseur de service email.

</details>
