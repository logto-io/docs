---
slug: /integrations/google
sidebar_label: Google
sidebar_custom_props:
  description: Google est un principal moteur de recherche et fournisseur de services de messagerie.
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# Configurer la connexion sociale avec Google

Le connecteur Google fournit un moyen succinct pour votre application d'utiliser le système d'Authentification OAuth 2.0 de Google.

<GuideTip />

## Configurer un projet dans la Google API Console

- Visitez la [Google API Console](https://console.developers.google.com) et connectez-vous avec votre compte Google.
- Cliquez sur le bouton **Sélectionner un projet** dans la barre de menu supérieure, puis cliquez sur le bouton **Nouveau projet** pour créer un projet.
- Dans votre nouveau projet, cliquez sur **APIs & Services** pour entrer dans le menu **APIs & Services**.

## Configurer votre écran de consentement

### Configurer et enregistrer votre application

- Dans le menu de gauche **APIs & Services**, cliquez sur le bouton **Écran de consentement OAuth**.
- Choisissez le **Type d'utilisateur** que vous souhaitez, puis cliquez sur le bouton **Créer**. (Remarque : Si vous sélectionnez **Externe** comme votre **Type d'utilisateur**, vous devrez ajouter des utilisateurs de test plus tard.)

Vous serez maintenant sur la page **Modifier l'enregistrement de l'application**.

### Modifier l'enregistrement de l'application

#### Configurer l'écran de consentement OAuth

- Suivez les instructions pour remplir le formulaire **Écran de consentement OAuth**.
- Cliquez sur **ENREGISTRER ET CONTINUER** pour continuer.

#### Configurer les portées

- Cliquez sur **AJOUTER OU SUPPRIMER DES PORTÉES** et sélectionnez `../auth/userinfo.email`, `../auth/userinfo.profile` et `openid` dans le tiroir contextuel, puis cliquez sur **METTRE À JOUR** pour terminer. Il est recommandé de considérer l'ajout de toutes les portées que vous pourriez utiliser, sinon certaines portées que vous avez ajoutées dans la configuration pourraient ne pas fonctionner.
- Remplissez le formulaire selon vos besoins.
- Cliquez sur **ENREGISTRER ET CONTINUER** pour continuer.

#### Ajouter des utilisateurs de test (Type d'utilisateur externe uniquement)

- Cliquez sur **AJOUTER DES UTILISATEURS** et ajoutez des utilisateurs de test pour permettre à ces utilisateurs d'accéder à votre application pendant les tests.
- Cliquez sur **ENREGISTRER ET CONTINUER** pour continuer.

Vous devriez maintenant avoir configuré l'écran de consentement OAuth 2.0 de Google.

## Obtenir des identifiants OAuth 2.0

- Dans le menu de gauche **APIs & Services**, cliquez sur le bouton **Identifiants**.
- Sur la page **Identifiants**, cliquez sur le bouton **+ CRÉER DES IDENTIFIANTS** dans la barre de menu supérieure, puis sélectionnez **ID client OAuth**.
- Sur la page **Créer un ID client OAuth**, sélectionnez **Application Web** comme type d'application.
- Remplissez les informations de base pour votre application.
- Cliquez sur **+ Ajouter URI** pour ajouter un domaine autorisé à la section **Origines JavaScript autorisées**. C'est le domaine à partir duquel votre page d'autorisation Logto sera servie. Dans notre cas, ce sera `${your_logto_origin}`. par exemple `https://logto.dev`.
- Cliquez sur **+ Ajouter URI** dans la section \***\*URIs de redirection autorisées\*\*** pour configurer les \***\*URIs de redirection autorisées\*\***, qui redirigent l'utilisateur vers l'application après la connexion. Dans notre cas, ce sera `${your_logto_endpoint}/callback/${connector_id}`. par exemple `https://logto.dev/callback/${connector_id}`. Le `connector_id` peut être trouvé sur la barre supérieure de la page des détails du connecteur dans la Logto Admin Console.
- Cliquez sur **Créer** pour terminer, puis vous obtiendrez le **Client ID** et le **Client Secret**.

## Configurer votre connecteur

Remplissez le champ `clientId` et `clientSecret` avec le _Client ID_ et le _Client Secret_ que vous avez obtenus à partir des pages de détails de l'application OAuth mentionnées dans la section précédente.

`scope` est une liste délimitée par des espaces de [portées](https://developers.google.com/identity/protocols/oauth2/scopes). Si elle n'est pas fournie, la portée par défaut sera `openid profile email`.

### Types de configuration

| Nom          | Type   |
| ------------ | ------ |
| clientId     | string |
| clientSecret | string |
| scope        | string |

## Références

- [Google Identity : Configuration de OAuth 2.0](https://developers.google.com/identity/protocols/oauth2/openid-connect#appsetup)
