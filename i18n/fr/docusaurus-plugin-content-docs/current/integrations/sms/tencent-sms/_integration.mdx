### Créer un compte Tencent Cloud \{#create-an-tencent-cloud-account}

Rendez-vous sur le [site web de Tencent Cloud](https://cloud.tencent.com/) et inscrivez-vous si vous n'avez pas encore de compte.

### Activer et configurer Tencent Cloud SMS \{#enable-and-configure-tencent-cloud-sms}

1. Connectez-vous avec votre compte sur le [site web de Tencent Cloud](https://cloud.tencent.com/) et accédez à la [page de la console du service SMS](https://cloud.tencent.com/product/sms).
2. Cliquez sur le bouton « Essai gratuit » (免费试用) sur la page du service SMS et suivez les étapes de configuration.
3. Acceptez les « Conditions d’activation du service SMS » (短信开通服务条款) et cliquez sur « Activer le service » (开通服务) pour continuer.
4. Sur la page « [Aperçu de la console SMS](https://console.cloud.tencent.com/smsv2) » (短信服务控制台概览), choisissez « Messages nationaux » (国内消息) ou « Messages internationaux / Hong Kong, Macao, Taïwan » (国际/港澳台消息) dans la barre latérale selon vos besoins.
5. Ajoutez une signature et un modèle pour les messages SMS. Remarques :
   - Lors de l’ajout d’une « Signature » (签名), sélectionnez « Code de vérification » (验证码) dans le champ "Scénarios applicables" (模版类型).
   - Lors de l’ajout d’un modèle, choisissez « Code de vérification » comme type de modèle.
   - Incluez un espace réservé `{1}` dans le contenu du modèle, qui sera remplacé par un code généré aléatoirement.
   - Les modèles avec plusieurs espaces réservés ne sont pas pris en charge. Utilisez ou créez un modèle avec un seul espace réservé.
6. Soumettez la signature et le modèle pour approbation. Après la soumission :
   - Attendez qu’ils prennent effet.
   - Un test SMS peut être envoyé depuis la page « [Aperçu de la console SMS](https://console.cloud.tencent.com/smsv2) » (短信服务控制台概览). Les signatures et modèles approuvés peuvent être utilisés directement pour les tests, ou utilisez les modèles de test fournis s’ils sont encore en cours de révision.
   - Assurez-vous que votre compte dispose d’un solde suffisant pour les tests et pré-enregistrez le numéro de téléphone de test pour recevoir les SMS avec succès.

Pour des instructions détaillées, cliquez sur l’onglet « Guide de démarrage » (新手配置指引) dans l’Aperçu de la console SMS.

## Composer le JSON du connecteur \{#compose-the-connector-json}

1. Rendez-vous sur la page « [Aperçu de la console SMS](https://console.cloud.tencent.com/smsv2) » et survolez votre avatar en haut à droite. Naviguez vers « Gestion des accès > Clés d’accès > Clés API » pour générer votre `AccessKey ID` et `AccessKey Secret` après avoir terminé la vérification de sécurité. Veuillez les conserver soigneusement.
2. Depuis l’onglet « Messages nationaux » (国内消息) ou « Messages internationaux / Hong Kong, Macao, Taïwan » (国际/港澳台消息), récupérez le « Nom de la signature » (签名名称) et le « Code du modèle » (模版 CODCE).
   - Pour les modèles de test, consultez l’onglet « Démarrage rapide » (快速开始) sous "Modèles réservés aux tests" (测试专用签名模版).

- Configurez le connecteur Tencent Cloud SMS avec les champs suivants :
  - `accessKeyId` et `accessKeySecret` : Utilisez les identifiants de l’étape 1.
  - `signName` : Le nom de la signature obtenu à l’étape 2. Ceci s’applique à tous les modèles.
  - Ajoutez plusieurs modèles pour différents scénarios si nécessaire. Exemple pour un seul modèle :
    - `templateCode` : Récupéré à partir du « Code du modèle » à l’étape 2.
    - `usageType` : Spécifiez l’un des éléments suivants : `Register`, `SignIn`, `ForgotPassword` ou `Generic` pour différents scénarios (propriété spécifique à Logto).
    - Assurez-vous que les modèles sont configurés pour les quatre scénarios afin de compléter le flux.
  - `sdkAppId` : Trouvé dans « [Gestion des applications](https://console.cloud.tencent.com/smsv2/app-manage) » (应用管理).
  - `region` : Spécifiez la région prise en charge à partir de la « [Documentation d’envoi](https://cloud.tencent.com/document/api/382/52071#.E5.9C.B0.E5.9F.9F.E5.88.97.E8.A1.A8) » (发送文档).

### Tester le connecteur Tencent Cloud SMS \{#test-tencent-cloud-sms-connector}

Vous pouvez saisir un numéro de téléphone et cliquer sur « Envoyer » pour vérifier si les paramètres fonctionnent avant de cliquer sur « Enregistrer et terminer ».

C’est tout. N’oubliez pas d’<MainSiteUrl href="/connectors/sms-connectors#enable-phone-number-sign-up-or-sign-in">Activer le connecteur dans l’expérience de connexion</MainSiteUrl>.

### Types de configuration \{#config-types}

| Nom             | Type       |
| --------------- | ---------- |
| accessKeyId     | string     |
| accessKeySecret | string     |
| signName        | string     |
| region          | string     |
| sdkAppId        | string     |
| templates       | Template[] |

| Propriétés du modèle | Type        | Valeurs énumérées                                    |
| -------------------- | ----------- | ---------------------------------------------------- |
| templateCode         | string      | N/A                                                  |
| usageType            | enum string | 'Register' / 'SignIn' / 'ForgotPassword' / 'Generic' |
