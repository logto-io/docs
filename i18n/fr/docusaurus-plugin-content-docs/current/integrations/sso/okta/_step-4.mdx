Les portées (Scopes) définissent les permissions que votre application demande aux utilisateurs et contrôlent à quelles données votre application peut accéder depuis leurs comptes Okta. Demander des permissions Okta supplémentaires nécessite une configuration des deux côtés :

**Dans la console d'administration Okta :**

1. Accédez à **Applications > Applications** et sélectionnez votre application OIDC.
2. Allez dans l’onglet **Affectations** pour vous assurer que votre application a accès aux utilisateurs et groupes requis.
3. Pour les portées personnalisées, accédez à **Sécurité > API > Serveurs d’autorisation** et sélectionnez votre serveur d’autorisation.
4. Ajoutez des portées personnalisées si nécessaire :
   - Cliquez sur **Portées** puis sur **Ajouter une portée**
   - Définissez des noms de portées comme `okta.users.read` ou `okta.groups.read` pour accéder aux API Okta
   - Configurez les exigences de consentement pour chaque portée

Pour une liste complète des portées disponibles et leurs descriptions, veuillez consulter la [documentation Okta OIDC](https://developer.okta.com/docs/api/openapi/okta-oauth/guides/overview/#scopes).

**Dans le connecteur Okta Logto :**

1. Logto inclut automatiquement les portées `openid`, `profile` et `email` pour récupérer les informations d'identité de base de l'utilisateur. Vous pouvez laisser le champ `Scopes` vide si vous n'avez besoin que des informations de base sur l'utilisateur.
2. Ajoutez `offline_access` au champ `Scopes` si vous prévoyez de stocker des jetons pour un accès persistant à l’API. Cette portée permet d’obtenir des jetons de rafraîchissement pour un accès API de longue durée.
3. Ajoutez des portées supplémentaires (séparées par des espaces) dans le champ `Scopes` pour demander plus de données à Okta. Par exemple : `okta.users.read okta.groups.read`

:::tip

Si votre application demande ces portées pour accéder aux API Okta et effectuer des actions, assurez-vous d’activer **Stocker les jetons pour un accès API persistant** dans le connecteur Okta Logto. Voir la section suivante pour plus de détails.

:::
