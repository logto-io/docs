import applicationDetails from './assets/entra_id_oidc_application_details.webp';
import createSecret from './assets/entra_id_oidc_create_secret.webp';
import endpoints from './assets/entra_id_oidc_endpoints.webp';

Après avoir créé avec succès une application Microsoft Entra OIDC, vous devrez fournir les configurations de l'IdP à Logto. Accédez à l'onglet `Connection` dans la Logto Console et remplissez les configurations suivantes :

1. **Client ID** : Un identifiant unique attribué à votre application OIDC par Microsoft Entra. Cet identifiant est utilisé par Logto pour identifier et authentifier l'application pendant le flux OIDC. Vous pouvez le trouver sur la page d'aperçu de l'application sous `Application (client) ID`.

<center>
  <img src={applicationDetails} alt="Détails de l'application" />
</center>

2. **Client Secret** : Créez un nouveau secret client et copiez la valeur dans Logto. Ce secret est utilisé pour authentifier l'application OIDC et sécuriser la communication entre Logto et l'IdP.

<center>
  <img src={createSecret} alt="Créer un secret" />
</center>

3. **Émetteur (Issuer)** : L'URL de l'émetteur, un identifiant unique pour l'IdP, spécifiant l'emplacement où le fournisseur d'identité OIDC peut être trouvé. C'est une partie cruciale de la configuration OIDC car elle aide Logto à découvrir les points de terminaison nécessaires.

   Au lieu de fournir manuellement tous ces points de terminaison OIDC, Logto récupère automatiquement toutes les configurations requises et les points de terminaison de l'IdP. Cela se fait en utilisant l'URL de l'émetteur que vous avez fournie et en appelant le point de terminaison de découverte de l'IdP.

   Pour obtenir l'URL de l'émetteur, vous pouvez la trouver dans la section `Endpoints` de la page d'aperçu de l'application.

   Localisez le point de terminaison `OpenID Connect metadata document` et copiez l'URL **SANS** le chemin final `.well-known/openid-configuration`. Cela est dû au fait que Logto ajoutera automatiquement `.well-known/openid-configuration` à l'URL de l'émetteur lors de la récupération des configurations OIDC.

<center>
  <img src={endpoints} alt="Points de terminaison" />
</center>

4. **Portée (Scope)** : Une liste de chaînes séparées par des espaces définissant les permissions ou niveaux d'accès souhaités demandés par Logto pendant le processus d'authentification OIDC. Le paramètre de portée vous permet de spécifier quelles informations et accès Logto demande à l'IdP.

Le paramètre de portée est facultatif. Indépendamment des paramètres de portée personnalisés, Logto enverra toujours les portées `openid`, `profile` et `email` à l'IdP.

Cliquez sur `Save` pour terminer le processus de configuration.
