Après avoir créé avec succès une application Microsoft Entra OIDC, vous devrez fournir les configurations du fournisseur d’identité (IdP) à Logto. Rendez-vous dans l’onglet `Connection` de la Console Logto et renseignez les configurations suivantes :

1. **ID client** : Un identifiant unique attribué à votre application OIDC par Microsoft Entra. Cet identifiant est utilisé par Logto pour identifier et authentifier l’application lors du flux OIDC. Vous pouvez le trouver sur la page d’aperçu de l’application sous `Application (client) ID`.

<center>
  <img src="/img/assets/entra_id_oidc_application_details.webp" alt="Détails de l’application" />
</center>

2. **Secret client** : Créez un nouveau secret client et copiez la valeur dans Logto. Ce secret est utilisé pour authentifier l’application OIDC et sécuriser la communication entre Logto et le fournisseur d’identité (IdP).

<center>
  <img src="/img/assets/entra_id_oidc_create_secret.webp" alt="Créer un secret" />
</center>

3. **Émetteur (Issuer)** : L’URL de l’émetteur, un identifiant unique pour le fournisseur d’identité (IdP), spécifiant l’emplacement où le fournisseur d’identité OIDC peut être trouvé. Il s’agit d’une partie cruciale de la configuration OIDC car elle permet à Logto de découvrir les points de terminaison nécessaires.

   Au lieu de fournir manuellement tous ces points de terminaison OIDC, Logto récupère automatiquement toutes les configurations requises et les points de terminaison du fournisseur d’identité (IdP). Cela se fait en utilisant l’URL de l’émetteur que vous avez fournie et en effectuant un appel au point de terminaison de découverte du fournisseur d’identité (IdP).

   Pour obtenir l’URL de l’émetteur, vous pouvez la trouver dans la section `Endpoints` de la page d’aperçu de l’application.

   Repérez le point de terminaison `OpenID Connect metadata document` et copiez l’URL **SANS** le chemin final `.well-known/openid-configuration`. En effet, Logto ajoutera automatiquement `.well-known/openid-configuration` à l’URL de l’émetteur lors de la récupération des configurations OIDC.

<center>
  <img src="/img/assets/entra_id_oidc_endpoints.webp" alt="Points de terminaison" />
</center>

4. **Portée (Scope)** (optionnel) : Logto inclut automatiquement les portées requises (`openid`, `profile` et `email`) dans toutes les requêtes. Vous pouvez spécifier des portées supplémentaires sous forme de liste séparée par des espaces si votre application nécessite des permissions ou des niveaux d’accès supplémentaires du fournisseur d’identité (IdP).

Cliquez sur `Save` pour terminer le processus de configuration
