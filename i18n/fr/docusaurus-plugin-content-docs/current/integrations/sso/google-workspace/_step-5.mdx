Les portées (Scopes) définissent les permissions que votre application demande aux utilisateurs et contrôlent à quelles données votre application peut accéder dans leurs comptes Google Workspace. La demande de permissions Google nécessite une configuration des deux côtés :

**Dans la Google Cloud Console :**

1. Accédez à **APIs & Services > Écran de consentement OAuth > Portées (Scopes)**.
2. Cliquez sur **Ajouter ou supprimer des portées** et sélectionnez uniquement les portées dont votre application a besoin :
   - Authentification (obligatoire) :
     - `https://www.googleapis.com/auth/userinfo.email`
     - `https://www.googleapis.com/auth/userinfo.profile`
     - `openid`
   - Accès à l’API (optionnel) : Ajoutez toutes les portées supplémentaires nécessaires pour votre application (par exemple, Drive, Calendar, YouTube). Parcourez la [bibliothèque d’API Google](https://console.cloud.google.com/apis/library) pour trouver les services disponibles. Si votre application a besoin d’accéder à des API Google au-delà des permissions de base, activez d’abord les API spécifiques que votre application utilisera (par exemple, Google Drive API, Gmail API, Calendar API) dans la bibliothèque d’API Google.
3. Cliquez sur **Mettre à jour** pour confirmer la sélection.
4. Cliquez sur **Enregistrer et continuer** pour appliquer les modifications.

**Dans le connecteur Logto Google Workspace :**

1. Logto inclut automatiquement les portées `openid`, `profile` et `email` pour récupérer les informations d'identité de base de l'utilisateur. Vous pouvez laisser le champ `Scopes` vide si vous n'avez besoin que des informations de base sur l'utilisateur.
2. Ajoutez des portées supplémentaires (séparées par des espaces) dans le champ `Scopes` pour demander plus de données à Google. Utilisez les URLs complètes des portées, par exemple : `https://www.googleapis.com/auth/calendar.readonly`

:::tip
Si votre application demande ces portées pour accéder à l’API Google et effectuer des actions, assurez-vous d’activer **Stocker les jetons pour un accès API persistant** dans le connecteur Logto Google. Voir la section suivante pour plus de détails.
:::
