---
slug: /integrations/http-email
sidebar_label: HTTP Email
sidebar_custom_props:
  description: Envoyer un e-mail via un appel HTTP.
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# Configurer la vérification par e-mail via un appel HTTP

Le connecteur officiel Logto pour l'e-mail HTTP.

<GuideTip />

## Commencer \{#get-started}

Le connecteur e-mail HTTP vous permet d'envoyer des e-mails via un appel HTTP. Pour utiliser ce connecteur, vous devez disposer de votre propre service d'e-mail qui expose une API HTTP pour l'envoi d'e-mails. Logto appellera cette API lorsqu'il aura besoin d'envoyer un e-mail. Par exemple, lorsqu'un utilisateur s'inscrit, Logto appellera l'API HTTP pour envoyer un e-mail de vérification.

## Configurer le connecteur e-mail HTTP \{#set-up-http-email-connector}

Pour utiliser le connecteur e-mail HTTP, vous devez configurer un point de terminaison HTTP que Logto peut appeler. Et un jeton d’autorisation facultatif pour ce point de terminaison.

## Charge utile \{#payload}

Le connecteur e-mail HTTP envoie une charge utile au point de terminaison lors du déclenchement d'un e-mail. Elle inclut l'e-mail du destinataire (`to`), le [type d’utilisation](/connectors/email-connectors/email-templates#email-template-types) de l'e-mail indiquant le flux d'authentification (`type`), un `payload` contenant les [variables](/connectors/email-connectors/email-templates#email-template-variables) disponibles (par exemple, code de vérification, lien, informations sur l'application, informations sur l'organisation, informations utilisateur) et la [langue](/connectors/email-connectors/email-templates#email-template-localization) de l'utilisateur, ainsi qu'un champ optionnel `ip` contenant l'adresse IP du client (si disponible).

Exemple :

```json
{
  "to": "foo@logto.io",
  "type": "SignIn",
  "payload": {
    "code": "123456",
    "locale": "de"
  },
  "ip": "192.168.1.1"
}
```

Le champ `ip` peut être utilisé pour la limitation de débit, la détection de fraude ou une journalisation améliorée.

Vous pouvez utiliser ces informations pour personnaliser les modèles d'e-mails dans votre fournisseur de livraison d'e-mails.

Pour tous les types disponibles, voir [Modèle d’e-mail](/connectors/email-connectors/email-templates#email-template-types). La définition complète du type `SendMessageData` se trouve dans [connector-kit](https://github.com/logto-io/logto/tree/master/packages/toolkit/connector-kit/src/types/passwordless.ts).
