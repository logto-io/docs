## Configurer le connecteur SMTP \{#set-up-smtp-connector}

SMTP est un protocole de transmission qui n'est pas exclusif à certains fournisseurs de services de messagerie spécifiques, mais peut fonctionner avec tous les fournisseurs.

Nous proposons désormais des guides sur la façon d'utiliser le connecteur SMTP pour envoyer des e-mails via les fournisseurs suivants afin de mieux comprendre :

- _Gmail_ est le fournisseur de service de messagerie le plus populaire au monde.
- _Aliyun direct mail_ et _SendGrid mail_. Certains d'entre vous connaissent peut-être ces deux fournisseurs de services de messagerie car l'équipe Logto a fourni des connecteurs correspondants ; vous en avez probablement déjà une idée générale.

Nous espérons que vous pourrez configurer tous les autres fournisseurs de messagerie à l'aide des exemples suivants :rocket:

### Configuration pour l'utilisation de Gmail \{#set-up-for-gmail-use}

Vous pouvez obtenir un nouveau compte Gmail sur [Gmail](https://mail.google.com/), ou utiliser un compte existant si vous en avez déjà un.

Un [article officiel de Gmail](https://support.google.com/a/answer/176600) explique comment déterminer les valeurs des propriétés requises pour utiliser Gmail via un connecteur SMTP.

### Intégration avec SendGrid SMTP API \{#integrate-with-sendgrid-smtp-api}

Nous partons du principe que vous disposez déjà d'un compte SendGrid. Sinon, créez un nouveau compte sur le [site SendGrid](https://app.sendgrid.com/).

Vous trouverez un guide étape par étape sur ["Intégration avec l’API SMTP"](https://docs.sendgrid.com/for-developers/sending-email/integrating-with-the-smtp-api).

Les développeurs peuvent accéder aux détails de l’_expéditeur_ sur la page ["Gestion des expéditeurs"](https://mc.sendgrid.com/senders).

### Configuration avec un compte Aliyun direct mail \{#configure-with-aliyun-direct-mail-account}

Connectez-vous au [site Aliyun](https://cn.aliyun.com/). Inscrivez-vous si vous n'avez pas encore de compte.

Suivez le guide [Envoyer des e-mails via SMTP](https://www.alibabacloud.com/help/en/directmail/latest/send-emails-using-smtp) et effectuez les "tâches" pour obtenir les paramètres et informations nécessaires.

Vous pouvez consulter la [page d'adresse du service SMTP](https://www.alibabacloud.com/help/en/directmail/latest/smtp-service-address) pour choisir un hôte d'adresse de service SMTP et un numéro de port appropriés.

Pour vérifier les "Adresses d'expéditeur", vous trouverez l'entrée dans le menu de navigation de gauche sur la [console DirectMail](https://dm.console.aliyun.com/). Vous devriez voir ici `Sender address` et `SMTP Password`.

:::note
Un seul modèle d'exemple est fourni dans les cas précédents pour simplifier les choses. Vous devriez ajouter d'autres modèles pour d'autres cas d'utilisation.
Vous devez modifier les valeurs entourées de "\<" et ">" selon les paramètres de votre compte Gmail, SendGrid ou Aliyun et choisir de conserver les autres champs sans "\<" et ">".
Ajoutez `{{code}}` comme espace réservé dans le contenu des modèles pour afficher un code de vérification aléatoire dans les e-mails envoyés.
:::

### Tester le connecteur SMTP \{#test-smtp-connector}

Vous pouvez saisir une adresse e-mail et cliquer sur "Envoyer" pour vérifier si les paramètres fonctionnent avant de cliquer sur "Enregistrer et terminer".

C'est tout. N'oubliez pas de <MainSiteUrl href="/connectors/email-connectors/#enable-email-sign-up-or-sign-in">Activer le connecteur dans l’expérience de connexion</MainSiteUrl>.

### Types de configuration \{#config-types}

| Nom       | Type       |
| --------- | ---------- |
| host      | string     |
| port      | string     |
| fromEmail | string     |
| templates | Template[] |

| Propriétés du modèle | Type        | Valeurs énumérées                                    |
| -------------------- | ----------- | ---------------------------------------------------- |
| subject              | string      | N/A                                                  |
| content              | string      | N/A                                                  |
| usageType            | enum string | 'Register' / 'SignIn' / 'ForgotPassword' / 'Generic' |
| contentType          | enum string | 'text/plain' / 'text/html'                           |

**Options d’authentification nom d’utilisateur et mot de passe**

| Nom  | Type                    | Valeurs énumérées |
| ---- | ----------------------- | ----------------- |
| user | string                  | N/A               |
| pass | string                  | N/A               |
| type | enum string (OPTIONNEL) | 'login'           |

Vous pouvez également configurer les [Options d’authentification OAuth2](https://nodemailer.com/smtp/oauth2/) et d'autres configurations avancées. Voir [ici](https://nodemailer.com/smtp/) pour plus de détails.

Nous avons donné un exemple de configuration avec tous les paramètres configurables dans la zone de texte pour vous aider à configurer votre propre configuration. (Vous êtes responsable de la configuration, certaines valeurs sont fournies à titre d'exemple et peuvent ne pas convenir à votre cas d'utilisation.)
