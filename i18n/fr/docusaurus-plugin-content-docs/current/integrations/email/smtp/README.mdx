---
slug: /integrations/smtp
sidebar_label: SMTP
sidebar_custom_props:
  description: Le SMTP est un protocole de communication standard sur Internet pour la transmission de courrier électronique.
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# Configurer la vérification par e-mail avec SMTP

Le connecteur officiel Logto pour SMTP.

<GuideTip />

## Commencer

Le SMTP (Simple Mail Transfer Protocol) est un protocole de communication standard sur Internet pour la transmission de courrier électronique. Les serveurs de messagerie et autres agents de transfert de messages utilisent SMTP pour envoyer et recevoir des messages.

## Configurer le connecteur SMTP

SMTP est un protocole de transmission qui n'est pas exclusif à certains fournisseurs de services de messagerie spécifiques, mais qui peut fonctionner avec tous les fournisseurs.

Nous proposons maintenant des guides sur la façon d'utiliser le connecteur SMTP pour envoyer des e-mails en suivant les fournisseurs pour une meilleure compréhension :

- _Gmail_ est le fournisseur de services de messagerie le plus populaire dans le monde.
- _Aliyun direct mail_ et _SendGrid mail_. Certains d'entre vous pourraient être familiers avec ces deux fournisseurs de services de messagerie car l'équipe Logto a fourni des connecteurs correspondants ; vous aurez probablement une idée générale d'eux.

Nous espérons que vous pourrez comprendre la configuration de tous les autres fournisseurs de messagerie avec les exemples suivants :rocket:

### Configuration pour l'utilisation de Gmail

Vous pouvez obtenir un nouveau compte Gmail sur [Gmail](https://mail.google.com/), ou vous pouvez utiliser un compte existant si vous en avez un.

Un [article officiel de Gmail](https://support.google.com/a/answer/176600) montre comment déterminer les valeurs des propriétés requises pour utiliser Gmail via un connecteur SMTP.

### Intégration avec l'API SMTP de SendGrid

Initialement, nous supposons que vous avez déjà un compte SendGrid. Sinon, créez un nouveau compte sur le [site Web de SendGrid](https://app.sendgrid.com/).

Vous pouvez trouver un guide étape par étape sur ["Intégration avec l'API SMTP"](https://docs.sendgrid.com/for-developers/sending-email/integrating-with-the-smtp-api).

Les développeurs peuvent accéder aux détails de _l'expéditeur_ sur la page ["Gestion des expéditeurs"](https://mc.sendgrid.com/senders).

### Configuration avec un compte Aliyun direct mail

Connectez-vous au [site Web d'Aliyun](https://cn.aliyun.com/). Inscrivez-vous pour un nouveau compte si vous n'en avez pas.

Suivez le [guide d'envoi d'e-mails en utilisant SMTP](https://www.alibabacloud.com/help/en/directmail/latest/send-emails-using-smtp) et terminez ces 'tâches' pour obtenir les paramètres et informations requis.

Vous pouvez aller à la [page d'adresse du service SMTP](https://www.alibabacloud.com/help/en/directmail/latest/smtp-service-address) pour choisir un hôte d'adresse de service SMTP approprié et un numéro de port.

Pour vérifier les "Adresses des expéditeurs", vous pouvez trouver l'entrée dans le volet de navigation de gauche sur la [console DirectMail](https://dm.console.aliyun.com/). Vous devriez voir `Adresse de l'expéditeur` et `Mot de passe SMTP` ici.

> ℹ️ **Remarque**
>
> Un seul modèle d'exemple est fourni dans les cas précédents pour simplifier les choses. Vous devriez ajouter plus de modèles pour d'autres cas d'utilisation.
> Vous devez modifier les valeurs entourées de "\<" et ">" selon les paramètres de votre compte Gmail, SendGrid ou Aliyun et choisir de conserver les autres champs sans "\<" et ">".
> Ajoutez `{{code}}` comme espace réservé dans le contenu des modèles pour afficher un code de vérification aléatoire lors de l'envoi d'e-mails.

### Tester le connecteur SMTP

Vous pouvez taper une adresse e-mail et cliquer sur "Envoyer" pour voir si les paramètres fonctionnent avant "Enregistrer et Terminer".

C'est tout. N'oubliez pas d' [activer le connecteur dans l'expérience de connexion](/connectors/email-connectors/#enable-email-sign-up-or-sign-in).

### Types de configuration

| Nom       | Type       |
| --------- | ---------- |
| host      | string     |
| port      | string     |
| fromEmail | string     |
| templates | Template[] |

| Propriétés du modèle | Type        | Valeurs énumérées                                       |
| -------------------- | ----------- | ------------------------------------------------------- |
| subject              | string      | N/A                                                     |
| content              | string      | N/A                                                     |
| usageType            | enum string | 'Register' \| 'SignIn' \| 'ForgotPassword' \| 'Generic' |
| contentType          | enum string | 'text/plain' \| 'text/html'                             |

**Options d'authentification par nom d'utilisateur et mot de passe**

| Nom  | Type                   | Valeurs énumérées |
| ---- | ---------------------- | ----------------- |
| user | string                 | N/A               |
| pass | string                 | N/A               |
| type | enum string (OPTIONAL) | 'login'           |

Vous pouvez également configurer les [options d'authentification OAuth2](https://nodemailer.com/smtp/oauth2/) et d'autres configurations avancées. Voir [ici](https://nodemailer.com/smtp/) pour plus de détails.

Nous avons donné un exemple de configuration avec tous les paramètres configurables dans la zone de texte pour vous aider à configurer votre propre configuration. (Vous êtes responsable de la configuration, certaines valeurs sont à des fins de démonstration et peuvent ne pas convenir à votre cas d'utilisation.)
