---
slug: /integrations/aliyun-dm
sidebar_label: Aliyun Direct Mail
sidebar_custom_props:
  description: Aliyun fournit des services de cloud computing aux entreprises en ligne.
  logoFilename: 'aliyun.svg'
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# Configurer la v√©rification par e-mail avec Aliyun Direct Mail

Le connecteur officiel Logto pour le connecteur Aliyun pour le service de messagerie directe.

<GuideTip />

## Commencer

Aliyun est un fournisseur de services cloud majeur en Asie, offrant de nombreux services cloud, y compris DM (messagerie directe). Le connecteur Aliyun DM est un plugin fourni par l'√©quipe Logto pour appeler les API de service Aliyun DM, gr√¢ce auquel les utilisateurs finaux de Logto peuvent s'inscrire et se connecter √† leur compte Logto via un code de v√©rification par mail (ou en d'autres termes, code de v√©rification).

## Configurer un service de messagerie dans la console Aliyun DirectMail

> üí° **Astuce**
>
> Vous pouvez ignorer certaines sections si vous avez d√©j√† termin√©.

### Cr√©er un compte Aliyun

Rendez-vous sur [Aliyun](https://aliyun.com/) et cr√©ez votre compte Aliyun si vous n'en avez pas.

### Activer et configurer Aliyun Direct Mail

Allez sur la [page de la console du service DM](https://www.aliyun.com/product/directmail) et connectez-vous. Activez le service Direct Mail en cliquant sur le bouton "Apply to enable" (Áî≥ËØ∑ÂºÄÈÄö) en haut √† gauche de la page et commencez le processus de configuration.

√Ä partir de la [page de la console d'administration DM](https://dm.console.aliyun.com/), vous devez :

1. Aller √† "Email Domains" (Âèë‰ø°ÂüüÂêç) dans la barre lat√©rale et ajouter "New Domain" (Êñ∞Âª∫ÂüüÂêç) en suivant les instructions.
2. Personnaliser "Sender Addresses" (Âèë‰ø°Âú∞ÂùÄ) et "Email Tags" (ÈÇÆ‰ª∂Ê†áÁ≠æ) respectivement.

Apr√®s avoir termin√© la configuration, il existe deux mani√®res diff√©rentes de tester :

- Allez sur la [page d'aper√ßu de DirectMail](https://dm.console.aliyun.com/), trouvez "Operation Guide" (Êìç‰ΩúÂºïÂØº) en bas de la page, et cliquez sur "Send Emails" (ÂèëÈÄÅÈÇÆ‰ª∂). Vous trouverez tous les diff√©rents types de m√©thodes de test.
- Suivez le chemin "Send Emails" (ÂèëÈÄÅÈÇÆ‰ª∂) -> "Email Tasks" (ÂèëÈÄÅÈÇÆ‰ª∂) dans la barre lat√©rale pour cr√©er une t√¢che de test.

## Composer le JSON du connecteur

1. Depuis la [page de la console d'administration DM](https://dm.console.aliyun.com/), survolez votre avatar dans le coin sup√©rieur droit et allez √† "AccessKey Management" (AccessKey ÁÆ°ÁêÜ), et cliquez sur "Create AccessKey" (ÂàõÂª∫ AccessKey). Vous obtiendrez une paire "AccessKey ID" et "AccessKey Secret" apr√®s avoir termin√© la v√©rification de s√©curit√©. Veuillez les conserver correctement.
2. Allez √† l'onglet "Sender Addresses" (Âèë‰ø°Âú∞ÂùÄ) ou "Email Tags" (ÈÇÆ‰ª∂Ê†áÁ≠æ) que vous venez de visiter depuis la [page de la console d'administration DM](https://dm.console.aliyun.com/), vous pouvez facilement trouver _Sender Address_ ou _Email Tag_.
3. Remplissez les param√®tres du connecteur Aliyun DM :
   - Remplissez les champs `accessKeyId` et `accessKeySecret` avec les paires de cl√©s d'acc√®s que vous avez obtenues √† l'√©tape 1.
   - Remplissez le champ `accountName` et `fromAlias` avec "Sender Address" et "Email Tag" trouv√©s √† l'√©tape 2. Tous les mod√®les partageront ce nom de signature. (Vous pouvez laisser `fromAlias` vide car il est OPTIONNEL.)
   - Vous pouvez ajouter plusieurs mod√®les de connecteur DM pour diff√©rents cas. Voici un exemple d'ajout d'un seul mod√®le :
     - Remplissez le champ `subject`, qui servira de titre √† l'e-mail envoy√©.
     - Remplissez le champ `content` avec des contenus de type cha√Æne arbitraire. N'oubliez pas de laisser l'espace r√©serv√© `{{code}}` pour le code de v√©rification al√©atoire.
     - Remplissez le champ `usageType` avec soit `Register`, `SignIn`, `ForgotPassword` ou `Generic` pour diff√©rents cas d'utilisation. (`usageType` est une propri√©t√© Logto pour identifier le cas d'utilisation appropri√©.) Afin d'activer les flux utilisateur complets, les mod√®les avec usageType `Register`, `SignIn`, `ForgotPassword` et `Generic` sont requis.

### Tester le connecteur Aliyun DM

Vous pouvez taper une adresse e-mail et cliquer sur "Send" pour voir si les param√®tres peuvent fonctionner avant "Save and Done".

C'est tout. N'oubliez pas de [activer le connecteur dans l'exp√©rience de connexion](/connectors/email-connectors/#enable-email-sign-up-or-sign-in).

### Types de configuration

| Nom             | Type               |
| --------------- | ------------------ |
| accessKeyId     | string             |
| accessKeySecret | string             |
| accountName     | string             |
| fromAlias       | string (OPTIONNEL) |
| templates       | Template[]         |

| Propri√©t√©s du mod√®le | Type        | Valeurs √©num√©r√©es                                       |
| -------------------- | ----------- | ------------------------------------------------------- |
| subject              | string      | N/A                                                     |
| content              | string      | N/A                                                     |
| usageType            | enum string | 'Register' \| 'SignIn' \| 'ForgotPassword' \| 'Generic' |
