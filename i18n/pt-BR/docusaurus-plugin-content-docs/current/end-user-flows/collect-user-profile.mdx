---
sidebar_position: 7
---

# Coletar perfil do usuário

Além dos identificadores de autenticação e credenciais necessários para o login do usuário, seu aplicativo pode precisar coletar informações adicionais de perfil do usuário armazenadas no Logto para fácil recuperação via reivindicações JWT ou APIs, a fim de fornecer experiências de produto personalizadas. Você pode coletar dados do usuário pelos seguintes métodos:

- **Durante o registro de novos usuários**: Use o recurso [Coletar perfil do usuário](#quick-start) para adicionar uma etapa pronta chamada "Conte-nos sobre você" que coleta informações adicionais de perfil do usuário durante o cadastro. Novos usuários devem preencher todos os campos obrigatórios antes que o registro seja considerado concluído. Este documento foca nessa abordagem.

- **Após o registro do usuário**: Use a [Account API](/end-user-flows/account-settings/by-account-api) para implementar experiências de autoatendimento durante fluxos de onboarding, centros de conta ou ao longo da jornada de uso do produto para atualizar informações do perfil do usuário.

## Principais benefícios \{#key-benefits}

O recurso **Coletar perfil do usuário** permite que você obtenha informações adicionais do usuário durante a experiência de registro do usuário final. Recomendamos coletar apenas as informações essenciais necessárias para o seu produto, a fim de evitar fluxos de registro longos que possam impactar as taxas de conversão.

Este recurso permite que você:

- **Capture dados abrangentes do usuário**: Colete quaisquer [dados do usuário](/user-management/user-data) para fins de negócio ou conformidade, incluindo [propriedades padrão do usuário OIDC](#basic-user-data-fields) e [dados personalizados](#custom-user-data-fields).

- **Personalização flexível dos campos**: Escolha entre vários [tipos de campo](#field-types), incluindo texto, número, data, caixa de seleção, menu suspenso (select), URL e validação por regex para atender aos seus requisitos específicos de dados.

- **Experiência do usuário otimizada**: Personalize a exibição com rótulos, descrições, placeholders e regras de validação. Configure campos como obrigatórios ou opcionais conforme as necessidades do seu negócio.

- **Configurações de campo integradas**: Use campos de dados básicos pré-configurados para propriedades comuns do usuário com configuração plug-and-play. Aproveite campos compostos (endereço, nome completo) para coletar dados estruturados de forma eficiente em uma única etapa.

## Início rápido \{#quick-start}

1. Vá para <CloudLink to="/sign-in-experience/collect-user-profile">Console Logto > Experiência de Login > Coletar perfil do usuário</CloudLink>.
2. Clique em "Adicionar campos de perfil" e escolha um [campo integrado](#basic-user-data-fields) ou defina um [dado personalizado](#custom-user-data-fields) (chave alfanumérica) para criar.
3. Abra os detalhes do campo para definir tipo, rótulo, descrição, obrigatoriedade e configurações específicas do tipo (comprimento, intervalo, formato, opções, etc.). Clique em "Salvar alterações".
4. Volte para Experiência de login > Coletar perfil do usuário, arraste e solte os campos para reordená-los, e as alterações serão aplicadas automaticamente.
5. Teste a experiência do usuário com o [Logto live preview](/customization/live-preview) ou seu aplicativo de teste. Seja criando uma nova conta via [identificador (email / número de telefone / nome de usuário)](/end-user-flows/sign-up-and-sign-in/sign-up), [login social](/end-user-flows/sign-up-and-sign-in/social-sign-in) ou [SSO corporativo (Enterprise SSO)](/end-user-flows/enterprise-sso), todos verão a página "Conte-nos sobre você" durante o registro.

<img
  src="/img/assets/collect-user-profile-during-sign-up.png"
  alt="Coletar perfil do usuário durante o cadastro"
/>

## Tipos de dados do usuário \{#user-data-types}

Os dados do usuário podem ser visualizados em cada [perfil de usuário](/user-management/manage-users). Para uma visão geral completa de todas as categorias de dados do usuário, consulte a documentação de [estrutura de dados do usuário](/user-management/user-data). O recurso Coletar perfil do usuário permite coletar tanto dados básicos quanto dados personalizados durante o registro.

### Campos básicos de dados do usuário \{#basic-user-data-fields}

Os campos básicos de dados do usuário fornecidos pelo Logto são armazenados diretamente na propriedade `user` ou `user.profile`. Esses campos vêm com valores de configuração padrão e traduções i18n, prontos para uso imediato após a criação. Você também pode personalizar tipos de campo e parâmetros conforme suas necessidades específicas.

| Nome do campo (13%) | Chave de dados do usuário (44%)                                                                                                                                                                                                                                                                 | Descrição                                                                                                                                                                                                               |
| ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Nome                | <code>user.name</code>                                                                                                                                                                                                                                                                          | Nome completo do usuário em formato exibível, incluindo todos os componentes do nome (ex: "Jane Doe").                                                                                                                  |
| Nome completo       | <code>user.profile.givenName</code><br /><code>user.profile.middleName</code><br /><code>user.profile.familyName</code>                                                                                                                                                                         | Nome legal completo do usuário. Combina de forma flexível familyName, givenName e middleName conforme a configuração.                                                                                                   |
| Apelido             | <code>user.profile.nickname</code>                                                                                                                                                                                                                                                              | Nome casual ou familiar do usuário, que pode ser diferente do nome legal.                                                                                                                                               |
| Data de nascimento  | <code>user.profile.birthdate</code>                                                                                                                                                                                                                                                             | Data de nascimento do usuário em formato especificado (ex: "MM-dd-aaaa").                                                                                                                                               |
| Gênero              | <code>user.profile.gender</code>                                                                                                                                                                                                                                                                | Gênero autoidentificado do usuário (ex: "Feminino", "Masculino", "Prefiro não informar").                                                                                                                               |
| Perfil              | <code>user.profile.profile</code>                                                                                                                                                                                                                                                               | URL da página de perfil legível do usuário (ex: perfil de rede social).                                                                                                                                                 |
| Website             | <code>user.profile.website</code>                                                                                                                                                                                                                                                               | URL do site pessoal ou blog do usuário.                                                                                                                                                                                 |
| Endereço            | <code>user.profile.address.formatted</code><br /><code>user.profile.address.streetAddress</code><br /><code>user.profile.address.region</code><br /><code>user.profile.address.zoneinfo</code><br /><code>user.profile.address.postalCode</code><br /><code>user.profile.address.country</code> | Endereço completo do usuário (ex: "Rua Principal 123, Cidade, Brasil 12345"). Escolha entre linha única (<code>address.formatted</code>) ou multi-linha com componentes configuráveis (rua, cidade, estado, CEP, país). |

### Campos personalizados de dados do usuário \{#custom-user-data-fields}

Campos personalizados de dados do usuário são campos definidos pelo usuário que capturam informações adicionais não cobertas pelos campos básicos, como preferências, interesses, tamanho da empresa ou outros atributos específicos do negócio.

Ao criar campos personalizados, use apenas caracteres alfanuméricos para a chave de dados do usuário (ex: `customData.companySize`). Você pode então configurar o [tipo de campo](#field-types) e personalizar propriedades adicionais conforme suas necessidades.

Para mais informações sobre como recuperar e atualizar dados personalizados após a criação do usuário, veja [estrutura de dados do usuário](/user-management/user-data#custom-data).

## Tipos de campo \{#field-types}

Podemos categorizar os campos de forma simples:

- Primitivos: Texto, Número, Data, Caixa de seleção (Booleano), Menu suspenso (Seleção única), URL, Expressão regular.
- Compostos: Nome completo, Endereço.

### Propriedades comuns \{#common-properties}

| Propriedade (14%) | Aplica-se a (36%)       | Observações                                                                                                       |
| ----------------- | ----------------------- | ----------------------------------------------------------------------------------------------------------------- |
| Rótulo            | Todos                   | Nome exibido aos usuários. Flutua para o topo quando o campo tem valor ou está em foco. Este campo é obrigatório. |
| Placeholder       | Todos (exceto Checkbox) | Dica inline visível quando o rótulo está flutuando (exemplo de texto / orientação de formatação).                 |
| Descrição         | Todos (exceto Checkbox) | Texto de apoio abaixo do campo para instruções mais longas ou contexto extra.                                     |
| Obrigatório       | Todos (exceto Checkbox) | Se ativado, o envio é bloqueado quando vazio. Se desativado, uma tag `(Opcional)` é adicionada ao rótulo.         |

### Configurações específicas por tipo \{#type-specific-configurations}

| Tipo (14%)        | Aspectos configuráveis (36%)                   | Observações                                                                                                                                                                                                                                                                          |
| ----------------- | ---------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Texto             | min / max comprimento                          | Limite o comprimento mínimo e máximo do texto inserido pelo usuário.                                                                                                                                                                                                                 |
| Número            | min / max valor                                | Limite o intervalo numérico mínimo e máximo do valor inserido.                                                                                                                                                                                                                       |
| Data              | Formato de data (pré-definido / personalizado) | Escolha formatos pré-definidos (MM/dd/aaaa, dd/MM/aaaa, aaaa-MM-dd). Alterar o placeholder sobrescreve as interações padrão. Ou use padrões totalmente personalizáveis do <a href="https://date-fns.org/v2.30.0/docs/format" target="_blank" rel="noopener noreferrer">date-fns</a>. |
| Checkbox          | Valor padrão                                   | Marcado (Verdadeiro) / Desmarcado (Falso).                                                                                                                                                                                                                                           |
| Dropdown (Select) | Lista de opções (≥1)                           | Use <code>valor:rótulo</code> por linha. Se o rótulo for omitido, o valor será exibido.                                                                                                                                                                                              |
| URL               | N/A                                            | N/A                                                                                                                                                                                                                                                                                  |
| Regex             | Expressão regular                              | Padrão de validação (omita barras iniciais / finais). Ex: <code>^\d{3}-\d{2}-\d{4}$</code> para CPF.                                                                                                                                                                                 |
| Endereço          | Componentes                                    | Linha única ou multi-linha; subcomponentes: rua, cidade, estado, CEP, país.                                                                                                                                                                                                          |
| Nome completo     | Componentes                                    | Subcomponentes: primeiro, do meio, sobrenome.                                                                                                                                                                                                                                        |

## Validação \{#validation}

A validação dos campos é realizada no envio do usuário na etapa final do registro. As seguintes verificações são aplicadas:

- Presença obrigatória (exceto Checkbox).
- Limites de comprimento (Texto).
- Intervalo numérico (Número).
- Correspondência de padrão (Regex, Data com formato, URL, opção selecionada).
- Estrutura de URL (validação sintática básica, não de alcance).

Também se aplica aos subcomponentes dos dois campos compostos: `address` e `fullname`. Os componentes individuais também devem atender aos mesmos critérios de validação.

## Localização \{#localization}

O Logto fornece traduções em nível de sistema para os campos básicos de dados do usuário, como `firstName`, `lastName`, `gender` e `birthdate`. O rótulo desses campos é configurável no Console Logto.
Você pode sobrescrever esses rótulos fornecendo suas próprias traduções em [Logto > Experiência de Login > Conteúdo](https://cloud.logto.io/to/sign-in-experience/content)

Campos personalizados dependem inteiramente dos rótulos, placeholders e descrições que você fornecer. Para localização de campos personalizados, você pode lidar com traduções usando [Traga sua UI](/customization/bring-your-ui) ou [entre em contato conosco](https://logto.io/contact) com seu feedback.

## Management API (principais endpoints) \{#management-api-key-endpoints}

| Método (10%) | Endpoint                                                     | Finalidade                                            |
| ------------ | ------------------------------------------------------------ | ----------------------------------------------------- |
| GET          | <code>/api/custom-profile-fields</code>                      | Listar todos os campos.                               |
| GET          | <code>/api/custom-profile-fields/:name</code>                | Buscar definição de campo pelo nome.                  |
| POST         | <code>/api/custom-profile-fields</code>                      | Criar um campo.                                       |
| POST         | <code>/api/custom-profile-fields/batch</code>                | Criação em lote (≤20 itens por requisição).           |
| PUT          | <code>/api/custom-profile-fields/:name</code>                | Atualizar campo pelo nome e conjunto completo.        |
| DELETE       | <code>/api/custom-profile-fields/:name</code>                | Excluir um campo.                                     |
| POST         | <code>/api/custom-profile-fields/properties/sie-order</code> | Atualizar a ordem dos campos na Experiência de Login. |

## Boas práticas \{#best-practices}

- Colete apenas dados essenciais no cadastro; deixe informações desejáveis para a complementação posterior do perfil.
- Use campos compostos para dados estruturados (endereço, nome completo) para consistência e localização.
- Forneça exemplos claros / placeholders para campos sensíveis a formato (regex, data, intervalos numéricos).

## Perguntas frequentes \{#faqs}

<details>

<summary>

### Os campos de perfil coletam dados de usuários já existentes? \{#do-the-profile-fields-collect-existing-user-data}

</summary>

Não, eles coletam apenas informações na etapa final do registro de novos usuários.

</details>

<details>

<summary>

### E se eu excluir um campo? Isso remove os dados do usuário? \{#what-if-i-delete-a-field-does-it-remove-the-user-data}

</summary>

Não, isso não removerá os dados existentes do usuário. Apenas o campo será removido do formulário de cadastro na experiência do usuário final.

</details>

<details>

<summary>

### Posso coletar país com uma lista controlada em vez de um campo de texto comum? \{#can-i-collect-country-with-a-controlled-list-instead-of-a-regular-text-field}

</summary>

Sim, você pode alterar o componente "País" para um campo "Dropdown (Seleção única)" com opções padronizadas.

</details>
