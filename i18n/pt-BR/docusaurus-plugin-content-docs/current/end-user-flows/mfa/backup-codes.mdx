---
sidebar_position: 6
---

# Códigos de backup

## Conceitos \{#concepts}

Códigos de backup, também conhecidos como código de recuperação, são códigos de uso único para MFA, atuando como um backup caso os fatores primários de autenticação do usuário (por exemplo, aplicativo autenticador ou token de hardware) não estejam disponíveis.

Perdê-los pode levar a desafios na recuperação da conta. Portanto, é recomendado configurar um fator primário adicional antes de habilitar os Códigos de Backup, dando prioridade a ele.

O Logto gera automaticamente 10 Códigos de Backup para os usuários assim que eles configuram um fator adicional. Cada código é de uso único. Recomenda-se que os usuários regenerem um novo conjunto de códigos nas Configurações da Conta do Usuário (acessível através da [Management API](/integrate-logto/interact-with-management-api/)) antes de esgotar todos os códigos existentes.

## Configurar códigos de backup para MFA \{#configure-backup-codes-for-mfa}

1. Navegue até <CloudLink to="/mfa">Console > Autenticação multifatorial (MFA)</CloudLink>
2. Habilite o fator "Códigos de Backup". Os códigos de backup não podem ser usados como o único fator de MFA. É obrigatório usar códigos de backup em combinação com outros fatores primários de MFA (passkeys, aplicativo autenticador, SMS, email).
3. Configure sua política de MFA preferida (obrigatório vs. opcional)
4. Salve as alterações de configuração

## Configurar gerenciamento de códigos de backup \{#configure-backup-codes-management}

Você pode usar a Account API para construir interfaces personalizadas de gerenciamento de conta onde os usuários podem visualizar, regenerar e remover seus códigos de backup. Isso permite que os usuários gerenciem suas opções de recuperação diretamente nas configurações de conta do seu aplicativo.

Para etapas detalhadas de implementação e endpoints da API, veja [Configurações de conta pela Account API](/end-user-flows/account-settings/by-account-api#manage-backup-codes).

## Fluxos de configuração de códigos de backup \{#backup-codes-setup-flows}

Devido aos códigos de backup serem um fator secundário de MFA, eles só podem ser configurados após um fator primário de MFA ter sido configurado com sucesso. Um grupo de 10 códigos de backup gerados automaticamente será exibido ao usuário, que poderá baixá-los e copiá-los com segurança. O usuário deve confirmar manualmente os códigos de backup para concluir o processo de configuração do MFA.

<img
  src="/img/assets/backup-codes-set-up-flow.png"
  alt="Fluxo de configuração de códigos de backup"
/>

## Fluxo de verificação de códigos de backup \{#backup-codes-verification-flow}

Os códigos de backup servem como autenticação de emergência quando os fatores primários de MFA não estão disponíveis. Cada código só pode ser usado uma vez e se torna inválido após a verificação bem-sucedida.

**Prioridade de verificação:**

- **Fatores primários primeiro**: Quando os usuários têm outros fatores de MFA configurados, os fatores primários (passkeys, TOTP, SMS, email) são solicitados primeiro.
- **Acesso ao código de backup**: Os usuários podem alternar para códigos de backup clicando em "Tentar outro método de verificação" se os fatores primários não estiverem disponíveis.
- **Cenário de fallback**: Se todos os fatores primários forem excluídos, os códigos de backup se tornam a única opção de verificação. Após a verificação MFA bem-sucedida via códigos de backup durante o login, o Logto solicita automaticamente que os usuários configurem um novo fator primário.

<img
  src="/img/assets/backup-codes-verification-flow.png"
  alt="Fluxo de verificação de códigos de backup"
/>
