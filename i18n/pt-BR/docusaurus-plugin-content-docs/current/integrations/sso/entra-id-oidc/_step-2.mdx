import applicationDetails from './assets/entra_id_oidc_application_details.webp';
import createSecret from './assets/entra_id_oidc_create_secret.webp';
import endpoints from './assets/entra_id_oidc_endpoints.webp';

Após criar com sucesso um aplicativo Microsoft Entra OIDC, você precisará fornecer as configurações do IdP de volta para o Logto. Navegue até a aba `Connection` no Logto Console e preencha as seguintes configurações:

1. **Client ID**: Um identificador único atribuído ao seu aplicativo OIDC pelo Microsoft Entra. Este identificador é usado pelo Logto para identificar e autenticar o aplicativo durante o fluxo OIDC. Você pode encontrá-lo na página de visão geral do aplicativo como `Application (client) ID`.

<center>
  <img src={applicationDetails} alt="Detalhes do Aplicativo" />
</center>

2. **Client Secret**: Crie um novo segredo de cliente e copie o valor para o Logto. Este segredo é usado para autenticar o aplicativo OIDC e proteger a comunicação entre o Logto e o IdP.

<center>
  <img src={createSecret} alt="Criar Segredo" />
</center>

3. **Emissor (Issuer)**: A URL do emissor, um identificador único para o IdP, especificando a localização onde o provedor de identidade OIDC pode ser encontrado. É uma parte crucial da configuração OIDC, pois ajuda o Logto a descobrir os endpoints necessários.

   Em vez de fornecer manualmente todos esses endpoints OIDC, o Logto busca automaticamente todas as configurações necessárias e endpoints do IdP. Isso é feito utilizando a URL do emissor que você forneceu e fazendo uma chamada para o endpoint de descoberta do IdP.

   Para obter a URL do emissor, você pode encontrá-la na seção `Endpoints` da página de visão geral do aplicativo.

   Localize o endpoint `OpenID Connect metadata document` e copie a URL **SEM** o caminho final `.well-known/openid-configuration`. Isso ocorre porque o Logto irá automaticamente adicionar o `.well-known/openid-configuration` à URL do emissor ao buscar as configurações OIDC.

<center>
  <img src={endpoints} alt="Endpoints" />
</center>

4. **Escopo (Scope)**: Uma lista de strings separadas por espaço definindo as permissões ou níveis de acesso desejados solicitados pelo Logto durante o processo de autenticação OIDC. O parâmetro de escopo permite que você especifique quais informações e acessos o Logto está solicitando do IdP.

O parâmetro de escopo é opcional. Independentemente das configurações de escopo personalizadas, o Logto sempre enviará os escopos `openid`, `profile` e `email` para o IdP.

Clique em `Save` para finalizar o processo de configuração.
