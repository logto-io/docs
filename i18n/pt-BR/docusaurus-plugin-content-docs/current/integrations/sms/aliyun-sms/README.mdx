---
slug: /integrations/aliyun-sms
sidebar_label: Aliyun Short Message
sidebar_custom_props:
  description: Aliyun fornece serviÃ§os de computaÃ§Ã£o em nuvem para empresas online.
  logoFilename: 'aliyun.svg'
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# Configurar verificaÃ§Ã£o SMS com Aliyun Short Message Service

O conector oficial do Logto para o serviÃ§o de mensagens curtas da Aliyun.

<GuideTip />

## IntroduÃ§Ã£o

Aliyun Ã© um provedor de serviÃ§os em nuvem primÃ¡rio na Ãsia, oferecendo muitos serviÃ§os em nuvem, incluindo SMS (serviÃ§o de mensagens curtas). O Aliyun SMS Connector Ã© um plugin fornecido pela equipe Logto para chamar o serviÃ§o SMS da Aliyun, com a ajuda do qual os usuÃ¡rios finais do Logto podem se registrar e fazer login em sua conta Logto via cÃ³digo de verificaÃ§Ã£o SMS.

## Configurar um serviÃ§o de mensagens curtas no Console SMS da Aliyun

> ğŸ’¡ **Dica**
>
> VocÃª pode pular algumas seÃ§Ãµes se jÃ¡ as tiver concluÃ­do.

### Criar uma conta Aliyun

VÃ¡ para o [site da Aliyun](https://cn.aliyun.com/) e registre sua conta Aliyun se vocÃª nÃ£o tiver uma.

### Ativar e Configurar o Aliyun Short Message Service

1. FaÃ§a login com sua conta Aliyun no [site da Aliyun](https://cn.aliyun.com/) e vÃ¡ para a [pÃ¡gina do console do serviÃ§o SMS](https://www.aliyun.com/product/sms).
2. Clique no botÃ£o "Open for free" (å…è´¹å¼€é€š) no canto superior esquerdo da pÃ¡gina do serviÃ§o SMS e comece o processo de configuraÃ§Ã£o.
3. Leia e concorde com o "SMS service activation Agreement" (çŸ­ä¿¡æœåŠ¡å¼€é€šæ¡æ¬¾) e clique em "Subscribe to a service" (å¼€é€šæœåŠ¡) para prosseguir.
4. Agora vocÃª estÃ¡ na [pÃ¡gina do console do serviÃ§o SMS](https://dysms.console.aliyun.com/overview), vÃ¡ para "Mainland China" (å›½å†…æ¶ˆæ¯) ou "Outside Mainland China" (å›½é™…/æ¸¯æ¾³å°æ¶ˆæ¯) no menu lateral conforme seu caso de uso.
5. Adicione assinatura e modelo seguindo as diretrizes e forneÃ§a os materiais ou informaÃ§Ãµes necessÃ¡rias para revisÃ£o.
   - Lembre-se de selecionar "Verification Code Message" (éªŒè¯ç ) como "Scenario" (é€‚ç”¨åœºæ™¯) ao preencher a aplicaÃ§Ã£o de assinatura e tambÃ©m "Verification Code Message" (éªŒè¯ç ) para "Type" (æ¨¡æ¿ç±»å‹) ao solicitar uma revisÃ£o de modelo, pois estamos usando essas assinaturas e modelos para enviar cÃ³digo de verificaÃ§Ã£o. Atualmente, nÃ£o suportamos o envio de mensagens SMS alÃ©m de mensagens de texto relacionadas a cÃ³digos de verificaÃ§Ã£o.
   - AlÃ©m disso, use `{{code}}` como um espaÃ§o reservado onde vocÃª deseja colocar seu cÃ³digo de verificaÃ§Ã£o digital no conteÃºdo do modelo.
6. ApÃ³s enviar sua aplicaÃ§Ã£o de assinatura e modelo SMS, vocÃª precisarÃ¡ esperar que ela entre em vigor. Neste ponto, podemos voltar para a [pÃ¡gina do console do serviÃ§o SMS](https://dysms.console.aliyun.com/overview) e enviar um SMS de teste. Se suas assinaturas e modelos estiverem prontos para uso, vocÃª pode testÃ¡-los diretamente; se ainda nÃ£o estiverem em vigor, a Aliyun tambÃ©m fornece modelos de teste.
   - VocÃª pode precisar recarregar uma pequena quantia de dinheiro antes de enviar mensagens de teste.
   - VocÃª tambÃ©m pode ser solicitado a vincular um nÃºmero de telefone de teste antes de enviar mensagens de teste. Para mais detalhes, vÃ¡ para a guia "Quick Start" (å¿«é€Ÿå­¦ä¹ ) no menu lateral da [pÃ¡gina do console do serviÃ§o SMS](https://dysms.console.aliyun.com/overview).

## Compor o JSON do conector

1. Na [pÃ¡gina do console do serviÃ§o SMS](https://dysms.console.aliyun.com/overview), passe o mouse sobre seu avatar no canto superior direito e vÃ¡ para "AccessKey Management" (AccessKey ç®¡ç†), e clique em "Create AccessKey" (åˆ›å»º AccessKey). VocÃª obterÃ¡ um par "AccessKey ID" e "AccessKey Secret" apÃ³s concluir a verificaÃ§Ã£o de seguranÃ§a. Por favor, mantenha-os adequadamente.
2. VÃ¡ para a guia "Mainland China" (å›½å†…æ¶ˆæ¯) ou "Outside Mainland China" (å›½é™…/æ¸¯æ¾³å°æ¶ˆæ¯) que vocÃª acabou de visitar, vocÃª pode encontrar facilmente "Signature" (ç­¾ååç§°) e "Template Code" (æ¨¡æ¿ CODE).
   - Se vocÃª quiser usar a assinatura e o modelo apenas para teste, vÃ¡ para a guia "Quick Start" (å¿«é€Ÿå­¦ä¹ ) e vocÃª os encontrarÃ¡ abaixo de "Signature & Templates (For Test Only)".
3. Preencha as configuraÃ§Ãµes do Aliyun SMS Connector:
   - Preencha os campos `accessKeyId` e `accessKeySecret` com os pares de chave de acesso que vocÃª obteve no passo 1.
   - Preencha o campo `signName` com "Signature" (ç­¾ååç§°) mencionado no passo 2. Todos os modelos compartilharÃ£o este nome de assinatura.
   - VocÃª pode adicionar vÃ¡rios modelos de conector SMS para diferentes casos. Aqui estÃ¡ um exemplo de adiÃ§Ã£o de um Ãºnico modelo:
     - Preencha o campo `templateCode`, que Ã© como vocÃª pode controlar o contexto do SMS, com "Template Code" (æ¨¡æ¿ CODE) do passo 2.
     - Preencha o campo `usageType` com `Register`, `SignIn`, `ForgotPassword` ou `Generic` para diferentes casos de uso. (`usageType` Ã© uma propriedade do Logto para identificar o caso de uso adequado.) Para habilitar fluxos de usuÃ¡rio completos, sÃ£o necessÃ¡rios modelos com usageType `Register`, `SignIn`, `ForgotPassword` e `Generic`.

### Testar o conector SMS da Aliyun

VocÃª pode digitar um nÃºmero de telefone e clicar em "Send" para ver se as configuraÃ§Ãµes funcionam antes de "Save and Done".

Ã‰ isso. NÃ£o se esqueÃ§a de [Habilitar conector na experiÃªncia de login](/connectors/sms-connectors/#enable-phone-number-sign-up-or-sign-in).

### Tipos de configuraÃ§Ã£o

| Nome            | Tipo       |
| --------------- | ---------- |
| accessKeyId     | string     |
| accessKeySecret | string     |
| signName        | string     |
| templates       | Template[] |

| Propriedades do Template | Tipo        | Valores do enum                                         |
| ------------------------ | ----------- | ------------------------------------------------------- |
| templateCode             | string      | N/A                                                     |
| usageType                | enum string | 'Register' \| 'SignIn' \| 'ForgotPassword' \| 'Generic' |

## ReferÃªncias

- [Aliyun SMS - Quick Start](https://dysms.console.aliyun.com/quickstart)
