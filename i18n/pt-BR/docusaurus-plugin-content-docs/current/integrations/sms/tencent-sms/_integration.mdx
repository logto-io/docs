### Crie uma conta Tencent Cloud \{#create-an-tencent-cloud-account}

Acesse o [site da Tencent Cloud](https://cloud.tencent.com/) e registre sua conta caso ainda não tenha uma.

### Ative e configure o Tencent Cloud SMS \{#enable-and-configure-tencent-cloud-sms}

1. Faça login com sua conta no [site da Tencent Cloud](https://cloud.tencent.com/) e acesse a [página do console do serviço SMS](https://cloud.tencent.com/product/sms).
2. Clique no botão “Teste gratuito” (免费试用) na página do serviço SMS e siga as etapas de configuração.
3. Concorde com os “Termos de ativação do serviço SMS” (短信开通服务条款) e clique em “Ativar serviço” (开通服务) para prosseguir.
4. No “[Visão geral do Console SMS](https://console.cloud.tencent.com/smsv2)” (短信服务控制台概览), escolha “Mensagens domésticas”(国内消息) ou “Mensagens internacionais/Hong Kong, Macau, Taiwan”(国际/港澳台消息) na barra lateral conforme sua necessidade.
5. Adicione uma assinatura e um modelo para as mensagens SMS. Observações:
   - Ao adicionar uma “Assinatura” (签名), selecione “Código de verificação” (验证码) no campo "Cenários aplicáveis" (模版类型).
   - Ao adicionar um modelo, escolha “Código de verificação” como tipo de modelo.
   - Inclua um placeholder `{1}` no conteúdo do modelo, que será substituído por um código gerado aleatoriamente.
   - Modelos com múltiplos placeholders não são suportados. Use ou crie um modelo com apenas um placeholder.
6. Envie a assinatura e o modelo para aprovação. Após o envio:
   - Aguarde até que entrem em vigor.
   - O teste de SMS pode ser feito a partir da “[Visão geral do Console SMS](https://console.cloud.tencent.com/smsv2)” (短信服务控制台概览). Assinaturas e modelos aprovados podem ser usados diretamente para teste, ou utilize os modelos de teste fornecidos caso ainda estejam em análise.
   - Certifique-se de que sua conta tenha saldo suficiente para testes e pré-cadastre o número de telefone de teste para receber o SMS com sucesso.

Para orientações detalhadas, clique na guia “Guia de início rápido” (新手配置指引) na Visão geral do Console SMS.

## Componha o JSON do conector \{#compose-the-connector-json}

1. Acesse a “[Visão geral do Console SMS](https://console.cloud.tencent.com/smsv2)” e passe o mouse sobre seu avatar no canto superior direito. Navegue até “Gerenciamento de acesso > Chaves de acesso > Chaves de API” para gerar seu `AccessKey ID` e `AccessKey Secret` após concluir a verificação de segurança. Guarde-os adequadamente.
2. Na aba “Mensagens domésticas” (国内消息) ou “Mensagens internacionais/Hong Kong, Macau, Taiwan” (国际/港澳台消息), recupere o “Nome da assinatura” (签名名称) e o “Código do modelo” (模版 CODCE).
   - Para modelos de teste, verifique a guia “Início rápido” (快速开始) em "Modelos exclusivos para teste" (测试专用签名模版).

- Configure o Conector Tencent Cloud SMS com os seguintes campos:
  - `accessKeyId` e `accessKeySecret`: Use as credenciais do passo 1.
  - `signName`: O nome da assinatura obtido no passo 2. Isso se aplica a todos os modelos.
  - Adicione vários modelos para diferentes cenários, se necessário. Exemplo para um único modelo:
    - `templateCode`: Obtido do “Código do modelo” no passo 2.
    - `usageType`: Especifique um dos valores `Register`, `SignIn`, `ForgotPassword` ou `Generic` para diferentes cenários (propriedade específica do Logto).
    - Certifique-se de que os modelos estejam configurados para todos os quatro cenários para completar o fluxo.
  - `sdkAppId`: Encontrado em “[Gerenciamento de aplicativos](https://console.cloud.tencent.com/smsv2/app-manage)” (应用管理).
  - `region`: Especifique a região suportada a partir da “[Documentação de envio](https://cloud.tencent.com/document/api/382/52071#.E5.9C.B0.E5.9F.9F.E5.88.97.E8.A1.A8)” (发送文档).

### Teste o conector Tencent Cloud SMS \{#test-tencent-cloud-sms-connector}

Você pode digitar um número de telefone e clicar em "Enviar" para verificar se as configurações funcionam antes de clicar em "Salvar e concluir".

É isso. Não se esqueça de <MainSiteUrl href="/connectors/sms-connectors#enable-phone-number-sign-up-or-sign-in">Ativar o conector na experiência de login</MainSiteUrl>.

### Tipos de configuração \{#config-types}

| Nome            | Tipo       |
| --------------- | ---------- |
| accessKeyId     | string     |
| accessKeySecret | string     |
| signName        | string     |
| region          | string     |
| sdkAppId        | string     |
| templates       | Template[] |

| Propriedades do Template | Tipo        | Valores enum                                         |
| ------------------------ | ----------- | ---------------------------------------------------- |
| templateCode             | string      | N/A                                                  |
| usageType                | enum string | 'Register' / 'SignIn' / 'ForgotPassword' / 'Generic' |
