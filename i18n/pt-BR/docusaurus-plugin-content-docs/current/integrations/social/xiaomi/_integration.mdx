## Primeiros passos \{#get-started}

1. Crie uma conta de desenvolvedor na [Plataforma Aberta Xiaomi](https://dev.mi.com/)
2. Acesse o [Serviço de Conta Xiaomi](https://dev.mi.com/passport/oauth2/applist)
3. Crie um novo aplicativo se ainda não tiver um

## Configurar aplicativo OAuth da Xiaomi \{#configure-xiaomi-oauth-application}

1. Acesse o [Serviço de Conta Xiaomi](https://dev.mi.com/passport/oauth2/applist)
2. Configure as definições do OAuth:
   - Abra o aplicativo que deseja usar para login, clique em "Callback URL" (se você ainda não editou a callback URL, ela será exibida como "Enabled")
   - Adicione a URL de callback de autorização: `${your_logto_origin}/callback/${connector_id}`
   - O `connector_id` pode ser encontrado no topo da página de detalhes do conector no Logto Console
3. Obtenha o `AppID` e o `AppSecret` na página de detalhes do aplicativo
4. Preencha os campos `clientId` e `clientSecret` no Logto Console com os valores do passo 3
5. Configuração opcional:
   - `skipConfirm`: Se deve pular a página de confirmação de autorização da Xiaomi quando o usuário já estiver logado na conta Xiaomi, padrão é false

## Descrição dos escopos (Scopes) \{#scopes-description}

Por padrão, o conector solicita o seguinte escopo:

- `1`: Ler perfil do usuário

Escopos disponíveis:

| Valor do Escopo | Descrição                                       | Interface da API |
| --------------- | ----------------------------------------------- | ---------------- |
| 1               | Obter perfil do usuário                         | user/profile     |
| 3               | Obter open_id do usuário                        | user/openIdV2    |
| 1000            | Obter informações do roteador Xiaomi            | Mi Router        |
| 1001            | Acessar todas as informações do roteador Xiaomi | Mi Router        |
| 2001            | Acessar calendário da nuvem Xiaomi              | Mi Cloud         |
| 2002            | Acessar alarme da nuvem Xiaomi                  | Mi Cloud         |
| 6000            | Usar serviço de casa inteligente Mi Home        | Mi Home          |
| 6002            | Adicionar dispositivos de terceiros ao Mi Home  | Mi Home          |
| 6003            | Alexa controla dispositivos Xiaomi              | Mi Home          |
| 6004            | Serviço de terceiros acessa dispositivos Xiaomi | Mi Home          |
| 7000            | Seguir conta de serviço Yellow Pages            | Mi Cloud         |
| 11000           | Obter fotos da nuvem Xiaomi                     | Mi Cloud         |
| 12001           | Salvar dados do app na nuvem Mi                 | Mi Cloud         |
| 12005           | Usar serviço de ECG de saúde                    | Health           |
| 16000           | Obter passes do Mi Wallet                       | app/get_pass     |
| 20000           | Ativar serviço de voz XiaoAI                    | XiaoAI           |
| 40000           | Ativar serviço de IA em nuvem                   | Uso Interno      |

Vários escopos podem ser configurados separando-os com espaços, por exemplo: `1 3 6000`.

## Testar conector Xiaomi \{#test-xiaomi-connector}

É isso. Não se esqueça de [Ativar login social](https://docs.logto.io/connectors/social-connectors#enable-social-sign-in) na experiência de login.
