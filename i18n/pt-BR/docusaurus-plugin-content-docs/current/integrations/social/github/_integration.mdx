## Etapa 1: Crie um aplicativo OAuth no GitHub \{#step-1-create-an-oauth-app-on-github}

Antes de poder usar o GitHub como um provedor de autenticação, você deve criar um aplicativo OAuth no GitHub para obter credenciais OAuth 2.0.

1. Acesse o [GitHub](https://github.com/) e faça login com sua conta, ou crie uma nova conta se necessário.
2. Navegue até [Settings > Developer settings > OAuth apps](https://github.com/settings/developers).
3. Clique em **New OAuth App** para registrar um novo aplicativo:
   - **Application name**: Insira um nome descritivo para seu aplicativo.
   - **Homepage URL**: Insira a URL da página inicial do seu aplicativo.
   - **Authorization callback URL**: Copie o **Callback URI** do seu conector GitHub do Logto e cole aqui. Após os usuários fazerem login com o GitHub, eles serão redirecionados para cá com um código de autorização que o Logto usa para concluir a autenticação.
   - **Application description**: (Opcional) Adicione uma breve descrição do seu aplicativo.
4. Clique em **Register application** para criar o aplicativo OAuth.

:::note
Sugerimos não marcar a caixa **Enable Device Flow**, pois usuários que fizerem login com o GitHub em dispositivos móveis precisariam confirmar a ação inicial de login no aplicativo móvel do GitHub. Muitos usuários do GitHub não instalam o aplicativo móvel do GitHub em seus telefones, o que pode bloquear o fluxo de login. Só habilite isso se você espera que os usuários finais confirmem o fluxo de login pelo aplicativo móvel do GitHub. Veja detalhes sobre o [device flow](https://docs.github.com/en/developers/apps/building-oauth-apps/authorizing-oauth-apps#device-flow).

Para mais detalhes sobre como configurar aplicativos OAuth do GitHub, veja [Creating an OAuth App](https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/creating-an-oauth-app).
:::

## Etapa 2: Configure seu conector Logto \{#step-2-configure-your-logto-connector}

Após criar o aplicativo OAuth no GitHub, você será redirecionado para uma página de detalhes onde poderá copiar o Client ID e gerar um Client secret.

1. Copie o **Client ID** do seu aplicativo OAuth do GitHub e cole no campo `clientId` no Logto.
2. Clique em **Generate a new client secret** no GitHub para criar um novo segredo, depois copie e cole no campo `clientSecret` no Logto.
3. Clique em **Save and Done** no Logto para conectar seu sistema de identidade ao GitHub.

:::warning
Mantenha seu Client secret seguro e nunca o exponha em código do lado do cliente. Os client secrets do GitHub não podem ser recuperados se perdidos — será necessário gerar um novo.
:::

## Etapa 3: Configure escopos (Opcional) \{#step-3-configure-scopes-optional}

Os escopos definem as permissões que seu aplicativo solicita dos usuários e controlam quais dados seu aplicativo pode acessar das contas GitHub deles.

Use o campo `Scopes` no Logto para solicitar permissões extras do GitHub. Escolha uma das abordagens abaixo conforme sua necessidade:

### Opção 1: Nenhum escopo extra de API necessário \{#option-1-no-extra-api-scopes-needed}

- Deixe o campo `Scopes` em branco no seu conector GitHub do Logto.
- O escopo padrão `read:user` será solicitado para garantir que o Logto possa obter corretamente as informações básicas do usuário (por exemplo, email, nome, avatar).

### Opção 2: Solicitar escopos adicionais no login \{#option-2-request-additional-scopes-at-sign-in}

- Veja todos os [escopos disponíveis do GitHub para aplicativos OAuth](https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/scopes-for-oauth-apps) e adicione apenas os escopos que seu aplicativo precisa.
- Insira todos os escopos desejados no campo **Scopes**, separados por espaços.
- Quaisquer escopos listados aqui substituem os padrões, então sempre inclua o escopo de autenticação: `read:user`.
- Escopos adicionais comuns incluem:
  - `repo`: Controle total de repositórios privados
  - `public_repo`: Acesso a repositórios públicos
  - `user:email`: Acesso aos endereços de email do usuário
  - `notifications`: Acesso a notificações
- Certifique-se de que todos os escopos estejam escritos corretamente e sejam válidos. Um escopo incorreto ou não suportado resultará em um erro "Invalid scope" do GitHub.

### Opção 3: Solicitar escopos incrementais posteriormente \{#option-3-request-incremental-scopes-later}

- Após o usuário fazer login, você pode solicitar escopos adicionais sob demanda reiniciando um fluxo de autorização social federado e atualizando o conjunto de tokens armazenados do usuário.
- Esses escopos adicionais não precisam ser preenchidos no campo `Scopes` do seu conector GitHub do Logto, e podem ser obtidos através da Social Verification API do Logto.

Seguindo essas etapas, seu conector GitHub do Logto solicitará exatamente as permissões que seu aplicativo precisa — nem mais, nem menos.

:::tip
Se seu aplicativo solicita esses escopos para acessar a API do GitHub e realizar ações, certifique-se de habilitar **Store tokens for persistent API access** no conector GitHub do Logto. Veja a próxima seção para detalhes.
:::

## Etapa 4: Configurações gerais \{#step-4-general-settings}

Aqui estão algumas configurações gerais que não bloqueiam a conexão com o GitHub, mas podem afetar a experiência de autenticação do usuário final.

### Sincronizar informações de perfil \{#sync-profile-information}

No conector GitHub, você pode definir a política para sincronização das informações de perfil, como nomes de usuário e avatares. Escolha entre:

- **Only sync at sign-up**: As informações de perfil são buscadas apenas uma vez, quando o usuário faz login pela primeira vez.
- **Always sync at sign-in**: As informações de perfil são atualizadas toda vez que o usuário faz login.

### Armazenar tokens para acessar APIs do GitHub (Opcional) \{#store-tokens-to-access-github-apis-optional}

Se você deseja acessar APIs do GitHub e realizar ações com autorização do usuário (seja via login social ou vinculação de conta), o Logto precisa obter escopos de API específicos e armazenar tokens.

1. Adicione os escopos necessários seguindo as instruções acima.
2. Habilite **Store tokens for persistent API access** no conector GitHub do Logto. O Logto armazenará com segurança os tokens de acesso do GitHub no Secret Vault.

:::note
Ao usar um **OAuth App** do GitHub como descrito neste tutorial, você não pode obter um refresh token do GitHub porque o token de acesso não expira, a menos que o usuário o revogue manualmente. Portanto, não é necessário adicionar `offline_access` no campo `Scopes` — fazer isso pode causar um erro.

Se você deseja que o token de acesso expire ou usar refresh tokens, considere integrar com um **GitHub App** em vez disso. Saiba mais sobre as [diferenças entre GitHub Apps e OAuth Apps](https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/differences-between-github-apps-and-oauth-apps).
:::

## Etapa 5: Teste sua integração (Opcional) \{#step-5-test-your-integration-optional}

Antes de ir para produção, teste sua integração com o GitHub:

1. Use o conector em um tenant de desenvolvimento do Logto.
2. Verifique se os usuários conseguem fazer login com o GitHub.
3. Confira se os escopos corretos estão sendo solicitados.
4. Teste chamadas de API se você estiver armazenando tokens.

Os aplicativos OAuth do GitHub funcionam com qualquer conta de usuário do GitHub imediatamente — não é necessário criar usuários de teste ou aprovar o aplicativo como em outras plataformas.
