---
slug: /integrations/smtp
sidebar_label: SMTP
sidebar_custom_props:
  description: O SMTP é um protocolo de comunicação padrão da internet para transmissão de correio eletrônico.
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# Configurar verificação de email com SMTP

O conector oficial do Logto para SMTP.

<GuideTip />

## Introdução \{#get-started}

O SMTP (Simple Mail Transfer Protocol) é um protocolo de comunicação padrão da internet para transmissão de correio eletrônico. Servidores de correio e outros agentes de transferência de mensagens usam SMTP para enviar e receber mensagens.

## Configurar conector SMTP \{#set-up-smtp-connector}

SMTP é um protocolo de transmissão que não é exclusivo de alguns provedores de serviço de email específicos, mas pode funcionar com todos os provedores.

Estamos agora oferecendo guias sobre como usar o conector SMTP para enviar emails seguindo os provedores para sua melhor compreensão:

- _Gmail_ é o fornecedor de serviço de email mais popular em todo o mundo.
- _Aliyun direct mail_ e _SendGrid mail_. Alguns de vocês podem estar familiarizados com esses dois provedores de serviço de email porque a equipe do Logto forneceu conectores correspondentes; você provavelmente terá uma ideia geral sobre eles.

Esperamos que você consiga descobrir as configurações de todos os outros fornecedores de email com os exemplos a seguir :rocket:

### Configuração para uso do Gmail \{#set-up-for-gmail-use}

Você pode obter uma nova conta do Gmail em [Gmail](https://mail.google.com/), ou pode usar uma conta existente se já tiver uma.

Um [post oficial do Gmail](https://support.google.com/a/answer/176600) mostra como determinar os valores das propriedades necessárias para operar o Gmail via um conector SMTP.

### Integração com SendGrid SMTP API \{#integrate-with-sendgrid-smtp-api}

Inicialmente, assumimos que você já tem uma conta SendGrid. Se não, crie uma nova conta no [site do SendGrid](https://app.sendgrid.com/).

Você pode encontrar um guia passo a passo sobre ["Integrando com a API SMTP"](https://docs.sendgrid.com/for-developers/sending-email/integrating-with-the-smtp-api).

Os desenvolvedores podem acessar os detalhes do _remetente_ em ["Gerenciamento de Remetente"](https://mc.sendgrid.com/senders).

### Configuração com conta de correio direto Aliyun \{#configure-with-aliyun-direct-mail-account}

Faça login no [site da Aliyun](https://cn.aliyun.com/). Registre uma nova conta se você não tiver uma.

Siga o [guia de envio de emails usando SMTP](https://www.alibabacloud.com/help/en/directmail/latest/send-emails-using-smtp) e conclua essas 'tarefas' para obter as configurações e informações necessárias.

Você pode ir para a [página de endereço do serviço SMTP](https://www.alibabacloud.com/help/en/directmail/latest/smtp-service-address) para escolher um host de endereço de serviço SMTP e número de porta adequados.

Para verificar "Endereços de Remetente", você pode encontrar a entrada no painel de navegação à esquerda no [console DirectMail](https://dm.console.aliyun.com/). Você deve ver `Endereço do remetente` e `Senha SMTP` aqui.

> ℹ️ **Nota**
>
> Apenas um modelo de exemplo é fornecido nos casos anteriores para simplificar as coisas. Você deve adicionar mais modelos para outros casos de uso.
> Você deve alterar os valores envolvidos com "\<" e ">" de acordo com as configurações de sua conta do Gmail, SendGrid ou Aliyun e optar por manter outros campos sem "\<" e ">".
> Adicione `{{code}}` como um espaço reservado no conteúdo dos modelos para mostrar o código de verificação aleatório ao enviar emails.

### Testar conector SMTP \{#test-smtp-connector}

Você pode digitar um endereço de email e clicar em "Enviar" para ver se as configurações funcionam antes de "Salvar e Concluir".

É isso. Não se esqueça de [Habilitar conector na experiência de login](/connectors/email-connectors/#enable-email-sign-up-or-sign-in).

### Tipos de configuração \{#config-types}

| Nome      | Tipo       |
| --------- | ---------- |
| host      | string     |
| port      | string     |
| fromEmail | string     |
| templates | Template[] |

| Propriedades do Template | Tipo        | Valores Enum                                            |
| ------------------------ | ----------- | ------------------------------------------------------- |
| subject                  | string      | N/A                                                     |
| content                  | string      | N/A                                                     |
| usageType                | enum string | 'Register' \| 'SignIn' \| 'ForgotPassword' \| 'Generic' |
| contentType              | enum string | 'text/plain' \| 'text/html'                             |

**Opções de Autenticação de Nome de Usuário e Senha**

| Nome | Tipo                   | Valores Enum |
| ---- | ---------------------- | ------------ |
| user | string                 | N/A          |
| pass | string                 | N/A          |
| type | enum string (OPCIONAL) | 'login'      |

Você também pode configurar [Opções de Autenticação OAuth2](https://nodemailer.com/smtp/oauth2/) e outras configurações avançadas. Veja [aqui](https://nodemailer.com/smtp/) para mais detalhes.

Demos um exemplo de configuração com todos os parâmetros configuráveis na caixa de texto para ajudá-lo a configurar sua própria configuração. (Você é responsável pela configuração, alguns valores são para fins de demonstração e podem não se adequar ao seu caso de uso.)
