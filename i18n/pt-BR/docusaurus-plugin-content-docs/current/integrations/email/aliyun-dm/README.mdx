---
slug: /integrations/aliyun-dm
sidebar_label: Aliyun Direct Mail
sidebar_custom_props:
  description: Aliyun fornece servi√ßos de computa√ß√£o em nuvem para empresas online.
  logoFilename: 'aliyun.svg'
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# Configurar verifica√ß√£o de email com Aliyun Direct Mail

O conector oficial do Logto para o servi√ßo de email direto da Aliyun.

<GuideTip />

## Introdu√ß√£o

Aliyun √© um provedor de servi√ßos de nuvem prim√°rio na √Åsia, oferecendo muitos servi√ßos de nuvem, incluindo DM (email direto). O Aliyun DM Connector √© um plugin fornecido pela equipe Logto para chamar as APIs do servi√ßo Aliyun DM, com a ajuda do qual os usu√°rios finais do Logto podem se registrar e fazer login em sua conta Logto via c√≥digo de verifica√ß√£o por email (ou, em outras palavras, c√≥digo de verifica√ß√£o).

## Configurar um servi√ßo de email no Console do Aliyun DirectMail

> üí° **Dica**
>
> Voc√™ pode pular algumas se√ß√µes se j√° tiver conclu√≠do.

### Criar uma conta Aliyun

V√° para [Aliyun](https://aliyun.com/) e crie sua conta Aliyun se voc√™ n√£o tiver uma.

### Habilitar e configurar o Aliyun Direct Mail

V√° para a [p√°gina do console do servi√ßo DM](https://www.aliyun.com/product/directmail) e fa√ßa login. Habilite o servi√ßo Direct Mail clicando no bot√£o "Apply to enable" (Áî≥ËØ∑ÂºÄÈÄö) no canto superior esquerdo da p√°gina e comece o processo de configura√ß√£o.

A partir da [p√°gina do console de administra√ß√£o do DM](https://dm.console.aliyun.com/), voc√™ deve:

1. Ir para "Email Domains" (Âèë‰ø°ÂüüÂêç) na barra lateral e adicionar "New Domain" (Êñ∞Âª∫ÂüüÂêç) seguindo as instru√ß√µes.
2. Personalizar "Sender Addresses" (Âèë‰ø°Âú∞ÂùÄ) e "Email Tags" (ÈÇÆ‰ª∂Ê†áÁ≠æ) respectivamente.

Ap√≥s concluir a configura√ß√£o, h√° duas maneiras diferentes de testar:

- V√° para a [p√°gina de vis√£o geral do DirectMail](https://dm.console.aliyun.com/), encontre "Operation Guide" (Êìç‰ΩúÂºïÂØº) na parte inferior da p√°gina e clique em "Send Emails" (ÂèëÈÄÅÈÇÆ‰ª∂). Voc√™ encontrar√° todos os diferentes tipos de m√©todos de teste.
- Siga o caminho "Send Emails" (ÂèëÈÄÅÈÇÆ‰ª∂) -> "Email Tasks" (ÂèëÈÄÅÈÇÆ‰ª∂) na barra lateral para criar uma tarefa de teste.

## Compor o JSON do conector

1. Na [p√°gina do console de administra√ß√£o do DM](https://dm.console.aliyun.com/), passe o mouse sobre seu avatar no canto superior direito e v√° para "AccessKey Management" (AccessKey ÁÆ°ÁêÜ), e clique em "Create AccessKey" (ÂàõÂª∫ AccessKey). Voc√™ obter√° um par "AccessKey ID" e "AccessKey Secret" ap√≥s concluir a verifica√ß√£o de seguran√ßa. Por favor, mantenha-os adequadamente.
2. V√° para a guia "Sender Addresses" (Âèë‰ø°Âú∞ÂùÄ) ou "Email Tags" (ÈÇÆ‰ª∂Ê†áÁ≠æ) que voc√™ acabou de visitar na [p√°gina do console de administra√ß√£o do DM](https://dm.console.aliyun.com/), voc√™ pode encontrar facilmente o _Sender Address_ ou _Email Tag_.
3. Preencha as configura√ß√µes do Aliyun DM Connector:
   - Preencha os campos `accessKeyId` e `accessKeySecret` com os pares de chave de acesso que voc√™ obteve na etapa 1.
   - Preencha o campo `accountName` e `fromAlias` com "Sender Address" e "Email Tag" que foram encontrados na etapa 2. Todos os templates compartilhar√£o este nome de assinatura. (Voc√™ pode deixar `fromAlias` em branco, pois √© OPCIONAL.)
   - Voc√™ pode adicionar v√°rios templates de conector DM para diferentes casos. Aqui est√° um exemplo de adi√ß√£o de um √∫nico template:
     - Preencha o campo `subject`, que funcionar√° como t√≠tulo do email enviado.
     - Preencha o campo `content` com conte√∫dos de tipo string arbitr√°rios. N√£o se esque√ßa de deixar o espa√ßo reservado `{{code}}` para o c√≥digo de verifica√ß√£o aleat√≥rio.
     - Preencha o campo `usageType` com `Register`, `SignIn`, `ForgotPassword` ou `Generic` para diferentes casos de uso. (`usageType` √© uma propriedade do Logto para identificar o caso de uso adequado.) Para habilitar fluxos de usu√°rio completos, s√£o necess√°rios templates com `usageType` `Register`, `SignIn`, `ForgotPassword` e `Generic`.

### Testar o conector Aliyun DM

Voc√™ pode digitar um endere√ßo de email e clicar em "Send" para ver se as configura√ß√µes funcionam antes de "Save and Done".

√â isso. N√£o se esque√ßa de [Habilitar conector na experi√™ncia de login](/connectors/email-connectors/#enable-email-sign-up-or-sign-in).

### Tipos de configura√ß√£o

| Nome            | Tipo              |
| --------------- | ----------------- |
| accessKeyId     | string            |
| accessKeySecret | string            |
| accountName     | string            |
| fromAlias       | string (OPCIONAL) |
| templates       | Template[]        |

| Propriedades do Template | Tipo        | Valores do Enum                                         |
| ------------------------ | ----------- | ------------------------------------------------------- |
| subject                  | string      | N/A                                                     |
| content                  | string      | N/A                                                     |
| usageType                | enum string | 'Register' \| 'SignIn' \| 'ForgotPassword' \| 'Generic' |
