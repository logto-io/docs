---
id: email-connectors
title: Conectores de email
sidebar_label: Conectores de email
sidebar_position: 1
---

# Conectores de email

Um conector de email integra seu serviço de entrega de email ao Logto para permitir a verificação segura de usuários por email. Uma vez configurado, você pode enviar [senhas de uso único (OTPs)](https://auth.wiki/otp) para [cadastro de usuário](/end-user-flows/sign-up-and-sign-in/sign-up), [login](/end-user-flows/sign-up-and-sign-in/sign-in), [redefinição de senha](/end-user-flows/sign-up-and-sign-in/reset-password), [vinculação de conta](/end-user-flows/sign-up-and-sign-in/social-sign-in#account-linking), [convites de membros](/end-user-flows/organization-experience/invite-organization-members) e [validação de operações de alto risco](/end-user-flows/security-verification).

## Escolha seu conector de email \{#choose-your-email-connector}

O Logto oferece três tipos de opções de conectores de email:

### Serviço de Email Logto Gratuito (apenas Cloud) \{#free-logto-email-service-cloud-only}

Esta opção de serviço de email integrado é ideal para começar rapidamente tanto para [testes](/logto-cloud/tenant-settings#development) quanto para [produção](/logto-cloud/tenant-settings#production). Ela elimina a necessidade de integrações de terceiros e oferece entrega de email gratuita e confiável. Basta personalizar sua marca básica para os modelos de email pré-desenhados.

O conector Logto Email Service agora oferece capacidades de personalização de marca, incluindo logo, informações da empresa e nome do remetente.

No entanto, embora seja conveniente, há algumas limitações a serem observadas — você não pode personalizar o endereço de email do remetente, domínio ou o conteúdo específico do email.

```mdx-code-block
import DocCardList from '@theme/DocCardList';
import LogtoEmailService from '@site/docs/connectors/assets/icons/logto-email-service.svg';
import AwsDm from '@site/docs/connectors/assets/icons/aws-direct-mail.svg';
import SendGrid from '@site/docs/connectors/assets/icons/sendgrid.svg';
import Mailgun from '@site/docs/connectors/assets/icons/mailgun.svg';
import Postmark from '@site/docs/connectors/assets/icons/postmark.svg';
import AliyunDm from '@site/docs/connectors/assets/icons/aliyun-direct-mail.svg';
import Smtp from '@site/docs/connectors/assets/icons/smtp.svg';
import Http from '@site/docs/connectors/assets/icons/http.svg';

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Logto Email Service',
      href: '/connectors/email-connectors/built-in-email-service',
      description: 'Conector oficial para o Logto Email Service.',
      customProps: {
        icon: <LogtoEmailService />,
      }
    },
  ]}
/>
```

### Provedores de email populares \{#popular-email-providers}

Conecte-se ao seu provedor de serviço de email (ESP) preferido usando os guias passo a passo do Logto.

Essas opções permitem que você [personalize totalmente seus modelos de email](/connectors/email-connectors/email-templates), nome do remetente, adicione variáveis, etc., para melhor atender à sua marca.

Oferecemos suporte pronto para uso para os seguintes provedores de serviço de email:

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'AWS Direct Mail',
      href: '/integrations/aws-ses',
      description: 'Conector oficial do Logto para AWS Direct Mail.',
      customProps: {
        icon: <AwsDm />,
      }
    },
    {
      type: 'link',
      label: 'Mailgun',
      href: '/integrations/mailgun',
      description: 'Conector oficial do Logto para o serviço de email Mailgun.',
      customProps: {
        icon: <Mailgun />,
      }
    },
    {
      type: 'link',
      label: 'SendGrid Email',
      href: '/integrations/sendgrid-email',
      description: 'Conector oficial do Logto para o serviço de email SendGrid.',
      customProps: {
        icon: <SendGrid />,
      }
    },
    {
      type: 'link',
      label: 'Aliyun Direct Mail',
      href: '/integrations/aliyun-dm',
      description: 'Conector oficial do Logto para Aliyun Direct Mail.',
      customProps: {
        icon: <AliyunDm />,
      }
    },
    {
      type: 'link',
      label: 'Postmark Mail',
      href: '/integrations/postmark',
      description: 'Conector do Logto para o serviço de email Postmark.',
      customProps: {
        icon: <Postmark />,
      }
    },
  ]}
/>
```

### Personalize seu conector de email \{#customize-your-email-connector}

Se nenhuma das soluções acima atender às suas necessidades, você também pode optar por conectar ao serviço de email desejado usando o Simple Mail Transfer Protocol (SMTP).

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'SMTP',
      href: '/integrations/smtp',
      description: 'Conector oficial do Logto para SMTP.',
      customProps: {
        icon: <Smtp />,
      }
    },
  ]}
/>
```

Se você já possui seu próprio serviço de email e não pode usar uma conexão SMTP, também fornecemos um "conector de email HTTP".

Quando precisa enviar um email, ele faz uma chamada de API para o `endpoint` configurado para completar o fluxo de autenticação dependente de email. Observe que, para evitar erros no fluxo de autenticação, o endpoint configurado precisa retornar uma resposta 200 após receber o WebHook para informar ao Logto que recebeu a notificação para enviar o email. Nesse caso, você precisa monitorar seu próprio serviço de email para garantir a entrega bem-sucedida.

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'HTTP email connector',
      href: '/integrations/http-email',
      description: 'Conector oficial do Logto para email HTTP.',
      customProps: {
        icon: <Http />,
      }
    },
  ]}
/>
```

Se nossos conectores padrão não atenderem aos seus requisitos específicos, não hesite em [nos contatar](https://logto.productlane.com/roadmap). Para usuários OSS, você pode [implementar seu conector (OSS)](/logto-oss/develop-your-connector/implement-connectors#build-a-passwordless-connector) se a necessidade for urgente. Sempre recebemos [contribuições](/logto-oss/contribution); seu esforço pode ajudar outros membros da comunidade com as mesmas necessidades.

## Etapas de configuração \{#configure-steps}

Siga os passos abaixo para adicionar um conector de email:

1. Navegue até <CloudLink to="/connectors/passwordless">Console > Conectores > Conectores de Email e SMS </CloudLink>.
2. Para adicionar um novo conector de email, clique no botão "Configurar" e selecione o provedor de email desejado.
3. Revise a documentação README e configure seu provedor escolhido passo a passo.
4. Clique em "Salvar e Concluir" para finalizar.

:::note

Para garantir que emails críticos (como códigos de verificação) cheguem de forma confiável à caixa de entrada dos usuários e evitem filtros de spam, foque em duas prioridades:

- **Configure autenticação de email (SPF, DKIM, DMARC)**
  Provedores de email (Gmail, Outlook, etc.) usam esses protocolos para verificar se você não é um spammer. A ausência dessas configurações pode fazer seus emails caírem no spam ou serem rejeitados.
  - SPF (Sender Policy Framework): Lista servidores / IPs autorizados a enviar emails para seu domínio.
  - DKIM (DomainKeys Identified Mail): Adiciona uma assinatura digital para provar que os emails não foram adulterados.
  - DMARC (Domain-based Message Authentication): Instrui os destinatários sobre como lidar com emails que falham no SPF / DKIM.
- **Separe emails de autenticação & marketing**
  Emails de marketing frequentemente geram reclamações de spam ou altas taxas de rejeição. Se emails de autenticação compartilham o mesmo domínio / IP, sua entregabilidade é prejudicada.
  - Use um Domínio Dedicado: Envie emails de verificação de `@auth.seudominio.com`, marketing de `@marketing.seudominio.com`.
  - IP Dedicado: Solicite um IP exclusivo para emails de autenticação e aqueça-o gradualmente.
  - Combine o Endereço "De": Certifique-se de que o domínio do remetente esteja alinhado com os registros SPF / DKIM / DMARC.

:::

## Alterar conector de email \{#change-email-connector}

Você pode notar que apenas um conector de email pode ser adicionado.

Quando você já possui um conector de email, só é possível selecionar "Alterar conector de email". Ao realizar essa operação no console, ela entra em vigor imediatamente após salvar, portanto, teste sua configuração antes de salvar.

Para garantir a estabilidade do seu serviço, usuários Cloud podem criar um [tenant de desenvolvimento](/logto-cloud/tenant-settings#development) para o ambiente de desenvolvimento. Após testar a configuração no ambiente de desenvolvimento, "migre" a configuração para [produção](/logto-cloud/tenant-settings#production) e então salve a configuração.

## Habilite email para fluxos do usuário final \{#enable-email-address-for-end-user-flows}

Depois de adicionar e configurar o conector de email, você pode habilitar fluxos de autenticação baseados em email:

- [**Definir métodos de cadastro**](/end-user-flows/sign-up-and-sign-in/sign-up): Vá para <CloudLink to="/sign-in-experience/sign-up-and-sign-in">Experiência de login > Cadastro e login</CloudLink>. Na seção de cadastro, adicione "Endereço de email" ou "Endereço de email ou número de telefone" como identificador. Nota: A verificação do endereço de email é obrigatória durante o cadastro.
- [**Definir métodos de login**](/end-user-flows/sign-up-and-sign-in/sign-in): Na seção de login, adicione "Endereço de email" como método de login. Escolha entre senha e código de verificação por email para autenticação. Clique em "Adicionar outro" para opções adicionais.
- [**Configurar esqueci minha senha**](/end-user-flows/sign-up-and-sign-in/reset-password): Na seção de login, se o login por senha estiver habilitado, você verá a configuração "Esqueci minha senha". Habilite "Código de verificação por email" para permitir redefinição de senha por email.
- [**Configurar email para MFA**](/end-user-flows/mfa/email-mfa): Vá para <CloudLink to="/mfa">Experiência de login > Autenticação multifatorial</CloudLink>. Habilite "Código de verificação por email" como segundo fator para maior segurança.
- [**Configurar configurações de conta**](/end-user-flows/account-settings/by-account-api#update-or-link-new-email): Use a [Account API](/end-user-flows/account-settings/by-account-api) para personalizar seu Centro de Conta e permitir que usuários gerenciem seus endereços de email.

:::warning
Como nossas configurações entram em vigor imediatamente, excluir o conector de email existente pode afetar o login e o cadastro normal dos usuários finais.

Por exemplo, se o identificador de login incluir a combinação "email + código de verificação", excluir o conector de email existente impedirá que os usuários recebam códigos de verificação por email e resultará em erro no fluxo de login.

Esteja ciente dos riscos potenciais ao operar conectores.
:::

## Perguntas frequentes (FAQs) \{#faqs}

<details>
<summary>

### Como personalizar o nome do remetente do email? \{#how-to-customize-the-email-sender-name}

</summary>

Estamos trabalhando em mais conectores. Se precisar de outras opções, nos informe suas necessidades no Discord e registre um Feature Request no [GitHub](https://github.com/logto-io/logto/issues). Se precisar de mais assistência, também pode [nos contatar por email](mailto:contact@logto.io).

Para contribuidores, fornecemos um método fácil de extensão para criação de conectores, permitindo que você [personalize seu próprio conector](/logto-oss/develop-your-connector) conforme seu cenário específico. Você sempre é bem-vindo para enviar um pull request ao Logto, para que outros na comunidade também possam se beneficiar do seu trabalho.

</details>

<details>
<summary>

### Como posso restringir endereços IP para solicitações de email nos conectores de email do Logto? \{#how-can-i-restrict-ip-addresses-for-email-requests-in-logto-email-connectors}

</summary>

Uma alternativa é usar o conector de email HTTP do Logto.

Implemente um endpoint de API em seu servidor que chame o serviço de email relevante e acione esse endpoint de API através do [conector de email HTTP](/integrations/http-email) do Logto. Dessa forma, você terá controle total sobre o endereço IP do seu endpoint de API e poderá adicionar os IPs correspondentes à lista de permissões na configuração do provedor de serviço de email.

</details>
