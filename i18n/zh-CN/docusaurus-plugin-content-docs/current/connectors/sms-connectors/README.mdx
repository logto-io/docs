---
id: sms-connectors
title: SMS 连接器
sidebar_label: SMS 连接器
sidebar_position: 1
---

# SMS 连接器

配置 SMS 连接器可以将一次性密码 (OTP) 发送到用户的手机号码。这种无密码的认证机制可以用于各种场景，包括注册、登录、忘记密码和链接账户流程，以验证用户身份。它通过减少与密码相关的漏洞风险来简化用户认证并增强安全性。

## 选择你的 SMS 连接器

Logto 有一些内置的 SMS 连接器，允许开箱即用：

```mdx-code-block
import DocCardList from '@theme/DocCardList';
import Twilio from '../assets/icons/twilio.svg';
import SmsAero from '../assets/icons/smsaero.svg';
import Gateway from '../assets/icons/gateway.svg';
import AliyunSms from '../assets/icons/aliyun-sms.svg';
import TencentSms from '../assets/icons/tencent-sms.svg';
import Vonage from '../assets/icons/vonage.svg';

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Twilio SMS',
      href: '/integrations/twilio-sms',
      description: 'The official Logto connector for Twilio short message service.',
      customProps: {
        icon: <Twilio />,
      }
    },
    {
      type: 'link',
      label: 'SMS Aero',
      href: '/integrations/smsaero',
      description: 'The official Logto connector for SMSAero short message service.',
      customProps: {
        icon: <SmsAero />,
      }
    },
    {
      type: 'link',
      label: 'GatewayAPI SMS',
      href: '/integrations/gatewayapi',
      description: 'The official Logto connector for GatewayAPI SMS.',
      customProps: {
        icon: <Gateway />,
      }
    },
    {
      type: 'link',
      label: 'Aliyun SMS',
      href: '/integrations/aliyun-sms',
      description: 'The official Logto connector for Aliyun short message service.',
      customProps: {
        icon: <AliyunSms />,
      }
    },
    {
      type: 'link',
      label: 'Tencent SMS',
      href: '/integrations/tencent-sms',
      description: 'The official Logto connector for Tencent short message service.',
      customProps: {
        icon: <TencentSms />,
      }
    },
    /* {
      type: 'link',
      label: 'Vonage SMS',
      href: '/integrations/vonage-sms',
      description: 'The official Logto connector for Vonage SMS.',
      customProps: {
        icon: <Vonage />,
      }
    }, */
  ]}
/>
```

## 配置步骤

按照以下步骤添加 SMS 连接器：

1. **导航到：**<CloudLink to="/connectors/passwordless">控制台 > 连接器 > 邮件和 SMS 连接器</CloudLink>
2. **添加新的 SMS 连接器：**
   1. 点击“设置”按钮并选择你想要的 SMS 提供商
   2. 查看所选提供商的 README 文档
   3. 在“参数配置”部分填写必填字段
   4. 使用 JSON 编辑器自定义 SMS 模板
   5. 使用“通用”模板通过发送验证码到你的手机来测试配置
   6. 点击“保存并完成”以完成设置
3. **更换其他 SMS 连接器：**
   - 访问连接器详情页面并点击右上角的“更换连接器”
   - 或者，删除现有连接器并创建一个新的

:::note
你只能激活一个 _SMS 连接器_。

当你已经有一个邮件连接器时，你只能选择“更换邮件连接器”。在控制台执行此操作时，一旦保存就会立即生效，因此请务必在保存前测试你的配置。

为了确保服务的稳定性，Cloud 用户可以为开发环境创建一个开发租户。在开发环境中测试配置后，将配置“迁移”到生产环境，然后保存设置。
:::

## 启用手机号注册或登录

一旦成功添加 SMS 连接器并完成配置，你可以根据业务需求启用依赖于手机 + 验证码的登录和注册配置。

1. **导航到：**<CloudLink to="/sign-in-experience/sign-up-and-sign-in">控制台 > 登录体验 > 注册和登录</CloudLink>
2. **设置注册方式：**选择“手机号”或“邮箱地址或手机号”作为注册标识符。**注意：注册时目前必须进行手机号验证。**
3. **设置登录方式：**选择的注册标识符会自动成为登录方式。点击“添加其他”以获得更多登录选项。
4. **保存更改并测试：**点击“保存更改”以实施新的登录体验。记得使用“实时预览”来测试功能。

:::warning
由于我们的配置会立即生效，删除现有 SMS 连接器可能会影响终端用户的正常登录和注册流程。

例如，如果登录标识符包括“手机号 + 验证码”组合，删除现有 SMS 连接器将阻止用户通过邮件接收验证码，并导致登录流程出错。

请在操作连接器时注意潜在风险。
:::

## 常见问题

<details>
<summary> Logto 没有我想用的 SMS 连接器。我该怎么办？</summary>

我们仍在开发更多连接器。如果你需要更多选项，请在 Discord 上告诉我们你的需求，并在 [GitHub](https://github.com/logto-io/logto/issues) 上提交功能请求。如果你需要进一步的帮助，也可以 [通过电子邮件联系我们](mailto:contact@logto.io)。

对于开源 Logto 用户，我们提供了一种易于扩展的连接器创建方法，允许你根据具体场景 [自定义自己的连接器](/logto-oss/develop-your-connector)。我们欢迎你向 Logto 提交 pull request，以便社区中的其他人也能从你的工作中受益。

</details>
