---
id: sms-connectors
title: SMS 连接器
sidebar_label: SMS 连接器
sidebar_position: 1
---

# SMS 连接器

配置 SMS 连接器可以将[一次性密码 (OTPs)](https://auth.wiki/otp)发送到用户的手机号码。这种无密码认证 (Authentication) 机制可以在多种场景中使用，包括[注册](/end-user-flows/sign-up-and-sign-in/sign-up)、[登录](/end-user-flows/sign-up-and-sign-in/sign-in)、[忘记密码](/end-user-flows/sign-up-and-sign-in/reset-password)、[账户关联流程](/end-user-flows/sign-up-and-sign-in/social-sign-in#account-linking)、[成员邀请](/end-user-flows/organization-experience/invite-organization-members)和[验证用户身份](/end-user-flows/security-verification)。它通过减少与密码相关的风险来简化用户认证 (Authentication) 并增强安全性。

## 选择你的 SMS 连接器 \{#choose-your-sms-connector}

Logto 提供了一些内置的 SMS 连接器，支持开箱即用：

```mdx-code-block
import DocCardList from '@theme/DocCardList';
import Twilio from '@site/docs/connectors/assets/icons/twilio.svg';
import SmsAero from '@site/docs/connectors/assets/icons/smsaero.svg';
import Gateway from '@site/docs/connectors/assets/icons/gateway.svg';
import AliyunSms from '@site/docs/connectors/assets/icons/aliyun-sms.svg';
import TencentSms from '@site/docs/connectors/assets/icons/tencent-sms.svg';
import Vonage from '@site/docs/connectors/assets/icons/vonage.svg';

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Twilio SMS',
      href: '/integrations/twilio-sms',
      description: 'Logto 官方的 Twilio 短信服务连接器。',
      customProps: {
        icon: <Twilio />,
      }
    },
    {
      type: 'link',
      label: 'SMS Aero',
      href: '/integrations/smsaero',
      description: 'Logto 官方的 SMSAero 短信服务连接器。',
      customProps: {
        icon: <SmsAero />,
      }
    },
    {
      type: 'link',
      label: 'GatewayAPI SMS',
      href: '/integrations/gatewayapi',
      description: 'Logto 官方的 GatewayAPI SMS 连接器。',
      customProps: {
        icon: <Gateway />,
      }
    },
    {
      type: 'link',
      label: 'Aliyun SMS',
      href: '/integrations/aliyun-sms',
      description: 'Logto 官方的 Aliyun 短信服务连接器。',
      customProps: {
        icon: <AliyunSms />,
      }
    },
    {
      type: 'link',
      label: 'Tencent SMS',
      href: '/integrations/tencent-sms',
      description: 'Logto 官方的 Tencent 短信服务连接器。',
      customProps: {
        icon: <TencentSms />,
      }
    },
    /* {
      type: 'link',
      label: 'Vonage SMS',
      href: '/integrations/vonage-sms',
      description: 'Logto 官方的 Vonage SMS 连接器。',
      customProps: {
        icon: <Vonage />,
      }
    }, */
  ]}
/>
```

如果我们的标准连接器不能满足你的特定需求，请随时[联系我们](https://logto.productlane.com/roadmap)。对于 OSS 用户，如果需求紧急，你可以[实现自己的连接器 (OSS)](/logto-oss/develop-your-connector/implement-connectors#build-a-passwordless-connector)。我们始终欢迎[贡献](/logto-oss/contribution)；你的努力可能会帮助其他有相同需求的社区成员。

## 配置步骤 \{#configuration-steps}

按照以下步骤添加 SMS 连接器：

1. 导航到 <CloudLink to="/connectors/passwordless">控制台 > 连接器 > 电子邮件和 SMS 连接器</CloudLink>。
2. 要添加新的 SMS 连接器，点击“设置”按钮并选择你想要的 SMS 提供商。
3. 查看你选择的提供商的 README 文档。
4. 在“参数配置”部分填写必填字段。
5. 使用 JSON 编辑器自定义 SMS 模板。
6. 使用“通用”模板通过发送验证码到你的手机来测试配置。
7. 点击“保存并完成”以完成。

## 更改 SMS 连接器 \{#change-sms-connector}

要更改为另一个 SMS 连接器：

- 访问连接器详情页面并点击右上角的“更改连接器”
- 或者，删除现有连接器并创建一个新的

注意：你只能激活一个 _SMS 连接器_。

当你已经有一个 SMS 连接器时，你只能选择“更改 SMS 连接器”。在控制台执行此操作时，一旦保存就会立即生效，因此请务必在保存之前测试你的配置。

为了确保服务的稳定性，Cloud 用户可以为开发环境创建一个[开发租户](/logto-cloud/tenant-settings#development)。在开发环境中测试配置后，将配置“迁移”到[生产环境](/logto-cloud/tenant-settings#production)，然后保存设置。

## 启用手机号注册或登录 \{#enable-phone-number-for-end-user-flows}

一旦你成功添加 SMS 连接器并完成配置，你可以根据业务需求启用依赖于手机 + 验证码的登录和注册配置。

1. **导航到**：<CloudLink to="/sign-in-experience/sign-up-and-sign-in">控制台 > 登录体验 > 注册和登录</CloudLink>
2. [**设置注册方法**](/end-user-flows/sign-up-and-sign-in/sign-up)：选择“手机号”或“电子邮件地址或手机号”作为注册标识符。注意：目前注册时手机号验证是强制的。
3. [**设置登录方法**](/end-user-flows/sign-up-and-sign-in/sign-in)：选择的注册标识符会自动成为登录方法。点击“添加另一个”以获得更多登录选项。
4. **保存更改并测试**：点击“保存更改”以实施新的登录体验。记得使用“[实时预览](/customization/live-preview)”来测试功能。

:::warning
由于我们的配置会立即生效，删除现有 SMS 连接器可能会影响终端用户的正常登录和注册流程。

例如，如果登录标识符包括“手机号 + 验证码”组合，删除现有 SMS 连接器将阻止用户通过电子邮件接收验证码，并导致登录流程出错。

请在操作连接器时注意潜在风险。
:::

## 常见问题 \{#faqs}

<details>
<summary>

### Logto 没有我想使用的 SMS 连接器。我该怎么办？ \{#logto-doesnt-have-the-sms-connector-i-want-to-use-what-should-i-do}

</summary>

我们仍在开发更多的连接器。如果你需要更多选项，请在 Discord 中告知我们你的需求，并在 [GitHub](https://github.com/logto-io/logto/issues) 上提交功能请求。如果你需要进一步的帮助，也可以[通过电子邮件联系我们](mailto:contact@logto.io)。

对于开源 Logto 用户，我们提供了一种易于扩展的连接器创建方法，允许你根据特定场景[自定义自己的连接器](/logto-oss/develop-your-connector)。我们始终欢迎你向 Logto 提交拉取请求，以便社区中的其他人也能从你的工作中受益。

</details>
