---
description: 如何通过 CLI 管理数据库配置。
sidebar_position: 4
---

import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

# 管理数据库配置

Logto 帮助维护一些技术配置，例如 OIDC 和 Cookie 密钥。在我们可以通过 Admin Console 或 Management API 管理它们之前，你可以使用 CLI 来实现目标。

## 通过键获取配置

用法：

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto db config get <key> [keys...]
```

  </TabItem>
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli db config get <key> [keys...]
```

  </TabItem>

</Tabs>

假设你想获取 OIDC 私钥：

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto db config get oidc.privateKeys
```

  </TabItem>
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli db config get oidc.privateKeys
```

  </TabItem>

</Tabs>

输出将类似于：

```bash
oidc.privateKeys=["\n-----BEGIN PRIVATE KEY-----\nMIIJRAIBA..."]
```

运行 `logto db config get --help` 以获取所有可用的键，或查看 [Configuration](/concepts/core-service/configuration/#database-configs) 以获取详细说明。

## 通过键设置配置

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto db config set <key> [keys...]
```

  </TabItem>
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli db config set <key> [keys...]
```

  </TabItem>

</Tabs>

假设你想设置 OIDC Cookie 密钥：

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto db config set oidc.cookieKeys "[\"key1\",\"key2\"]"
```

  </TabItem>
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli db config set oidc.cookieKeys "[\"key1\",\"key2\"]"
```

  </TabItem>

</Tabs>

通常，设置的值应该是一个有效的 JSON 字符串，并遵循预定义的类型定义。运行 `logto db config set --help` 以获取所有可用的键，或查看 [Configuration](/concepts/core-service/configuration/) 以获取详细说明。
