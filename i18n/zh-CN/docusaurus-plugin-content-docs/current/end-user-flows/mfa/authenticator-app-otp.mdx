---
sidebar_position: 3
---

# 认证器应用 OTP

## 概念 \{#concepts}

认证器应用（也称为软件令牌）是最广泛采用的 [多因素认证 (MFA)](https://auth.wiki/mfa) 方法之一。它通过生成临时的 [一次性密码 (OTP)](https://auth.wiki/otp) 来增强在线服务认证 (Authentication) 的安全性。与物理硬件令牌不同，软件令牌通常是用户在其设备（如智能手机或电脑浏览器）上安装的应用程序或插件。软件令牌可以在单一设备本地运行，也可以根据认证器的能力和用户个人设置在多个设备间同步。

常见的软件令牌示例包括 Google Authenticator、Microsoft Authenticator、Duo、1Password、Authy 等。

## 为多因素认证 (MFA) 配置认证器应用 OTP \{#configure-authenticator-app-otp-for-mfa}

1. 进入 <CloudLink to="/mfa">控制台 > 多因素认证 (MFA)</CloudLink>
2. 启用“认证器应用 OTP”因子。建议将认证器应用 OTP 与其他 MFA 因子（如通行密钥、短信、备份码）结合使用，以减少对单一因子的依赖。
3. 配置你偏好的 MFA 策略（必需或可选）
4. 保存你的配置更改

## 配置认证器应用 OTP 管理 \{#configure-authenticator-app-otp-management}

你可以使用 Account API 构建自定义账户管理界面，让用户添加、查看和移除他们的认证器应用 OTP 设置。这对于创建个性化账户中心和实现跨设备备份场景非常有用。

有关详细的实现步骤和 API 端点，请参阅 [通过 Account API 进行账户设置](/end-user-flows/account-settings/by-account-api#link-a-new-totp)。

## 认证器应用 OTP 设置流程 \{#authentication-app-otp-setup-flows}

1. **二维码或密钥**：用户从你的服务获取二维码或密钥。
2. **添加账户**：用户使用他们的认证器应用扫描二维码或手动输入密钥，将账户添加到应用中。
3. **动态一次性密码**：认证器应用为已添加的账户显示一个每 1-2 分钟刷新一次的六位数验证码。
4. **完成 MFA 设置**：用户在验证码有效期内将其输入到 MFA 设置页面，完成认证器应用 OTP 的 MFA 设置。

<img src="/img/assets/otp-set-up-flow.png" alt="OTP 设置流程" />

## 认证器应用 OTP 验证流程 \{#authentication-app-otp-verification-flows}

1. **登录尝试**：在登录过程中，用户会被要求进行 MFA。
2. **获取 OTP**：打开他们的认证器应用，获取对应账户的 OTP。
3. **输入 OTP**：用户在验证码有效期内将认证器应用中显示的 OTP 输入到两步验证页面。
4. **认证 (Authentication)**：系统验证 OTP，验证成功后授予访问权限。

<img src="/img/assets/otp-verification-flow.png" alt="OTP 验证流程" />
