---
sidebar_position: 4
---

# 重置密码

当你配置了有效的 [Email 连接器](/connectors/email-connectors) 或 [SMS 连接器](/connectors/sms-connectors) 后，密码找回功能会自动为你启用。用户可以通过提供其注册的邮箱地址或手机号来重置密码。

## 密码重置流程 \{#password-reset-flow}

一旦启用重置密码功能，登录表单下方会显示“忘记密码”链接按钮。用户可以点击“忘记密码”链接来发起密码重置流程。

:::note
没有看到“忘记密码”链接？请确保你已配置有效的 **Email** 或 **SMS** 连接器。
:::

1. **访问登录页面**：用户访问登录页面。
2. **点击忘记密码链接**：用户点击“忘记密码”链接。
3. **输入邮箱 / 手机号**：点击“忘记密码”链接后，用户会被重定向到一个新页面，在那里输入其注册的邮箱地址或手机号。
4. **发送验证码**：Logto 会向用户提供的邮箱地址或手机号发送验证码，并跳转到验证码验证页面。
5. **输入验证码**：用户输入收到的验证码。Logto 会验证该验证码以及与邮箱地址或手机号关联的用户身份。
6. **输入新密码**：验证码验证成功后，用户会被提示输入新密码。
7. **密码重置成功**：如果新密码符合密码策略要求，密码将被成功更新。
8. **重定向到登录页面**：用户会被重定向到登录页面，使用新密码登录。

<img src="/img/assets/reset-password.png" alt="重置密码流程" />

## 已认证 (Authentication) 用户修改密码 \{#update-password-for-authenticate-users}

对于已认证 (Authentication) 的用户，可以通过访问账户设置页面来修改密码。查看 [账户设置](/end-user-flows/account-settings/) 了解如何实现用户账户设置页面。

## 自定义密码策略 \{#custom-password-policy}

自定义密码长度、字符要求和词语限制，以满足你的业务安全需求，同时提供良好的用户体验。这些设置可以在 **安全** 部分进行配置。查看 [密码策略](/security/password-policy) 了解更多信息。

## 常见问题 \{#faqs}

<details>
  <summary>

### 如何在密码重置成功后让用户登出？ \{#how-to-sign-out-a-user-after-a-successful-password-reset}

</summary>

订阅 `PostResetPassword` [Webhook 事件](/developers/webhooks/webhooks-events#user-interaction-hook-events)，在用户成功重置密码时收到通知。你可以随后触发 [登出](/end-user-flows/sign-out) 操作，使用户当前会话失效并重定向到登录页面。

</details>

<details>
  <summary>

### 如何在自定义 UI 上实现密码重置流程？ \{#how-to-implement-the-password-reset-flow-on-my-custom-ui}

</summary>

你可以通过使用 Logto 的 **Management API** 和 **Account API** 实现自定义的密码重置流程。详情请查看 [账户设置](/end-user-flows/account-settings/)。

</details>

<details>
  <summary>

### 如何将密码重置链接发送到用户邮箱？ \{#how-can-i-send-a-password-reset-link-to-the-users-email}

</summary>

你可以创建自托管的密码重置端点，并利用 Logto SDK 发起一个 `first_screen` 设置为 `reset-password` 的登录请求。这将无缝地将用户重定向到密码重置页面。

</details>
