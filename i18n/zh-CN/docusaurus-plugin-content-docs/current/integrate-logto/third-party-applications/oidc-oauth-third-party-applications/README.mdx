import AuthorizationIcon from '@site/src/assets/authorization.svg';
import CustomizationIcon from '@site/src/assets/customization.svg';

import ConsentScreen from './assets/consent-screen.webp';

# OIDC / OAuth 第三方应用程序

Logto 是一个基于 [OpenID Connect (OIDC)](https://auth.wiki/openid-connect) 协议构建的身份服务，提供 [认证 (Authentication)](https://auth.wiki/authentication) 和 [授权 (Authorization)](https://auth.wiki/authorization) 功能。这使得集成 OIDC 第三方应用程序与传统 Web 应用程序一样简单。

由于 OIDC 构建在 [OAuth 2.0](https://auth.wiki/oauth-2.0) 之上，增加了一个认证 (Authentication) 层，因此你也可以使用 OAuth 协议集成第三方应用程序。

## 设置 OIDC 配置

:::note
在设置 OIDC 配置之前，请确保你已经[创建了一个 OIDC 第三方应用程序](/quick-starts/third-party-oidc)。
:::

1. 提供你的 OIDC 第三方应用程序的 [**重定向 URI**](/integrate-logto/application-data-structure#redirect-uris)。这是第三方应用程序在用户通过 Logto 认证 (Authentication) 后将用户重定向到的 URL。你通常可以在第三方应用程序的 IdP 连接设置页面找到此信息。

2. 从 Logto 应用程序详情页面获取 [**客户端 ID**](/integrate-logto/application-data-structure#application-id) 和 [**客户端密钥**](/integrate-logto/application-data-structure#application-secret)，并将它们输入到你的服务提供商的 IdP 连接设置页面。

3. 从 Logto 应用程序详情页面获取 [**授权 (Authorization) 端点**](/integrate-logto/application-data-structure#authorization-endpoint) 和 [**令牌请求 (Token request) 端点**](/integrate-logto/application-data-structure#token-endpoint)，并提供给你的服务提供商。如果你的服务提供商支持 OIDC 发现，你可以简单地从 Logto 应用程序详情页面复制 **发现端点** 并提供给你的服务提供商。服务提供商将能够自动从发现端点检索所有最新的 OIDC 认证 (Authentication) 信息。否则，点击 **显示端点详情** 按钮以查看所有 OIDC 认证 (Authentication) 端点。

## OIDC 第三方应用程序的用户授权页面 (Consent screen)

出于安全原因，所有 OIDC 第三方应用程序在通过 Logto 认证 (Authentication) 后将被重定向到一个 [用户授权页面 (Consent screen)](/end-user-flows/consent-screen) 进行用户授权 (Authorization)。

所有第三方请求的 [用户资料权限](/integrate-logto/third-party-applications/oidc-oauth-third-party-applications/permission-management#user-permissions-user-profile-scopes)、[API 资源权限](/integrate-logto/third-party-applications/oidc-oauth-third-party-applications/permission-management#api-resource-permissions-api-resource-scopes)、[组织权限](/integrate-logto/third-party-applications/oidc-oauth-third-party-applications/permission-management#organization-permissions-organization-scopes) 和组织成员信息将显示在用户授权页面上。

只有在用户点击“授权 (Authorize)”按钮后，这些请求的权限才会被授予第三方应用程序。

<center>
  <img src={ConsentScreen} alt="用户授权页面" width={500} />
</center>

## 进一步操作

<DocCardList
  items={[
    {
      type: 'link',
      label: '权限管理',
      href: '/integrate-logto/third-party-applications/oidc-oauth-third-party-applications/permission-management',
      description: '了解如何管理你的 OIDC 第三方应用程序的权限。',
      customProps: {
        icon: <AuthorizationIcon width={20} height={20} />,
      },
    },
    {
      type: 'link',
      label: '用户授权页面品牌化',
      href: '/integrate-logto/third-party-applications/oidc-oauth-third-party-applications/consent-screen-branding',
      description: '个性化用户授权页面的外观，以匹配你的品牌标识并提供一致的用户体验。',
      customProps: {
        icon: <CustomizationIcon width={20} height={20} />,
      },
    },
  ]}
/>
