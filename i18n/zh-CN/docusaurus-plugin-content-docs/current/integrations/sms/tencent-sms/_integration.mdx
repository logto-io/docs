### 创建腾讯云账号 \{#create-an-tencent-cloud-account}

前往 [腾讯云官网](https://cloud.tencent.com/) 注册账号（如果你还没有的话）。

### 开通并配置腾讯云短信服务 \{#enable-and-configure-tencent-cloud-sms}

1. 使用你的账号登录 [腾讯云官网](https://cloud.tencent.com/)，并进入 [短信服务控制台页面](https://cloud.tencent.com/product/sms)。
2. 在短信服务页面点击“免费试用”按钮，并按照指引完成设置。
3. 同意“短信开通服务条款”，点击“开通服务”继续。
4. 在“[短信服务控制台概览](https://console.cloud.tencent.com/smsv2)”页面，根据需求在侧边栏选择“国内消息”或“国际/港澳台消息”。
5. 添加短信签名和模版。注意事项：
   - 添加“签名”时，在“模版类型”字段选择“验证码”。
   - 添加模版时，选择“验证码”作为模版类型。
   - 在模版内容中包含占位符 `{1}`，该占位符会被随机生成的验证码替换。
   - 不支持包含多个占位符的模版。请使用或创建仅包含一个占位符的模版。
6. 提交签名和模版审核。提交后：
   - 等待其生效。
   - 可以在“[短信服务控制台概览](https://console.cloud.tencent.com/smsv2)”页面发送测试短信。已审核通过的签名和模版可直接用于测试，审核中的可使用平台提供的测试模版。
   - 请确保你的账号余额充足，并提前登记测试手机号以便成功接收短信。

如需详细指引，请在短信服务控制台概览页面点击“新手配置指引”标签。

## 编写连接器 JSON \{#compose-the-connector-json}

1. 进入“[短信服务控制台概览](https://console.cloud.tencent.com/smsv2)”，将鼠标悬停在右上角头像，依次进入“访问管理 > 访问密钥 > API 密钥”，完成安全验证后生成你的 `AccessKey ID` 和 `AccessKey Secret`，请妥善保存。
2. 在“国内消息”或“国际/港澳台消息”标签下，获取“签名名称”和“模版 CODE”。
   - 测试模版可在“快速开始”标签下的“测试专用签名模版”中查看。

- 使用以下字段配置腾讯云短信连接器：
  - `accessKeyId` 和 `accessKeySecret`：使用第 1 步获取的凭证。
  - `signName`：第 2 步获取的签名名称，适用于所有模版。
  - 如需支持不同场景，可添加多个模版。单一模版示例：
    - `templateCode`：第 2 步获取的模版 CODE。
    - `usageType`：针对不同场景指定 `Register`、`SignIn`、`ForgotPassword` 或 `Generic`（Logto 专用属性）。
    - 请确保所有四种场景的模版均已配置，以完成流程。
  - `sdkAppId`：在“[应用管理](https://console.cloud.tencent.com/smsv2/app-manage)”页面获取。
  - `region`：在“[发送文档](https://cloud.tencent.com/document/api/382/52071#.E5.9C.B0.E5.9F.9F.E5.88.97.E8.A1.A8)”中指定支持的地域。

### 测试腾讯云短信连接器 \{#test-tencent-cloud-sms-connector}

你可以输入手机号并点击“发送”，在“保存并完成”前测试设置是否可用。

就是这样。别忘了<MainSiteUrl href="/connectors/sms-connectors#enable-phone-number-sign-up-or-sign-in">在登录体验中启用连接器</MainSiteUrl>。

### 配置类型 \{#config-types}

| 名称            | 类型       |
| --------------- | ---------- |
| accessKeyId     | string     |
| accessKeySecret | string     |
| signName        | string     |
| region          | string     |
| sdkAppId        | string     |
| templates       | Template[] |

| 模版属性     | 类型        | 枚举值                                               |
| ------------ | ----------- | ---------------------------------------------------- |
| templateCode | string      | N/A                                                  |
| usageType    | enum string | 'Register' / 'SignIn' / 'ForgotPassword' / 'Generic' |
