---
slug: /integrations/google
sidebar_label: Google
sidebar_custom_props:
  description: Google 是主要的搜索引擎技术和电子邮件服务提供商。
tutorial_config_name: Google OAuth 应用
---

import GuideTip from '../../fragments/_guide-tip.mdx';

import Integration from './_integration.mdx';

# 设置 Google 社交登录

集成 Google OAuth 2.0 认证 (Authentication) 系统，实现 Google 登录、账户关联以及安全访问 Google API。

<GuideTip />

## 开始使用 \{#get-started}

Google 连接器 (Connector) 支持 OAuth 2.0 集成，让你的应用可以：

- 添加“使用 Google 登录”认证 (Authentication)
- 将用户账户与 Google 身份关联
- 从 Google 同步用户资料信息
- 通过 Logto Secret Vault 安全存储令牌访问 Google API，实现自动化任务（如编辑 Google Docs、管理应用内的日历事件）

要设置这些认证 (Authentication) 功能，首先需要在 Logto 创建一个 Google 连接器 (Connector)：

1. 前往 <CloudLink to="/connectors/social">Logto 控制台 > 连接器 (Connector) > 社交连接器 (Connector)</CloudLink>。
2. 点击 **添加社交连接器 (Connector)**，选择 **Google**，点击 **下一步**，并按照分步教程完成集成。

<Integration />

## 使用 Google 连接器 (Connector) \{#utilize-the-google-connector}

创建好 Google 连接器 (Connector) 并与 Google 连接后，你可以将其集成到终端用户流程中。根据你的需求选择合适的选项：

### 启用“使用 Google 登录” \{#enable-sign-in-with-google}

1. 在 Logto 控制台，前往 <CloudLink to="/sign-in-experience/sign-up-and-sign-in">登录体验 > 注册与登录</CloudLink>。
2. 在 **社交登录** 部分添加 Google 连接器 (Connector)，让用户可以通过 Google 认证 (Authentication)。
3. 可选：在登录和注册页面启用 **Google One Tap**，为用户提供更流畅的认证 (Authentication) 体验。

了解更多关于[社交登录体验](/end-user-flows/sign-up-and-sign-in/social-sign-in)。

### 关联或解除关联 Google 账户 \{#link-or-unlink-a-google-account}

使用 Account API 在你的应用中构建自定义账户中心，让已登录用户可以关联或解除关联他们的 Google 账户。[参见 Account API 教程](/end-user-flows/account-settings/by-account-api#link-a-new-social-connection)

:::tip
你可以只为账户关联和 API 访问启用 Google 连接器 (Connector)，而不启用社交登录。
:::

### 访问 Google API 并执行操作 \{#access-google-apis-and-perform-actions}

你的应用可以从 Secret Vault 获取已存储的 Google 访问令牌 (Access token)，调用 Google API 并自动化后端任务（例如管理 Google Drive 文件、创建日历事件或通过 Gmail 发送邮件）。参考相关指南获取用于 API 访问的存储令牌。

## 管理用户的 Google 身份 \{#manage-user-s-google-identity}

用户关联 Google 账户后，管理员可以在 Logto 控制台管理该连接：

1. 前往 <CloudLink to="/users">Logto 控制台 > 用户管理</CloudLink> 并打开该用户的资料页。
2. 在 **社交连接** 部分找到 Google 项，点击 **管理**。
3. 在此页面，管理员可以管理用户的 Google 连接，查看所有从 Google 账户授权并同步的资料信息，以及检查访问令牌 (Access token) 状态。

## 参考资料 \{#reference}

<Url href="https://developers.google.com/identity/protocols/oauth2/openid-connect#appsetup">
  Google 身份：设置 OAuth 2.0
</Url>

<Url href="https://developers.google.com/identity/gsi/web/guides/overview">
  Google 身份服务（One Tap）
</Url>

<Url href="https://console.cloud.google.com/">Google Cloud 控制台</Url>
