## 在钉钉开放平台创建 Web 应用 \{#create-a-web-app-in-the-dingtalk-open-platform}

提示：如果你已经完成了部分步骤，可以跳过相关部分。

### 注册钉钉开发者账号 \{#register-a-dingtalk-developer-account}

如果你还没有钉钉开发者账号，请前往 [钉钉开放平台](https://open.dingtalk.com) 注册。

### 创建应用 \{#create-an-application}

1. 在钉钉开放平台 “[应用开发](https://open-dev.dingtalk.com/fe/app)” > “企业内部应用” > “钉钉应用”中，点击“创建应用”
2. 填写**应用名称**和**应用描述**，点击“保存”
3. 在左侧导航栏选择“开发配置” > “安全设置”，找到并配置“回调地址” `${your_logto_origin}/callback/${connector_id}`。你可以在管理控制台添加相应连接器后，在连接器详情页找到 `connector_id`
4. 在左侧导航栏选择“基本信息” > “凭证与基础信息”，获取 `Client ID` 和 `Client Secret`

### 配置权限 \{#configure-permissions}

在“开发配置” > “权限管理”中，选择 `Contact.User.Read` 和 `Contact.User.mobile` 权限并进行授权

### 发布应用 \{#release-application}

在左侧导航栏选择“应用发布” > “版本管理与发布”，创建并发布第一个版本以激活 `Client ID` 和 `Client Secret`

:::note
如果应用未发布版本，获取到的 “Client ID” 和 “Client Secret” 将无法使用，或请求会失败。
:::

## 配置你的连接器 \{#configure-your-connector}

将你在上文 OAuth 应用详情页获得的 _Client ID（原 AppKey 和 SuiteKey）_ 和 _Client Secret（原 AppKey 和 SuiteKey）_ 分别填写到 `clientId` 和 `clientSecret` 字段中。

`scope` 目前支持两个值：`openid` 和 `openid corpid`。`openid` 允许在授权后获取用户的 `userid`，而 `openid corpid` 允许在登录流程中获取用户的 `id` 以及所选组织的 `id`。多个值请用空格分隔。注意：需要进行 URL 编码。

### 配置类型 \{#config-types}

| 名称         | 类型   |
| ------------ | ------ |
| clientId     | string |
| clientSecret | string |
| scope        | string |

## 测试钉钉连接器 \{#test-dingtalk-connector}

就是这样。现在钉钉连接器应该可以使用了。别忘了 [在登录体验中启用连接器](https://docs.logto.io/docs/recipes/configure-connectors/social-connector/enable-social-sign-in/)。

启用钉钉 Web 连接器后，你可以再次登录你的应用，检查是否可以正常使用。

:::note
请确保在开发过程中严格遵守钉钉开放平台的使用规范和开发指南。
:::

## 支持 \{#support}

如果你有任何疑问或需要进一步帮助，请访问 [钉钉开发者文档](https://open.dingtalk.com/document/orgapp/obtain-identity-credentials) 或联系钉钉技术支持。
