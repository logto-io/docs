---
id: billing-and-pricing
title: 计费与定价
sidebar_position: 5
---

# 计费与定价

在 Logto，我们的 [Pro 计划](https://logto.io/pricing) 完全自助，旨在让你轻松理解和管理你的账单，保持透明。

## 了解结构 \{#understand-the-structure}

基本结构如下：

```math
\begin{align*}
\text{你的下一个账单} &= \$24 \text{（基础价格）} \\
&+ \text{附加项费用（未结算用量）} \\
&+ \text{附加项费用（下周期费用）}
\end{align*}
```

在控制台的租户设置部分，你会看到“你的下一个账单”区域，可以用来监控和管理即将产生的费用。

<img src="/img/assets/next-billing-info.png" alt="下一个账单信息" />

## 项目明细 \{#item-breakdown}

请注意，只有少数功能属于附加项结构。

同时，Logto 还提供按需付费和按比例计费的模式，确保你能方便地充分利用我们的服务。

|                               | 包含额度                | 额外费用                  |
| ----------------------------- | ----------------------- | ------------------------- |
| **令牌 (Tokens)**             | 50K                     | $0.08 / 月 / 100 超出部分 |
| **机器对机器 (M2M) 应用**     | 1                       | $8 **_每个_** / 月        |
| **API 资源**                  | 3                       | $4 **_每个_** / 月        |
| **企业单点登录 (SSO)**        | 0                       | $48 **_每个_** / 月       |
| **多因素认证 (MFA)**          | 所有因子                | $48 / 月                  |
| **组织 (Organization)**       | 无限组织 & 所有组织功能 | $48 / 月                  |
| **基于角色的访问控制 (RBAC)** | 无限角色和权限          | $32 / 月                  |
| **SAML 应用**                 | 0                       | $96 **_每个_** / 月       |
| **第三方应用**                | 0                       | $8 **_每个_** / 月        |
| **高级安全包**                | 所有高级安全功能        | $48 / 月                  |
| **租户成员**                  | 1                       | $8 **_每个_** / 月        |

如果考虑这些因素，算法如下：

```math
\begin{align*}
\text{你的下一个账单} &= \$24 \\
&+ \text{附加项单价} \times \\
\quad & (\text{新增数量} \times \text{创建时剩余按比例时间} \\
\quad &- \text{移除数量} \times \text{删除时剩余按比例时间}) \\
\quad &+ \text{附加项单价} \times \text{剩余数量}
\end{align*}
```

1. **附加项单价**：该附加项的单价
2. **新增数量**：在**当前**计费周期内新增的附加项数量
3. **移除数量**：在**当前**计费周期内移除的附加项数量
4. **创建时剩余按比例时间**：你**创建**资源时本周期剩余的按比例时间
5. **删除时剩余按比例时间**：你**删除**资源时本周期剩余的按比例时间
6. **剩余数量**：**下一个**周期持续计费所需的数量

我们来看两个例子，帮助理解。

### 示例 1：无变动时的持续计费 \{#example-1-consistent-billing-with-no-changes}

如果你没有任何变动（如新增或移除项目），账单会保持一致。

例如，你在 Pro 计划下使用了 2 个 SSO 服务，只要不做任何变动，账单会保持一致。

```math
\text{你的下一个账单} = \$ 24 + \$ 48 \times 2 = \$ 120
```

### 示例 2：新增附加项或变动会影响账单 \{#example-2-adding-add-ons-or-making-changes-will-affect-your-upcoming-bills}

根据不同情况，这会让你的下一个账单略有不同，但算法依然适用。

**情况 1：你订阅了 Pro 计划但没有任何附加项，仅测试了 10 天企业单点登录 (SSO)。**

如果你的订阅在每月 5 日续费，且你在 20 日新增了企业单点登录 (SSO)，本月共使用了 15 天。如果你在 30 日删除了该 SSO，说明你只用了 10 天。

```math
\$24 + \$48 \times (1 \times 15 / 30) - \$48 \times (1 \times 5 / 30) = \$40
```

**情况 2：你订阅了 Pro 计划但没有任何附加项。新增和移除 API 资源后，最终使用了 5 个 API 资源**

在这种情况下，你在本计费周期内更新了附加项功能，因此变动会体现在下一个账单中。变动后的第一个月账单可能略高。账单将包括 $24 基础价格、未结算用量的附加项费用，以及下一个周期的全额费用。

你的计费周期从每月 1 日开始，前 3 个 API 资源免费。本月你做了两次操作：

1. 5 日新增 4 个资源。
2. 15 日删除其中 2 个资源。

因此，下一个周期你会持续拥有 2 个 API 资源。

```math
\$24 + \$8 \times (4 \times 25 - 2 \times 15) / 30 + 2 \times \$8 = \$58.67
```

### 附加项使用时长如何计算？\{#how-is-the-add-on-usage-time-determined}

我们采用按需付费模式，你可能会关心频繁新增或移除资源时的计费方式。附加项仅在实际启用期间计费。无需担心，我们的系统由 Stripe 提供支持，精确到秒地计算你的用量，确保账单准确反映每个资源的实际使用时长。

如果你取消 Pro 计划，我们会退还未使用的附加项费用，并从你的最终账单中扣除。

## 升级或降级 \{#upgrade-or-downgrade}

### 免费计划升级到 Pro \{#free-plan-upgrade-to-pro}

以下情况你可能需要考虑从免费计划升级：

1. 你的 MAU 或令牌 (Token) 用量超出额度。
2. 你希望使用仅在 Pro 计划中提供的功能。

### 开发租户升级到 Pro \{#dev-tenant-upgrade-to-pro}

如果你当前使用的是开发租户，想要转为生产环境 Pro 计划，可以轻松完成：

1. 保留你的工作：所有配置、应用和设置都会迁移到 Pro 计划。
2. 立即访问：升级后立即获得所有 Pro 计划功能和更高额度。

要将开发租户转为 Pro 计划，请前往 <CloudLink to="/tenant-settings/settings">控制台 > 租户设置 > 设置</CloudLink> 并点击“转换”。

### Pro 计划升级到企业版 \{#pro-plan-upgrade-to-enterprise}

如果 Pro 计划无法满足你的需求，需要完整的企业级支持，请[联系我们](https://logto.io/contact)以定制企业方案。

### Pro 计划降级到免费计划 \{#pro-plan-downgrade-to-free-plan}

如果你选择停止使用 Pro 计划，可以切换到免费计划，但需要将用量调整到免费额度以内。

## 未来定价计划变更 \{#future-pricing-plan-change}

为确保稳定和可预测的计费体验，Logto 会在任何定价变更前提前通知你。根据你的计划和用量，我们可能：1. 保留你当前的计划，或 2. 提供宽限期以便你迁移到新计划。

Logto 会以公平和周到的方式做出这些调整，并保留最终解释权。

## 企业客户定价说明 \{#enterprise-customer-pricing-considerations}

对于企业客户，定价以合同为准。1. 合同外自助新增部分遵循 Pro 计划的附加项和按需付费结构。2. 超出合同额度的用量按合同约定的附加项单价计费。3. 合同未覆盖的新功能将按最新 Pro 计划定价执行。

如需详细的企业定价条款，请[联系企业销售团队](https://logto.io/contact)。

## 常见问题 \{#faqs}

<details>

<summary>

### 令牌 (Token) 消耗与 MAU 有什么关系？\{#what-is-the-connection-between-token-consumption-and-mau}

</summary>

Logto 采用符合 OAuth 2.0 和 OpenID Connect 标准的**基于令牌 (Token) 的认证 (Authentication)**。每次认证 (Authentication) 或授权 (Authorization) 请求，Logto 都会签发代表用户认证 (Authentication) 或授权 (Authorization) 状态的令牌 (Token)，如访问令牌 (Access token)、ID 令牌 (ID token) 和刷新令牌 (Refresh token)。

在计费时，**仅统计访问令牌 (Access token)**（ID 令牌 (ID token) 和刷新令牌 (Refresh token) 不计入）。

在以下场景会签发并计数**访问令牌 (Access token)**：

- **用户登录**：用户成功登录后，会签发一个不透明令牌 (Opaque token) 作为访问令牌 (Access token)。该令牌可用于调用 UserInfo 端点或 Logto Account API 进行账户管理。
- **后端 API 授权 (RBAC)**：启用基于角色的访问控制 (RBAC) 保护后端 API 时，每次资源特定的授权 (Authorization) 请求都会签发一个 JWT 访问令牌 (Access token)，用于用户初次认证 (Authentication) 后的访问。了解更多 [RBAC](https://docs.logto.io/authorization/role-based-access-control) 和 API [保护](https://docs.logto.io/authorization/global-api-resources)。
- **组织授权 (Authorization)**：启用组织 (Organization) 功能后，Logto 会通过签发组织访问令牌 (Organization token) 实现组织级访问控制。每次组织特定的授权 (Authorization) 请求都会生成一个独立的组织访问令牌 (Organization token)。了解更多组织级 [授权 (Authorization)](https://docs.logto.io/authorization/organization-permissions) 和 API [保护](https://docs.logto.io/authorization/organization-level-api-resources)。
- **机器对机器 (M2M) 授权 (Authorization)**：每次 `client_credentials` 授权 (Authorization) 请求（如访问 Logto Management API）都会签发一个访问令牌 (Access token)。
- **令牌 (Token) 交换**：在个人访问令牌 (Personal access token) 交换或用户模拟 (User impersonation) 令牌交换时，会签发新的访问令牌 (Access token)。了解更多 [个人访问令牌 (Personal access token)](https://docs.logto.io/user-management/personal-access-token) 和 [用户模拟 (User impersonation)](https://docs.logto.io/developers/user-impersonation)。
- **刷新令牌 (Refresh token) 使用**：如果启用 `offline_access`，每次有效刷新令牌 (Refresh token) 交换后都会签发新的访问令牌 (Access token)。

**令牌 (Token) 与 MAU 及基于令牌 (Token) 计费的优势**

基于 MAU 的计费按每月唯一用户计费，无论活跃与否。基于令牌 (Token) 的计费则按实际用量计费：每次签发**访问令牌 (Access token)** 都会计费。

基于令牌 (Token) 的计费是真正的按需付费。不同于 MAU 计费模式按整月计费，无论用户是否活跃，你只需为实际的认证 (Authentication) 和授权 (Authorization) 行为付费。这种方式对低频用户**更省钱**，偶尔访问产品的用户产生的令牌 (Token) 更少，费用也更低，相比 MAU 固定计费更具性价比。这让 **Logto 更具成本优势**，尤其适合用户活跃度差异大的应用。

例如，一次登录可能只消耗 1 个访问令牌 (Access token)。使用 M2M 或组织 (Organization) 等功能会产生更多令牌 (Token)。为便于统计，Logto 在 <CloudLink to="/tenant-settings/subscription">控制台 > 设置 > 计划与账单</CloudLink> 提供**实时令牌 (Token) 用量监控**，帮助你更好地理解 MAU 与令牌 (Token) 的关系。

</details>

## 相关资源 \{#related-resources}

<Url href="https://logto.io/pricing">Logto 详细定价表</Url>
