---
description: Руководства по быстрому старту для инициализации Logto open-source service (OSS).
sidebar_position: 1
---

import LogtoIcon from '@site/src/assets/logto-logo.svg';
import CoolifyIcon from '@site/src/assets/oss-coolify.svg';
import DokployIcon from '@site/src/assets/oss-dokploy.svg';
import EasypanelIcon from '@site/src/assets/oss-easypanel.svg';
import ElestioIcon from '@site/src/assets/oss-elestio.svg';
import RailwayIcon from '@site/src/assets/oss-railway.svg';
import ZeaburIcon from '@site/src/assets/oss-zeabur.svg';
import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

import gitpodRunning from './assets/gitpod-running.png';

# Начало работы с OSS

## GitPod \{#gitpod}

Чтобы начать онлайн-рабочее пространство GitPod для Logto, <a href="https://gitpod.io/#https://github.com/logto-io/demo" target="_blank" rel="noopener">нажмите здесь</a>. Подождите немного, и вы увидите сообщение, подобное этому:

<p>
  <img src={gitpodRunning} alt="Gitpod is running" width="720px" style={{ borderRadius: '4px' }} />
</p>

Logto использует порт `3001` для своего основного сервиса и порт `3002` для интерактивной Административной консоли по умолчанию.

Чтобы продолжить работу с Logto, нажмите Ctrl (или Cmd) и кликните по ссылке, которая начинается с `https://3002-...`. Наслаждайтесь!

## Локально \{#local}

Минимальные рекомендуемые аппаратные требования для размещения Logto:

- **vCPU**: 2
- **Память**: 8 GiB
- **Диск**: 256 GiB

<Tabs>

<TabItem value="docker-compose" label="Docker Compose">

Docker Compose CLI обычно поставляется с [Docker Desktop](https://www.docker.com/products/docker-desktop).

:::caution
Не используйте нашу команду docker compose для продакшена! Поскольку в настоящее время у нас есть встроенная база данных Postgres, объединенная с приложением Logto в `docker-compose.yml`, каждый раз при повторном выполнении команды будет создаваться новый экземпляр базы данных, и все ранее сохраненные данные будут потеряны.
:::

```bash
curl -fsSL https://raw.githubusercontent.com/logto-io/logto/HEAD/docker-compose.yml | docker compose -p logto -f - up
```

После успешной композиции вы увидите сообщение, подобное этому:

</TabItem>

<TabItem value="docker" label="Docker">

<h3>Шаг 1</h3>

Подготовьте экземпляр [PostgreSQL](https://www.postgresql.org/)@^14.0 и используйте [Logto CLI](/logto-oss/using-cli) для заполнения базы данных для Logto:

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto db seed
```

  </TabItem>
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli db seed
```

  </TabItem>

</Tabs>

<h3>Шаг 2</h3>

Загрузите образ:

```bash
# ghcr
docker pull ghcr.io/logto-io/logto:latest
# DockerHub
docker pull svhd/logto:latest
```

<h3>Шаг 3</h3>

Сопоставьте порты контейнера с ядром Logto и административным приложением, например, `3001:3001` и `3002:3002`; и установите следующие переменные окружения для контейнера:

```yml
TRUST_PROXY_HEADER: 1 # Установите в 1, если у вас есть HTTPS-прокси (например, Nginx) перед Logto
ENDPOINT: https://<your-logto-domain> # (Необязательно) Замените на ваш URL-адрес Logto, если вы используете пользовательский домен
ADMIN_ENDPOINT: https://<your-logto-admin-domain> # (Необязательно) Замените на ваш URL-адрес администратора Logto, если вы используете пользовательский домен
DB_URL: postgres://username:password@your_postgres_url:port/db_name # Замените на ваш DSN Postgres
```

Запустите контейнер со всеми вышеуказанными переменными окружения:

```bash
docker run \
  --name logto \
  -p 3001:3001 \
  -p 3002:3002 \
  -e TRUST_PROXY_HEADER=1 \
  -e ENDPOINT=https://<your-logto-domain> \
  -e ADMIN_ENDPOINT=https://<your-logto-admin-domain> \
  -e DB_URL=postgres://username:password@your_postgres_url:port/db_name \
  ghcr.io/logto-io/logto:latest
```

:::tip

- Если вы используете Docker Hub, используйте `svhd/logto:latest` вместо `ghcr.io/logto-io/logto:latest`.
- Используйте `host.docker.internal` или `172.17.0.1` в `DB_URL`, чтобы ссылаться на IP хоста.

:::

Наконец, вы увидите сообщение, подобное этому:

</TabItem>

<TabItem value="npm" label="npm-init">

**Предварительные требования**

- [Node.js](https://nodejs.org/) `^18.12.0`
- [PostgreSQL](https://postgresql.org/) `^14.0`

Более высокие версии обычно работают, но не гарантируются.

Мы рекомендуем использовать новую пустую базу данных, которая предназначена для Logto, хотя это не является жестким требованием.

**Загрузка и запуск**

В вашем терминале:

```bash
npm init @logto@latest
```

После завершения процесса инициализации и запуска Logto вы увидите сообщение, подобное этому:

</TabItem>

</Tabs>

```text
Core app is running at http://localhost:3001
Core app is running at https://your-domain-url
Admin app is running at http://localhost:3002
Admin app is running at https://your-admin-domain-url
```

Перейдите на `http://localhost:3002/`, чтобы продолжить работу с Logto. Наслаждайтесь!

<details>

<summary>

### Использование альтернативного URL для загрузки \{#using-an-alternative-url-for-downloading}

</summary>

Если вы хотите указать URL для zip-файла Logto, используйте опцию `--download-url`. Например:

```
npm init @logto@latest -- --download-url=https://github.com/logto-io/logto/releases/download/v1.2.2/logto.tar.gz
```

Обратите внимание, что дополнительный `--` необходим для передачи аргументов NPM.

</details>

<details>

<summary>

### Конфигурация (необязательно) \{#configuration-optional}

</summary>

Logto использует переменные окружения для конфигурации, а также поддерживает файл `.env`. См. [Конфигурация](/concepts/core-service/configuration) для подробного использования и полного списка переменных.

</details>

_Посмотрите [Core service](/concepts/core-service), если вам нужны более продвинутые средства управления или программный доступ к Logto._

## Провайдеры хостинга

Эти надежные провайдеры хостинга предлагают шаблоны установки в один клик для Logto. С легко разворачиваемыми сервисами вы можете настроить и запустить вашу CIAM систему с использованием Logto за считанные секунды.

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Logto Cloud',
      href: 'https://cloud.logto.io',
      description:
        'Экономичный облачный сервис с бесплатными dev-арендаторами для легкой интеграции аутентификации.',
      customProps: {
        icon: <LogtoIcon />,
      },
    },
    {
      type: 'link',
      label: 'Coolify',
      href: 'https://coolify.io/docs/services/logto/',
      description:
        'Самостоятельно размещаемая альтернатива Heroku / Netlify для легкого управления приложениями и базами данных.',
      customProps: {
        icon: <CoolifyIcon />,
      },
    },
    {
      type: 'link',
      label: 'Dokploy',
      href: 'https://docs.dokploy.com/docs/core',
      description:
        'Легкий инструмент для развертывания приложений на вашей собственной инфраструктуре.',
      customProps: {
        icon: <DokployIcon />,
      },
    },
    {
      type: 'link',
      label: 'Easypanel',
      href: 'https://easypanel.io/docs/templates/logto',
      description: 'Современная панель управления для управления облачными серверами с Docker.',
      customProps: {
        icon: <EasypanelIcon />,
      },
    },
    {
      type: 'link',
      label: 'Elestio',
      href: 'https://elest.io/open-source/logto',
      description:
        'Полностью управляемая платформа DevOps для развертывания вашего кода и open-source ПО.',
      customProps: {
        icon: <ElestioIcon />,
      },
    },
    {
      type: 'link',
      label: 'Railway',
      href: 'https://railway.com/template/07_f_Z',
      description: 'Упрощает развертывание приложений и управление инфраструктурой.',
      customProps: {
        icon: <RailwayIcon />,
      },
    },
    {
      type: 'link',
      label: 'Zeabur',
      href: 'https://zeabur.com/docs/marketplace/logto',
      description:
        'Упрощает развертывание приложений, масштабирование и мониторинг для разработчиков.',
      customProps: {
        icon: <ZeaburIcon />,
      },
    },
  ]}
/>

Обратите внимание, что мы не предоставляем поддержку клиентов для сторонних провайдеров услуг. Чтобы получить доступ к нашим каналам поддержки, пожалуйста, разверните на [Logto Cloud](https://cloud.logto.io). Спасибо!

## Создание аккаунта \{#create-an-account}

После успешного размещения Logto на вашем сервере нажмите "Создать аккаунт" на приветственной странице. Имейте в виду, что open-source версия Logto позволяет создать только один аккаунт во время первоначального запуска и не поддерживает несколько аккаунтов. Процесс создания аккаунта ограничен комбинацией имени пользователя и пароля.

## Связанные ресурсы \{#related-resources}

<Url href="https://blog.logto.io/local-https">Работа с локальной разработкой HTTPS</Url>
