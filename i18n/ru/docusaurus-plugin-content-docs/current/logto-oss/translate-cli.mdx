---
sidebar_label: Translate CLI
sidebar_position: 4
---

# Перевод i18n с помощью CLI

Logto translate CLI — это мощный инструмент, предназначенный для разработчиков, участвующих в усилиях Logto по интернационализации (i18n). С помощью этого CLI вы можете сосредоточиться на написании контента на английском языке, а затем легко перевести его на все поддерживаемые языки.

Для обычных пользователей Logto, которые ищут пользовательские переводы без участия в проекте, пожалуйста, обратитесь к нашему [руководству по локализации](/customization/localized-languages/).

:::info
Начиная с версии v1.20.0, команда перевода была удалена из `@logto/cli` и поддерживается как отдельный пакет `@logto/translation` в монорепозитории logto. Соответственно, способ выполнения немного изменился.
:::

## Переход с `@logto/cli` \{#migrate-from-logtocli}

Вот сравнение старого и нового методов выполнения CLI:

Старый метод (до v1.20.0):

```bash
pnpm cli translate <command> [options]
```

Новый метод:

```bash
pnpm translate <command> [options]
```

## Синхронизация ключей \{#sync-keys}

Предположим, мы внесли некоторые изменения в ключи перевода в папке `en` пакета `phrases`. Мы хотим синхронизировать эти изменения с папкой `pt-BR`. Выполните команду ниже, чтобы синхронизировать ключи перевода и структуру файлов:

```bash
pnpm translate sync-keys --target pt-BR
```

Эта команда прочитает все ключи перевода из папки исходного языка (`en` по умолчанию) и синхронизирует их с папкой целевого языка (`pt-BR` в этом примере).

- Если папка целевого языка не существует, она будет создана автоматически;
- Если папка целевого языка уже существует, она будет обновлена новыми ключами и удалена с устаревшими ключами.

Для каждого ключа перевода:

- Если ключ отсутствует в целевом языке, он будет добавлен с комментарием, указывающим, что фраза не переведена (отмечена как `/** UNTRANSLATED */`);
- Если ключ отсутствует в базовом языке, он будет удален из целевого;
- Если ключ существует как в базовом, так и в целевом языке, будет использовано значение из целевого языка.

Чтобы синхронизировать ключи для всех языков в пакете `phrases`, выполните команду ниже:

```bash
pnpm translate sync-keys --target all
```

Таким образом, мы можем сосредоточиться на обновлении ключей перевода в папке исходного языка, и ключи перевода на других языках будут обновлены автоматически.

:::info
Эта команда выполняется для пакета `phrases` по умолчанию. Вы можете указать имя пакета с помощью опции `--package`. Например, используйте `--package phrases-experience`, чтобы синхронизировать ключи для пакета `phrases-experience`.
:::

После синхронизации ключей мы можем перевести ключи с помощью ChatGPT API.

## Перевод ключей с использованием ChatGPT \{#translate-keys-using-chatgpt}

Выполните команду ниже, чтобы перевести ключи с использованием ChatGPT:

```bash
pnpm translate sync
```

Эта команда переведет все непереведенные ключи (отмеченные как `/** UNTRANSLATED */`) на всех языках в пакетах `phrases` и `phrases-experience`. Обратите внимание, что для выполнения этой команды требуется переменная окружения `OPENAI_API_KEY`.

## Связанные ресурсы \{#related-resources}

<Url href="https://blog.logto.io/efficient-internationalization-with-chatgpt">
  Эффективная интернационализация с ChatGPT
</Url>

<Url href="https://blog.logto.io/long-context-json-translation-with-chat-gpt">
  Перевод JSON с длинным контекстом с помощью ChatGPT
</Url>
