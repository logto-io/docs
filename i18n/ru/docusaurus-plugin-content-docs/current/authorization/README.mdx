import Api from '@site/src/assets/api.svg';
import OrgTemplate from '@site/src/assets/authorization.svg';
import Jwt from '@site/src/assets/gear-plus.svg';
import Role from '@site/src/assets/role.svg';

import Rbac from './assets/rbac.svg';

# Авторизация

[Авторизация](https://auth.wiki/authorization) определяет, какие действия пользователь может выполнять или к каким ресурсам он может получить доступ после аутентификации, определяя, что он может делать в вашем приложении.

Сервис авторизации Logto использует **механизм на основе токенов**. В то время как Logto предоставляет `токен доступа`, ваш сервер ресурсов отвечает за их проверку и применение в рамках контроля доступа.

Существует два типа [токенов доступа](https://auth.wiki/access-token):

1. **Токены доступа**: Используются для доступа к ресурсам API пользователя / системы.
2. **Токены организации**: Специальные токены доступа для ресурсов организации, используемые в многопользовательской архитектуре, когда функция организации включена.

Logto предлагает услуги авторизации для различных сценариев. Вот несколько типичных случаев использования, и вы можете выбрать подходящий и сопоставить ваши требования с функциями и услугами Logto.

| Сценарий                                                                                                                                                             | Как                                                                                                                                                                   | Поток авторизации                                                                                                     |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------- |
| [Просто защитите свои ресурсы API, без RBAC.](/authorization/api-resources/protect-your-api)                                                                         | Зарегистрируйте свой API в Logto Console, и Logto просто предоставит токены доступа                                                                                   | Logto предоставляет `токен доступа` (без разрешений), и вам нужно проверить эти токены для защиты ваших ресурсов API. |
| [Защитите свои ресурсы API с помощью RBAC](/authorization/role-based-access-control/protect-api-resources-with-rbac)                                                 | Зарегистрируйте свой API и примените RBAC для гибкого, детализированного контроля доступа.                                                                            | Logto предоставляет `токен доступа` с включенным `разрешением` для защиты ваших ресурсов API.                         |
| [Защитите свои ресурсы организации, используя RBAC на уровне организации (шаблон организации).](/authorization/organization-template/protect-organization-resources) | Рассматривайте каждую организацию как ресурс, используя RBAC на уровне организации (шаблон организации) для контроля доступа в **многопользовательской** архитектуре. | Logto предоставляет `токен организации` с `разрешением организации` для защиты ресурсов на уровне организации.        |

Вы также можете использовать такие инструменты, как [пользовательские утверждения токенов](/developers/custom-token-claims), чтобы включить дополнительные утверждения в токены доступа для удовлетворения ваших пользовательских технических требований. Также более продвинутый случай использования: [Защитите свои ресурсы API, используя RBAC на уровне организации (шаблон организации)](/authorization/organization-template/protect-api-reources)

## Ознакомьтесь с управлением доступом на основе ролей

Управление доступом на основе ролей используется во всей инфраструктуре Logto, как на уровне системы (управление доступом на основе ролей), так и на уровне организации (RBAC организации):

1. **Субъекты**: Это могут быть реальные пользователи (или члены в контексте организации) или неживые сущности, такие как приложения машина-машина.
2. **Ресурсы API**: Ресурсы в вашей системе, которые нуждаются в защите.
3. **Роли**: Представляют функции или обязанности.
4. **Разрешения**: Определяют, какие действия разрешены на конкретных ресурсах.

<Rbac style={{ maxWidth: '100%' }} />

Управление этими сущностями и их отношениями позволяет вам гибко удовлетворять ваши потребности в контроле доступа. В Logto вы можете использовать RBAC на двух уровнях: уровне пользователя / системы (без промежуточного организационного слоя) и уровне организаций. В контексте организации существует независимый дизайн RBAC, который мы называем «Шаблон организации».

## Функции для авторизации

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Ресурсы API',
      href: '/authorization/api-resources',
      description:
        'Просто зарегистрируйте ресурсы API в Logto Console и защитите свои ресурсы API.',
      customProps: {
        icon: <Api />,
      },
    },
    {
      type: 'link',
      label: 'Управление доступом на основе ролей',
      href: '/authorization/role-based-access-control',
      description:
        'Используйте управление доступом на основе ролей (RBAC) для управления разрешениями на уровне пользователя / системы для более легкого управления и гибкости.',
      customProps: {
        icon: <Role />,
      },
    },
    {
      type: 'link',
      label: 'Шаблон организации',
      href: '/authorization/organization-template',
      description:
        'Используйте шаблон организации (RBAC организации) для защиты ваших ресурсов. Идеально подходит для многопользовательских продуктов, с ролями, определенными на уровне организации.',
      customProps: {
        icon: <OrgTemplate />,
      },
    },
    {
      type: 'link',
      label: 'Пользовательские утверждения токенов',
      href: '/developers/custom-token-claims',
      description:
        'Используйте пользовательские утверждения токенов для добавления пользовательских утверждений для реализации управления доступом на основе атрибутов.',
      customProps: {
        icon: <Jwt />,
      },
    },
  ]}
/>

## Связанные ресурсы

<Url href="https://blog.logto.io/rbac-and-abac">
  RBAC и ABAC: Модели контроля доступа, которые вы должны знать
</Url>

<Url href="https://blog.logto.io/logto-authorization-system-and-its-use">
  Система авторизации Logto и ее использование в сценариях управления идентификацией
</Url>
