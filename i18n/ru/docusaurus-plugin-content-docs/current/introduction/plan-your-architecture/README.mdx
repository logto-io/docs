---
description: Разработайте архитектуру вашей системы идентификации, оценивая варианты с одним арендатором, несколькими арендаторами и несколькими приложениями.
sidebar_position: 3
---

# Планирование вашей архитектуры

Чтобы установить лучшие практики в проектировании и планировании вашей архитектуры, рассмотрите ваши потребности с разных точек зрения. Сосредоточьтесь на конечной цели и рабочем процессе, а не только на базовых технологиях и функциях. Вот некоторые ключевые вопросы, которые помогут и вдохновят вас на создание идеальной архитектуры для вашего продукта.

## Какова ваша бизнес-модель и кто являются ключевыми сторонами и заинтересованными лицами? \{#what-is-your-business-model-and-who-are-the-key-parties-and-stakeholders-involved}

Как правило, существуют две основные бизнес-модели, [B2C](/introduction/plan-your-architecture/b2c) и [B2B](/introduction/plan-your-architecture/b2b), каждая из которых включает различные стороны в сложных сценариях управления идентификацией. Понимание этих ключевых заинтересованных лиц помогает вам разрабатывать системы, которые предоставляют ориентированный на пользователя опыт и охватывают все аспекты управления идентификацией.

### B2C \{#b2c}

В B2C приложениях управление идентификацией обычно простое и обычно включает только две стороны.

#### Разработчики (Вы) \{#developers-you}

Это относится к **администраторам и сотрудникам Logto Console** — обычно это вы и ваша команда разработчиков — которые управляют и защищают пул пользовательских идентификаций и работают непосредственно с базой данных идентификаций. Вы можете напрямую управлять идентификациями клиентов в Logto Console или выполнять кастомную разработку с использованием Logto Management API.

#### Ваши потребители \{#your-consumers}

Ваши потребители — это пользовательские идентификации, хранящиеся в основном сервисе и базе данных Logto. В модели B2C потребители могут управлять своей аутентификацией и личной информацией.

### B2B \{#b2b}

В B2B приложениях в эту архитектуру вводится еще один уровень и контекст. Владелец бизнес-единицы (или организация) контролирует, кто может получить доступ к их экземпляру, как они аутентифицируются и что они могут делать. Организация управляет идентификацией всех конечных пользователей, которые получают доступ к их экземпляру.

#### Разработчики (Вы) \{#developers-you-1}

Это все еще относится к **администраторам и сотрудникам Logto Console**. Хотя администраторы организаций могут управлять идентификациями, разработчики все еще могут напрямую управлять идентификациями клиентов в Logto Console или через кастомную разработку с использованием Logto Management API.

#### Ваши клиенты (Администраторы организаций) \{#your-clients-organization-admins}

Ваши клиенты — это бизнес-единицы, представляющие «организации» в многопользовательском приложении, например, **рабочие пространства** в Slack или Notion. Каждое рабочее пространство обычно имеет несколько ролей и одного или нескольких администраторов, которые управляют сотрудниками или пользователями. В следующем содержании мы называем людей, которые МОГУТ управлять идентификациями участников, "администраторами организаций".

#### Сотрудники, партнеры или потребители ваших клиентов \{#your-clients-staff-partners-or-consumers}

Это идентификации конечных пользователей, называемые «участниками» в контексте организации, и могут управляться внутри организации. Хотя эти идентификации разделены по организациям, они все объединены в единую систему идентификации.

В реальных сценариях, с точки зрения продукта, это могут быть сотрудники компании, бизнес-партнеры или даже потребители, связанные с организацией.

### Другие \{#others}

Другие модели, такие как B2B2C, могут возникнуть из этих двух из-за их сложности. Однако подход остается тем же: все изменения происходят из одного и того же основного фундамента.

В следующей главе мы подробно рассмотрим эти две общие архитектуры и выделим связанные функции, поддерживаемые Logto.

## Уточните ваши потребности в аутентификации \{#distill-your-auth-needs}

Как только вы поймете ключевых пользователей и стороны, участвующие в вашем техническом и продуктовом дизайне, рассмотрите следующие вопросы, чтобы уточнить вашу архитектуру идентификации и определить ваши потребности в аутентификации и уровень контроля:

1. Какие варианты аутентификации и опыта входа доступны для клиентов? Обычно это зависит от вашего бизнеса, стратегии привлечения и потребностей продукта.

   _например, Какие функции нужны для моего приложения? Социальный вход? Вход без пароля?_

2. Какой уровень контроля вы (разработчики) хотите иметь над действиями клиентов?

   _например, Могут ли клиенты обновлять и поддерживать свой профиль? Могут ли клиенты самостоятельно включать и выключать MFA? Могут ли они выбирать предпочтительные методы входа?_

3. Какие виды кастомизации вы хотели бы делегировать организациям? Это зависит от домена и отрасли вашего продукта, а также от специфических потребностей ваших клиентов и может варьироваться от одной организации к другой.

   _например, Должен ли опыт входа варьироваться для каждой организации? И если да, то должна ли кастомизация ограничиваться брендингом или включать различия в потоке аутентификации?_

4. Какой уровень контроля вы хотели бы, чтобы администраторы вашей организации имели над действиями своих участников?

   _например, Должен ли администратор организации иметь возможность решать, требуется ли MFA? Должен ли администратор иметь возможность изменять пароль участника?_

## Нужна ли вам единая универсальная система идентификации или несколько отдельных? \{#do-you-need-a-single-universal-identity-system-or-multiple-separate-ones}

Еще один ключевой вопрос, который следует учитывать, это нужно ли вам или сегменту вашего бизнеса или продукта одна система идентификации или несколько отдельных.

Как правило, ответ — единая универсальная система идентификации, что означает, что вам нужен только один арендатор Logto (или один экземпляр Logto admin console в OSS). Logto построен для поддержки как нескольких приложений, так и нескольких организаций в рамках одного арендатора. Один производственный арендатор Logto обычно достаточен для большинства нужд. Вот некоторые общие сценарии, с которыми вы можете столкнуться:

### Я хотел бы создать SaaS-приложение с многопользовательской архитектурой \{#i-would-like-to-build-a-saas-application-with-multi-tenancy}

Если вы создаете SaaS-приложение с концепцией "рабочего пространства" или "организации" для каждого клиента, вы можете использовать организации для управления рабочим пространством каждого клиента в рамках одного арендатора.

В этом случае пользователь может быть участником нескольких организаций. Например, пользователь может иметь личное рабочее пространство и присоединиться к рабочему пространству компании.

### У меня есть несколько приложений \{#i-have-multiple-applications}

С Logto вы можете управлять несколькими приложениями в рамках одного арендатора независимо от

1. Типа приложения (например, веб, мобильное, настольное и т. д.)
2. Сценариев использования и функциональности приложения (например, приложение для водителей, приложение для вызова и т. д.)

### У меня есть несколько корпоративных клиентов \{#i-have-multiple-enterprise-customers}

Вы можете использовать организации с корпоративным единым входом (SSO) для управления несколькими корпоративными клиентами в рамках одного арендатора. Настроив параметры домена электронной почты для корпоративного SSO и используя функцию Just-in-Time provisioning, вы можете автоматизировать процесс присоединения или входа пользователей с корпоративными SSO-аккаунтами в соответствующие организации.
