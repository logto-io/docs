---
id: webhooks-events
title: Webhooks events
sidebar_label: Webhooks events
sidebar_position: 3
---

# События Webhooks

Это руководство перечисляет различные события webhook Logto и объясняет, когда каждое событие происходит.

## События hook взаимодействия с пользователем \{#user-interaction-hook-events}

| Тип события       | Описание                                                                            |
| ----------------- | ----------------------------------------------------------------------------------- |
| PostRegister      | Пользователь успешно создает новую учетную запись через пользовательский интерфейс. |
| PostSignIn        | Пользователь успешно входит в систему через пользовательский интерфейс.             |
| PostResetPassword | Пароль пользователя успешно сбрасывается через процесс "Забыли пароль".             |

## События hook изменения данных \{#data-mutation-hook-events}

### Пользователь \{#user}

| Тип события                   | Описание                                                                                                     |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------ |
| User.Created                  | Создана новая учетная запись пользователя.                                                                   |
| User.Deleted                  | Учетная запись пользователя удалена.                                                                         |
| User.Data.Updated             | Данные профиля пользователя обновлены, например, email, аватар, custom.data, социальный идентификатор и т.д. |
| User.SuspensionStatus.Updated | Статус приостановки пользователя изменен (приостановлен или реактивирован).                                  |

### Роль \{#role}

| Тип события         | Описание                                                                        |
| ------------------- | ------------------------------------------------------------------------------- |
| Role.Created        | Создана новая роль.                                                             |
| Role.Deleted        | Роль удалена.                                                                   |
| Role.Data.Updated   | Данные роли обновлены, например, имя роли, описание и статус роли по умолчанию. |
| Role.Scopes.Updated | Разрешения, назначенные роли, добавлены или удалены.                            |

### Разрешение (Область действия) \{#permission-scope}

| Тип события        | Описание                                                        |
| ------------------ | --------------------------------------------------------------- |
| Scope.Created      | Создано новое разрешение API.                                   |
| Scope.Deleted      | Разрешение API удалено.                                         |
| Scope.Data.Updated | Данные разрешения API обновлены, например, описание разрешения. |

### Организация \{#organization}

| Тип события                     | Описание                                                                              |
| ------------------------------- | ------------------------------------------------------------------------------------- |
| Organization.Created            | Создана новая организация.                                                            |
| Organization.Deleted            | Организация удалена.                                                                  |
| Organization.Data.Updated       | Данные организации обновлены, например, имя организации, описание, custom.data и т.д. |
| Organization.Membership.Updated | Члены добавлены или удалены из организации.                                           |

### Роль организации \{#organization-role}

| Тип события                     | Описание                                                                      |
| ------------------------------- | ----------------------------------------------------------------------------- |
| OrganizationRole.Created        | Создана новая роль организации.                                               |
| OrganizationRole.Deleted        | Роль организации удалена.                                                     |
| OrganizationRole.Data.Updated   | Данные роли организации обновлены, например, имя роли организации и описание. |
| OrganizationRole.Scopes.Updated | Разрешения, назначенные роли организации, добавлены или удалены.              |

### Разрешение организации (область действия) \{#organization-permission-scope}

| Тип события                    | Описание                                                                            |
| ------------------------------ | ----------------------------------------------------------------------------------- |
| OrganizationScope.Created      | Создано новое разрешение организации.                                               |
| OrganizationScope.Deleted      | Разрешение организации удалено.                                                     |
| OrganizationScope.Data.Updated | Данные разрешения организации обновлены, например, описание разрешения организации. |

### События, вызванные Management API \{#management-api-triggered-events}

| API endpoint                                               | Событие                                                     |
| ---------------------------------------------------------- | ----------------------------------------------------------- |
| POST /users                                                | User.Created                                                |
| DELETE /users/:userId                                      | User.Deleted                                                |
| PATCH /users/:userId                                       | User.Data.Updated                                           |
| PATCH /users/:userId/custom-data                           | User.Data.Updated                                           |
| PATCH /users/:userId/profile                               | User.Data.Updated                                           |
| PATCH /users/:userId/password                              | User.Data.Updated                                           |
| PATCH /users/:userId/is-suspended                          | User.SuspensionStatus.Updated                               |
| POST /roles                                                | Role.Created, (Role.Scopes.Update)                          |
| DELETE /roles/:id                                          | Role.Deleted                                                |
| PATCH /roles/:id                                           | Role.Data.Updated                                           |
| POST /roles/:id/scopes                                     | Role.Scopes.Updated                                         |
| DELETE /roles/:id/scopes/:scopeId                          | Role.Scopes.Updated                                         |
| POST /resources/:resourceId/scopes                         | Scope.Created                                               |
| DELETE /resources/:resourceId/scopes/:scopeId              | Scope.Deleted                                               |
| PATCH /resources/:resourceId/scopes/:scopeId               | Scope.Data.Updated                                          |
| POST /organizations                                        | Organization.Created                                        |
| DELETE /organizations/:id                                  | Organization.Deleted                                        |
| PATCH /organizations/:id                                   | Organization.Data.Updated                                   |
| PUT /organizations/:id/users                               | Organization.Membership.Updated                             |
| POST /organizations/:id/users                              | Organization.Membership.Updated                             |
| DELETE /organizations/:id/users/:userId                    | Organization.Membership.Updated                             |
| POST /organization-roles                                   | OrganizationRole.Created, (OrganizationRole.Scopes.Updated) |
| DELETE /organization-roles/:id                             | OrganizationRole.Deleted                                    |
| PATCH /organization-roles/:id                              | OrganizationRole.Data.Updated                               |
| POST /organization-scopes                                  | OrganizationScope.Created                                   |
| DELETE /organization-scopes/:id                            | OrganizationScope.Deleted                                   |
| PATCH /organization-scopes/:id                             | OrganizationScope.Data.Updated                              |
| PUT /organization-roles/:id/scopes                         | OrganizationRole.Scopes.Updated                             |
| POST /organization-roles/:id/scopes                        | OrganizationRole.Scopes.Updated                             |
| DELETE /organization-roles/:id/scopes/:organizationScopeId | OrganizationRole.Scopes.Updated                             |

### События, вызванные Interaction API \{#interaction-api-triggered-events}

| Действие взаимодействия с пользователем     | Событие           |
| ------------------------------------------- | ----------------- |
| Привязка email / телефона пользователя      | User.Data.Updated |
| Привязка MFA пользователя                   | User.Data.Updated |
| Привязка социальной сети / SSO пользователя | User.Data.Updated |
| Сброс пароля пользователя                   | User.Data.Updated |
| Регистрация пользователя                    | User.Created      |

## Часто задаваемые вопросы \{#faqs}

<details>
<summary>

### В чем разница между `PostRegister` и `User.Created`? \{#whats-the-difference-between-postregister-and-usercreated}

</summary>

`PostRegister` срабатывает, когда пользователь успешно создает новую учетную запись через процесс регистрации пользователя; `User.Created` срабатывает, когда новая учетная запись пользователя создается через Management API.

</details>
