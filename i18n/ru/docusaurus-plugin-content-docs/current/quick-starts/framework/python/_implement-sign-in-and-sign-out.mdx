import CodeBlock from '@theme/CodeBlock';

import {
  defaultBaseUrl,
  defaultRedirectUri,
} from '../../fragments/_web-configure-redirect-uris.mdx';

В вашем веб-приложении добавьте маршрут для правильной обработки запроса на вход от пользователей. Давайте используем `/sign-in` в качестве примера:

<CodeBlock language="python" title="flask.py">{`@app.route("/sign-in")
async def sign_in():
    # Получите URL для входа и перенаправьте пользователя на него
    return redirect(await client.signIn(
        redirectUri="${defaultRedirectUri}",
    ))
`}</CodeBlock>

Замените <code>{defaultRedirectUri}</code> на URL обратного вызова, который вы установили в вашей Logto Console для этого приложения.

Если вы хотите показать страницу регистрации на первом экране, вы можете установить `interactionMode` в `signUp`:

<CodeBlock language="python" title="flask.py">{`@app.route("/sign-in")
async def sign_in():
    return redirect(await client.signIn(
        redirectUri="${defaultRedirectUri}",
        interactionMode="signUp", # Показать страницу регистрации на первом экране
    ))
`}</CodeBlock>

Теперь, когда ваши пользователи посещают <code>{defaultBaseUrl}sign-in</code>, начнется новая попытка входа и пользователь будет перенаправлен на страницу входа Logto.

> **Примечание**
> Создание маршрута для входа — не единственный способ начать попытку входа. Вы всегда можете использовать метод `signIn`, чтобы получить URL для входа и перенаправить пользователя на него.

После того как пользователь делает запрос на выход, Logto очистит всю информацию об аутентификации пользователя в сессии.

Чтобы очистить сессию Python и сессию Logto, маршрут для выхода может быть реализован следующим образом:

<CodeBlock language="python" title="flask.py">{`@app.route("/sign-out")
async def sign_out():
    return redirect(
        # Перенаправить пользователя на домашнюю страницу после успешного выхода
        await client.signOut(postLogoutRedirectUri="${defaultBaseUrl}")
    )
`}</CodeBlock>
