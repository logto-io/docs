---
sidebar_position: 4
---

# Сброс пароля

Функция восстановления пароля будет автоматически включена для вас, когда у вас будет настроен действующий [Email коннектор](/connectors/email-connectors) или [SMS коннектор](/connectors/sms-connectors). Пользователь может сбросить свой пароль, указав свой зарегистрированный адрес электронной почты или номер телефона.

## Процесс сброса пароля \{#password-reset-flow}

Как только функция сброса пароля будет включена, под формой входа будет отображаться кнопка-ссылка "Забыли пароль". Пользователи могут нажать на ссылку "Забыли пароль", чтобы инициировать процесс сброса пароля.

:::note
Не видите ссылку "Забыли пароль"? Убедитесь, что у вас настроен действующий **Email** или **SMS** коннектор.
:::

1. **Посетите страницу входа**: Пользователь посещает страницу входа.
2. **Нажмите на ссылку Забыли пароль**: Пользователь нажимает на ссылку "Забыли пароль".
3. **Введите email / телефон**: После нажатия на ссылку "Забыли пароль" пользователь будет перенаправлен на новую страницу, где он может ввести свой зарегистрированный адрес электронной почты или номер телефона.
4. **Отправка кода подтверждения**: Logto отправит код подтверждения на указанный пользователем адрес электронной почты или номер телефона и перенаправит на страницу проверки кода.
5. **Введите код подтверждения**: Пользователь вводит код подтверждения, полученный на его email или телефон. Logto проверит код и личность пользователя, связанного с адресом электронной почты или номером телефона.
6. **Введите новый пароль**: Пользователю будет предложено ввести новый пароль после успешной проверки кода подтверждения.
7. **Успешный сброс пароля**: Если указанный пароль соответствует требованиям политики паролей, пароль будет успешно обновлен.
8. **Перенаправление на страницу входа**: Пользователь будет перенаправлен на страницу входа, чтобы войти с новым паролем.

![Процесс сброса пароля](./assets/reset-password.png)

## Обновление пароля для аутентифицированных пользователей \{#update-password-for-authenticate-users}

Аутентифицированные пользователи могут обновить свой пароль, посетив страницу настроек учетной записи. Ознакомьтесь с [настройками учетной записи](/end-user-flows/account-settings/), чтобы узнать больше о реализации страницы настроек учетной записи пользователя.

## Настройка политики паролей \{#set-up-password-policy}

Для новых пользователей или пользователей, которые обновляют свой пароль, вы можете установить политику паролей для обеспечения требований к надежности пароля. Посетите <CloudLink to="/sign-in-experience/password-policy"> Консоль > Опыт входа > Политика паролей</CloudLink>, чтобы настроить параметры политики паролей.

1. **Минимальная длина пароля**: Установите минимальное количество символов, требуемое для пароля. (NIST предлагает использовать как минимум 8 [символов](https://pages.nist.gov/800-63-3/sp800-63b.html#sec5))
2. **Минимальное количество типов символов**: Установите минимальное количество типов символов, требуемое для пароля. Доступные типы символов:
   1. Заглавные буквы: `(A-Z)`
   2. Строчные буквы: `(a-z)`
   3. Цифры: `(0-9)`
   4. Специальные символы: ``(!"#$%&'()\*+,-./:;<>=?@[]^\_`|{}~ )``
3. **Проверка истории утечек**: Включите эту настройку, чтобы отклонять пароли, которые ранее были раскрыты в результате утечек данных. (На базе [Have I Been Pwned](https://haveibeenpwned.com/Passwords))
4. **Проверка повторений**: Включите эту настройку, чтобы отклонять пароли, содержащие повторяющиеся символы. (например, "11111111" или "password123")
5. **Проверка информации пользователя**: Включите эту настройку, чтобы отклонять пароли, содержащие информацию о пользователе, такую как имя пользователя, адрес электронной почты или номер телефона.
6. **Пользовательские слова**: Укажите список пользовательских слов (без учета регистра), которые вы хотите отклонять в пароле.

## Часто задаваемые вопросы \{#faqs}

<details>
  <summary>

### Как выйти из системы после успешного сброса пароля? \{#how-to-sign-out-a-user-after-a-successful-password-reset}

</summary>

Подпишитесь на событие `PostResetPassword` [вебхука](/developers/webhooks/webhooks-events#user-interaction-hook-events), чтобы получать уведомления, когда пользователь успешно сбрасывает свой пароль. Затем вы можете инициировать действие [выхода](/end-user-flows/sign-out), чтобы аннулировать текущую сессию пользователя и перенаправить его на страницу входа.

</details>

<details>
  <summary>

### Как реализовать процесс сброса пароля в моем пользовательском интерфейсе? \{#how-to-implement-the-password-reset-flow-on-my-custom-ui}

</summary>

Вы можете реализовать собственный процесс сброса пароля, используя **Management API** и **Account API** Logto. Ознакомьтесь с [настройками учетной записи](/end-user-flows/account-settings/) для получения более подробной информации.

</details>

<details>
  <summary>

### Как я могу отправить ссылку для сброса пароля на электронную почту пользователя? \{#how-can-i-send-a-password-reset-link-to-the-users-email}

</summary>

Вы можете создать самохостируемую конечную точку сброса пароля и использовать Logto SDK для инициирования запроса на вход с параметром [`first_screen`](/end-user-flows/authentication-parameters/first-screen), установленным в `reset-password`. Это автоматически перенаправит пользователя на страницу сброса пароля.

</details>

## Связанные ресурсы \{#related-resources}

<Url href="https://blog.logto.io/design-your-password-policy">
  Разработка вашей политики паролей
</Url>
