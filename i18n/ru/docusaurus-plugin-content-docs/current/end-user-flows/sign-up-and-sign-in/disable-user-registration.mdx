---
sidebar_position: 6
---

# Отключение регистрации пользователей

В некоторых случаях вы можете захотеть ограничить регистрацию пользователей для вашего приложения. Logto позволяет отключить регистрацию анонимных пользователей и ограничить вход только для пользователей, приглашенных администратором.

Чтобы отключить регистрацию конечных пользователей, выполните следующие шаги:

1. Перейдите на страницу <CloudLink to="/sign-in-experience/sign-up-and-sign-in">Консоль > Опыт входа > Регистрация и вход</CloudLink>.
2. В разделе **Расширенные настройки** отключите переключатель **Включить регистрацию пользователей**, чтобы отключить регистрацию пользователей. (Включено по умолчанию)

После отключения регистрации пользователей:

- Ссылка "Создать аккаунт" удаляется со страницы входа.
- Страница регистрации отключается, и пользователи, которые ее посещают, перенаправляются на страницу входа.
- Поток регистрации через социальные сети и корпоративный единый вход (SSO) также отключается. Пользователи с незарегистрированными социальными аккаунтами получат ошибку "аккаунт не найден" после социальной аутентификации.
- Функция связывания социальных аккаунтов все еще доступна для пользователей, у которых в системе есть совпадающий адрес электронной почты или номер телефона.

## Реализация потока регистрации только по приглашению \{#implement-an-invitation-only-sign-up-flow}

Logto не предоставляет встроенный поток приглашений. Однако вы можете легко реализовать поток регистрации только по приглашению, используя Management API пользователей в Logto.

### Вариант 1: Приглашение пользователей по электронной почте \{#option-1-invite-users-via-email}

1. Отключите регистрацию пользователей в <CloudLink to="/sign-in-experience/sign-up-and-sign-in">Консоль > Опыт входа</CloudLink>.
2. Создайте в вашем приложении форму регистрации пользователей на основе приглашений.
3. Отправьте пользователю приглашение по электронной почте с уникальной ссылкой на приглашение.
4. Когда пользователь нажимает на ссылку регистрации, ваше приложение вызывает [Logto Management API](https://openapi.logto.io/operation/operation-createuser) для создания аккаунта пользователя.
5. После создания аккаунта пользователя перенаправьте его на страницу входа или сброса пароля Logto для завершения регистрации. См. [Параметры аутентификации](/end-user-flows/authentication-parameters/) для получения рекомендаций по настройке первого экрана и предварительному заполнению электронной почты пользователя для упрощения процесса входа.

### Вариант 2: Уведомление пользователей о ручной регистрации \{#option-2-notify-users-on-manual-registration}

1. Отключите регистрацию пользователей в Консоли Logto.
2. Вручную создайте аккаунты пользователей в <CloudLink to="/users">Консоль > Управление пользователями</CloudLink> или через [Management API](https://openapi.logto.io/operation/operation-createuser).
3. Уведомьте пользователей по электронной почте о том, что их аккаунт был создан.
4. Перенаправьте пользователей на страницу входа или сброса пароля Logto для завершения регистрации. См. [Параметры аутентификации](/end-user-flows/authentication-parameters/) для получения рекомендаций по настройке первого экрана и предварительному заполнению электронной почты пользователя для упрощения процесса входа.

## Пользовательский опыт для регистрации только по приглашению \{#user-experience-for-invitation-only-sign-up}

Когда регистрация пользователей отключена, пользователи, которые посещают страницу регистрации, будут перенаправлены на страницу входа. Пользователь может быть создан только администратором или с использованием Management API. В зависимости от настроек метода регистрации и входа, которые вы настроили, пользователи могут иметь разный опыт при входе:

- **Вход с использованием электронной почты или номера телефона через код подтверждения**: Создайте аккаунт пользователя с **Адресом электронной почты** или **Номером телефона**. Включите метод входа с использованием кода подтверждения по электронной почте или номеру телефона. После создания пользователя он может войти напрямую с использованием своей электронной почты или номера телефона, используя метод аутентификации с кодом подтверждения.
- **Социальный вход с использованием определенной электронной почты или номера телефона**: Создайте аккаунт пользователя с **Адресом электронной почты** или **Номером телефона**, связанным с его социальным аккаунтом. Создайте и включите социальное соединение для конкретного социального провайдера. Включите функцию [**Автоматическое связывание аккаунтов**](/end-user-flows/sign-up-and-sign-in/social-sign-in#account-linking) для автоматического связывания социальной идентичности с аккаунтом пользователя на основе совпадающей электронной почты или номера телефона. После создания пользователя он может войти напрямую с использованием своего социального аккаунта, который соответствует электронной почте или номеру телефона.
- **Имя пользователя / Электронная почта / Номер телефона с паролем**: Создайте аккаунт пользователя с **Имя пользователя**, **Адрес электронной почты** или **Номер телефона**, и включите соответствующий идентификатор для входа на основе пароля.
  - С заранее установленным паролем: Установите пароль во время создания аккаунта, затем безопасно поделитесь им с пользователем. Пользователь может затем войти напрямую, используя свое имя пользователя, электронную почту или номер телефона вместе с заранее установленным паролем, и сбросить пароль, если это необходимо.
  - Без заранее установленного пароля: Создайте аккаунт без пароля и предложите пользователю установить его при активации аккаунта. (Для потока сброса пароля требуется **Адрес электронной почты** или **Номер телефона**.) После создания пользователя перенаправьте его на страницу сброса пароля с предварительно заполненной электронной почтой или номером телефона. Для получения рекомендаций по перенаправлению пользователей на страницу сброса пароля с предварительно заполненными данными обратитесь к [Параметры аутентификации](/end-user-flows/authentication-parameters/). После установки нового пароля пользователь может войти напрямую с использованием своего имени пользователя, электронной почты или номера телефона и нового пароля.

## Связанные ресурсы \{#related-resources}

<Url href="https://blog.logto.io/invitation-only-sign-up">
  Блог: Как настроить регистрацию только по приглашению в Logto
</Url>
