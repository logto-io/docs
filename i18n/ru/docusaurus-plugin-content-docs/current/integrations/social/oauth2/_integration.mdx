## Создание вашего OAuth приложения \{#create-your-oauth-app}

Когда вы открываете эту страницу, мы предполагаем, что вы уже знаете, к какому социальному провайдеру идентификации вы хотите подключиться. Первое, что нужно сделать, это подтвердить, что провайдер идентификации поддерживает протокол OAuth, который является необходимым условием для настройки действительного коннектора. Затем следуйте инструкциям провайдера идентификации, чтобы зарегистрировать и создать соответствующее приложение для OAuth авторизации.

## Настройка вашего коннектора \{#configure-your-connector}

Мы поддерживаем ТОЛЬКО тип предоставления "Authorization Code" из соображений безопасности, и он идеально подходит для сценария Logto.

`clientId` и `clientSecret` можно найти на странице деталей вашего OAuth приложения.

_clientId_: Идентификатор клиента — это уникальный идентификатор, который идентифицирует клиентское приложение во время регистрации на сервере авторизации. Этот идентификатор используется сервером авторизации для проверки личности клиентского приложения и для связывания любых авторизованных токенов доступа с этим конкретным клиентским приложением.

_clientSecret_: Секрет клиента — это конфиденциальный ключ, который выдается клиентскому приложению сервером авторизации во время регистрации. Клиентское приложение использует этот секретный ключ для аутентификации с сервером авторизации при запросе токенов доступа. Секрет клиента считается конфиденциальной информацией и должен оставаться в безопасности в любое время.

_tokenEndpointAuthMethod_: Метод аутентификации конечной точки токена используется клиентским приложением для аутентификации с сервером авторизации при запросе токенов доступа. Чтобы узнать поддерживаемые методы, обратитесь к полю `token_endpoint_auth_methods_supported`, доступному на конечной точке обнаружения OpenID Connect провайдера услуг OAuth 2.0, или обратитесь к соответствующей документации, предоставленной провайдером услуг OAuth 2.0.

_clientSecretJwtSigningAlgorithm (необязательно)_: Требуется только тогда, когда `tokenEndpointAuthMethod` — это `client_secret_jwt`. Алгоритм подписи JWT с секретом клиента используется клиентским приложением для подписи JWT, который отправляется на сервер авторизации во время запроса токена.

_scope_: Параметр области действия используется для указания набора ресурсов и разрешений, к которым клиентское приложение запрашивает доступ. Параметр области действия обычно определяется как список значений, разделенных пробелами, которые представляют собой конкретные разрешения. Например, значение области действия "read write" может указывать, что клиентское приложение запрашивает доступ на чтение и запись к данным пользователя.

Вы должны найти `authorizationEndpoint`, `tokenEndpoint` и `userInfoEndpoint` в документации социального провайдера.

_authenticationEndpoint_: Эта конечная точка используется для инициирования процесса аутентификации. Процесс аутентификации обычно включает в себя вход пользователя и предоставление разрешения клиентскому приложению на доступ к его ресурсам.

_tokenEndpoint_: Эта конечная точка используется клиентским приложением для получения токена доступа, который может быть использован для доступа к запрашиваемым ресурсам. Клиентское приложение обычно отправляет запрос на конечную точку токена с типом предоставления и кодом авторизации для получения токена доступа.

_userInfoEndpoint_: Эта конечная точка используется клиентским приложением для получения дополнительной информации о пользователе, такой как его полное имя, адрес электронной почты или изображение профиля. Конечная точка информации о пользователе обычно доступна после того, как клиентское приложение получило токен доступа от конечной точки токена.

Logto также предоставляет поле `profileMap`, которое пользователи могут настроить для сопоставления профилей социальных провайдеров, которые обычно не являются стандартными. Ключи — это стандартные имена полей профиля пользователя Logto, а соответствующие значения должны быть именами полей социальных профилей. На текущем этапе Logto интересуют только 'id', 'name', 'avatar', 'email' и 'phone' из социального профиля, только 'id' является обязательным, а остальные поля являются необязательными.

`responseType` и `grantType` могут быть ТОЛЬКО фиксированными значениями с типом предоставления кода авторизации, поэтому мы делаем их необязательными, и значения по умолчанию будут автоматически заполнены.

Например, вы можете найти [ответ профиля пользователя Google](https://developers.google.com/identity/openid-connect/openid-connect#an-id-tokens-payload), и, следовательно, его `profileMap` должен выглядеть так:

```json
{
  "id": "sub",
  "avatar": "picture"
}
```

:::note

Мы предоставили необязательный ключ `customConfig` для размещения ваших настроек параметров.
Каждый социальный провайдер идентификации может иметь свои собственные варианты стандартного протокола OAuth. Если ваш желаемый социальный провайдер идентификации строго придерживается стандартного протокола OAuth, то вам не нужно беспокоиться о `customConfig`.

:::

## Типы конфигурации \{#config-types}

| Имя                       | Тип                     | Обязательно |
| ------------------------- | ----------------------- | ----------- |
| authorizationEndpoint     | string                  | true        |
| userInfoEndpoint          | string                  | true        |
| clientId                  | string                  | true        |
| clientSecret              | string                  | true        |
| tokenEndpointResponseType | enum                    | false       |
| responseType              | string                  | false       |
| grantType                 | string                  | false       |
| tokenEndpoint             | string                  | false       |
| scope                     | string                  | false       |
| customConfig              | Record\<string, string> | false       |
| profileMap                | ProfileMap              | false       |

| Поля ProfileMap | Тип    | Обязательно | Значение по умолчанию |
| --------------- | ------ | ----------- | --------------------- |
| id              | string | false       | id                    |
| name            | string | false       | name                  |
| avatar          | string | false       | avatar                |
| email           | string | false       | email                 |
| phone           | string | false       | phone                 |
