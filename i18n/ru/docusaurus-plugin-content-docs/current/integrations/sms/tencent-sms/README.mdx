---
slug: /integrations/tencent-sms
sidebar_label: Tencent Short Message
sidebar_custom_props:
  description: Tencent предоставляет облачные вычислительные услуги для онлайн-бизнеса.
  logoFilename: 'tencent.svg'
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# Настройка проверки SMS через Tencent Short Message Service

Официальный коннектор Logto для Tencent Short Message Service.

<GuideTip />

## Начало работы \{#get-started}

Tencent Cloud является основным поставщиком облачных услуг в Азии, предлагая различные услуги, включая SMS (услуги коротких сообщений).

Коннектор Tencent Short Message Service — это официальная интеграция Logto, которая помогает конечным пользователям регистрироваться или входить в систему, используя коды проверки SMS.

## Настройка службы коротких сообщений в Tencent Cloud \{#set-up-a-short-message-service-in-tencent-cloud}

### Создание аккаунта Tencent Cloud \{#create-an-tencent-cloud-account}

Перейдите на [веб-сайт Tencent Cloud](https://cloud.tencent.com/) и зарегистрируйте свой аккаунт, если у вас его нет.

### Включение и настройка Tencent Cloud SMS \{#enable-and-configure-tencent-cloud-sms}

1. Войдите в систему с вашим аккаунтом на [веб-сайте Tencent Cloud](https://cloud.tencent.com/) и перейдите на [страницу консоли SMS](https://cloud.tencent.com/product/sms).
2. Нажмите кнопку «Бесплатная пробная версия» (免费试用) на странице службы SMS и следуйте шагам настройки.
3. Согласитесь с «Условиями активации службы SMS» (短信开通服务条款) и нажмите «Активировать службу» (开通服务), чтобы продолжить.
4. На странице «[Обзор консоли SMS](https://console.cloud.tencent.com/smsv2)» (短信服务控制台概览) выберите «Внутренние сообщения» (国内消息) или «Международные / Гонконг, Макао, Тайвань сообщения» (国际/港澳台消息) в боковой панели в зависимости от ваших потребностей.
5. Добавьте подпись и шаблон для SMS-сообщений. Обратите внимание:
   - При добавлении «Подписи» (签名) выберите «Код подтверждения» (验证码) в поле "Применимые сценарии" (模版类型).
   - При добавлении шаблона выберите «Код подтверждения» в качестве типа шаблона.
   - Включите заполнитель `{1}` в содержимое шаблона, который будет заменен случайно сгенерированным кодом.
   - Шаблоны с несколькими заполнителями не поддерживаются. Используйте или создайте шаблон с одним заполнителем.
6. Отправьте подпись и шаблон на утверждение. После отправки:
   - Подождите, пока они вступят в силу.
   - Тестовые SMS можно отправить с «[Обзора консоли SMS](https://console.cloud.tencent.com/smsv2)» (短信服务控制台概览). Утвержденные подписи и шаблоны можно использовать непосредственно для тестирования или использовать предоставленные тестовые шаблоны, если они все еще находятся на рассмотрении.
   - Убедитесь, что на вашем аккаунте достаточно средств для тестирования и предварительно зарегистрируйте тестовый номер телефона для успешного получения SMS.

Для получения подробных инструкций нажмите вкладку «Руководство для начинающих» (新手配置指引) в Обзоре консоли SMS.

## Составление JSON коннектора \{#compose-the-connector-json}

1. Перейдите на страницу «[Обзор консоли SMS](https://console.cloud.tencent.com/smsv2)» и наведите курсор на ваш аватар в правом верхнем углу. Перейдите в «Управление доступом > Ключи доступа > API Ключи», чтобы сгенерировать ваш `AccessKey ID` и `AccessKey Secret` после завершения проверки безопасности. Пожалуйста, храните их в безопасности.
2. На вкладке «Внутренние сообщения» (国内消息) или «Международные / Гонконг, Макао, Тайвань сообщения» (国际/港澳台消息) получите «Имя подписи» (签名名称) и «Код шаблона» (模版 CODCE).
   - Для тестовых шаблонов проверьте вкладку «Быстрый старт» (快速开始) в разделе "Тестовые шаблоны" (测试专用签名模版).

- Настройте коннектор Tencent Cloud SMS с использованием следующих полей:
  - `accessKeyId` и `accessKeySecret`: Используйте учетные данные из шага 1.
  - `signName`: Имя подписи, полученное на шаге 2. Это применимо ко всем шаблонам.
  - Добавьте несколько шаблонов для различных сценариев, если необходимо. Пример для одного шаблона:
    - `templateCode`: Получено из «Кода шаблона» на шаге 2.
    - `usageType`: Укажите одно из `Register`, `SignIn`, `ForgotPassword` или `Generic` для различных сценариев (свойство, специфичное для Logto).
    - Убедитесь, что шаблоны настроены для всех четырех сценариев, чтобы завершить процесс.
  - `sdkAppId`: Найдено в «[Управление приложениями](https://console.cloud.tencent.com/smsv2/app-manage)» (应用管理).
  - `region`: Укажите поддерживаемый регион из «[Документации по отправке](https://cloud.tencent.com/document/api/382/52071#.E5.9C.B0.E5.9F.9F.E5.88.97.E8.A1.A8)» (发送文档).

### Тестирование коннектора Tencent Cloud SMS \{#test-tencent-cloud-sms-connector}

Вы можете ввести номер телефона и нажать "Отправить", чтобы проверить, работают ли настройки, перед тем как "Сохранить и завершить".

Вот и все. Не забудьте [включить коннектор в процессе входа](/connectors/sms-connectors#enable-phone-number-sign-up-or-sign-in).

### Типы конфигурации \{#config-types}

| Имя             | Тип        |
| --------------- | ---------- |
| accessKeyId     | string     |
| accessKeySecret | string     |
| signName        | string     |
| region          | string     |
| sdkAppId        | string     |
| templates       | Template[] |

| Свойства шаблона | Тип         | Значения перечисления                                   |
| ---------------- | ----------- | ------------------------------------------------------- |
| templateCode     | string      | N/A                                                     |
| usageType        | enum string | 'Register' \| 'SignIn' \| 'ForgotPassword' \| 'Generic' |

## Ссылки \{#references}

<Url href="https://cloud.tencent.com/document/product/382/43070">
  Как реализовать функцию проверки SMS-кода?
</Url>
