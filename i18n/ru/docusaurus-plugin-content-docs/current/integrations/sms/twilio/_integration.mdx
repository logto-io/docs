## Регистрация аккаунта Twilio \{#register-twilio-account}

Создайте новый аккаунт на [Twilio](https://www.twilio.com). (Перейдите к следующему шагу, если у вас уже есть аккаунт.)

## Настройка номеров телефонов отправителей \{#set-up-senders-phone-numbers}

Перейдите на [страницу консоли Twilio](https://console.twilio.com/) и войдите в систему с вашим аккаунтом Twilio.

Приобретите номер телефона в разделе "Phone Numbers" -> "Manage" -> "Buy a number".

:::tip
Иногда вы можете столкнуться с ситуацией, когда услуга SMS не поддерживается в определенных странах или регионах. Выберите номер из других регионов, чтобы обойти это ограничение.
:::

Как только у нас будет действительный номер, перейдите в "Messaging" -> "Services". Создайте новую службу сообщений, нажав на кнопку.

Дайте дружелюбное имя службе и выберите _Notify my users_ в качестве цели нашей службы. На следующем шаге выберите `Phone Number` как _Sender Type_ и добавьте номер телефона, который мы только что получили, в эту службу в качестве отправителя.

:::note
Каждый номер телефона может быть связан только с одной службой сообщений.
:::

## Получение учетных данных аккаунта \{#get-account-credentials}

Нам понадобятся учетные данные API, чтобы коннектор работал. Начнем с [страницы консоли Twilio](https://console.twilio.com/).

Нажмите на меню "Account" в правом верхнем углу, затем перейдите на страницу "API keys & tokens", чтобы получить ваш `Account SID` и `Auth token`.

Вернитесь на страницу настроек "Messaging" -> "Services", начиная с боковой панели, и найдите `Sid` вашей службы.

## Составление JSON коннектора \{#compose-the-connector-json}

Заполните поля _accountSID_, _authToken_ и _fromMessagingServiceSID_ с `Account SID`, `Auth token` и `Sid` соответствующей службы сообщений.

Вы можете добавить несколько шаблонов SMS коннектора для различных случаев. Вот пример добавления одного шаблона:

- Заполните поле `content` произвольным строковым содержимым. Не забудьте оставить `{{code}}` как заполнитель для случайного кода подтверждения.
- Заполните поле `usageType` одним из значений: `Register`, `SignIn`, `ForgotPassword`, `Generic` для различных случаев использования. Для обеспечения полного пользовательского потока требуются шаблоны с usageType `Register`, `SignIn`, `ForgotPassword` и `Generic`.

### Тестирование SMS коннектора Twilio \{#test-twilio-sms-connector}

Вы можете ввести номер телефона и нажать "Send", чтобы проверить, работают ли настройки, перед тем как нажать "Save and Done".

Вот и все. Не забудьте [включить коннектор в процессе входа](/connectors/sms-connectors/#enable-phone-number-sign-up-or-sign-in).

### Типы конфигурации \{#config-types}

| Имя                     | Тип         |
| ----------------------- | ----------- |
| accountSID              | string      |
| authToken               | string      |
| fromMessagingServiceSID | string      |
| templates               | Templates[] |

| Свойства шаблона | Тип         | Значения перечисления                                   |
| ---------------- | ----------- | ------------------------------------------------------- |
| content          | string      | N/A                                                     |
| usageType        | enum string | 'Register' \| 'SignIn' \| 'ForgotPassword' \| 'Generic' |
