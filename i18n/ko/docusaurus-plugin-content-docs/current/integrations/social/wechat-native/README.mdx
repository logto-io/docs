---
slug: /integrations/wechat-native
sidebar_label: WeChat (Native)
sidebar_custom_props:
  description: WeChatì€ í¬ë¡œìŠ¤ í”Œë«í¼ ì¸ìŠ¤í„´íŠ¸ ë©”ì‹œì§• ì•±ì…ë‹ˆë‹¤.
  logoFilename: 'wechat.svg'
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# WeChat ì†Œì…œ ë¡œê·¸ì¸ì„ ì„¤ì •í•˜ì„¸ìš” (Native)

ë„¤ì´í‹°ë¸Œ ì•± (iOS ë° Android)ì—ì„œ WeChat ì†Œì…œ ë¡œê·¸ì¸ì„ ìœ„í•œ ê³µì‹ Logto ì»¤ë„¥í„°ì…ë‹ˆë‹¤.

<GuideTip />

## ì‹œì‘í•˜ê¸° \{#get-started}

ì»¤ë„¥í„°ì˜ ê°œë…ì„ ëª¨ë¥´ê±°ë‚˜ ì´ ì»¤ë„¥í„°ë¥¼ ë¡œê·¸ì¸ ê²½í—˜ì— ì¶”ê°€í•˜ëŠ” ë°©ë²•ì„ ëª¨ë¥¸ë‹¤ë©´ [Logto íŠœí† ë¦¬ì–¼](/connectors/social-connectors)ì„ ì°¸ì¡°í•˜ì„¸ìš”.

ë„¤ì´í‹°ë¸Œ ì•±ì—ì„œëŠ” WeChatì˜ ì›¹ ë¡œê·¸ì¸ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. WeChat ì•±ìœ¼ë¡œì˜ ë„¤ë¹„ê²Œì´ì…˜ì´ í•„ìš”í•˜ë©°, ê·¸ë“¤ì˜ SDKë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

ì´ê²ƒì´ ë¬´ì„­ê²Œ ë“¤ë¦´ ìˆ˜ ìˆì§€ë§Œ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”. ì´ íŠœí† ë¦¬ì–¼ì—ì„œ ì‰½ê²Œ ì²˜ë¦¬í•  ê²ƒì…ë‹ˆë‹¤.

## WeChat Open Platformì—ì„œ ëª¨ë°”ì¼ ì•± ìƒì„±í•˜ê¸° \{#create-a-mobile-app-in-the-wechat-open-platform}

:::tip

ì´ë¯¸ ì™„ë£Œí•œ ê²½ìš° ì¼ë¶€ ì„¹ì…˜ì„ ê±´ë„ˆë›¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

:::

### ê³„ì • ìƒì„±í•˜ê¸° \{#create-an-account}

https://open.weixin.qq.com/ ì— ì ‘ì†í•˜ì—¬ ì˜¤ë¥¸ìª½ ìƒë‹¨ì˜ "Sign Up" ë²„íŠ¼ì„ í´ë¦­í•œ í›„, ê°€ì… ê³¼ì •ì„ ì™„ë£Œí•˜ì„¸ìš”.

### ëª¨ë°”ì¼ ì•± ìƒì„±í•˜ê¸° \{#create-a-mobile-app}

ë°©ê¸ˆ ìƒì„±í•œ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”. "Mobile Application" (ç§»åŠ¨åº”ç”¨) íƒ­ì—ì„œ í° ë…¹ìƒ‰ ë²„íŠ¼ "Create a mobile app" (åˆ›å»ºç§»åŠ¨åº”ç”¨)ì„ í´ë¦­í•˜ì„¸ìš”.

<img src="/img/assets/app-tabs.png" alt="App tabs" />

ì‹ ì²­ì„œì— í•„ìš”í•œ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.

<img src="/img/assets/create-mobile-app.png" alt="Create mobile app" />

#### ê¸°ë³¸ ì •ë³´ \{#basic-info}

ëŒ€ë¶€ë¶„ì€ ë§¤ìš° ê°„ë‹¨í•˜ë©°, ëª‡ ê°€ì§€ íŒì´ ìˆìŠµë‹ˆë‹¤:

- WeChat ë¡œê·¸ì¸ì„ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ê³  ì•±ì´ App Storeì— ì—†ë‹¤ë©´, "App is available" ì„¹ì…˜ì—ì„œ "No"ë¥¼ ì„ íƒí•˜ì—¬ "App download link"ë¥¼ ê±´ë„ˆë›°ì„¸ìš”.
- "App operation flow chart"ëŠ” ê¹Œë‹¤ë¡œì›Œ ë³´ì…ë‹ˆë‹¤. ìš°ë¦¬ì˜ ê²½í—˜ì— ë”°ë¥´ë©´, ê°„ë‹¨í•œ íë¦„ë„ì™€ ëª‡ ê°€ì§€ ì•± ìŠ¤í¬ë¦°ìƒ·ì„ ì¤€ë¹„í•˜ì—¬ ê²€í†  í†µê³¼ ê°€ëŠ¥ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

"Next step"ì„ í´ë¦­í•˜ì—¬ ê³„ì† ì§„í–‰í•˜ì„¸ìš”.

#### í”Œë«í¼ ì •ë³´ \{#platform-info}

Logtoë¥¼ WeChat ë„¤ì´í‹°ë¸Œ ë¡œê·¸ì¸ê³¼ í†µí•©í•˜ê¸° ìœ„í•´ iOS ë° Android í”Œë«í¼ ì¤‘ í•˜ë‚˜ ë˜ëŠ” ë‘˜ ë‹¤ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**iOS ì•±**

"iOS app" (iOS åº”ç”¨)ì„ ì„ íƒí•œ í›„, ì•±ì˜ ëŒ€ìƒ ê¸°ê¸° ìœ í˜•ì„ ì ì ˆíˆ ì„ íƒí•˜ì„¸ìš”.

<img src="/img/assets/platform.png" alt="App platform" />

App Store ê°€ìš©ì„±ì„ "No"ë¡œ ì„ íƒí•œ ê²½ìš°, ì—¬ê¸°ì„œ "AppStore download address"ë¥¼ ì…ë ¥í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.

_Bundle ID_, _Test version Bundle ID_, ë° *Universal Links*ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì‚¬ì‹¤, í•˜ë‚˜ì˜ ë§í¬ë§Œ í•„ìš”í•©ë‹ˆë‹¤ ğŸ˜‚).

:::note

*Bundle ID*ì™€ *Test version Bundle ID*ëŠ” ë™ì¼í•œ ê°’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

:::

:::tip

WeChatì€ ë„¤ì´í‹°ë¸Œ ë¡œê·¸ì¸ì„ ìœ„í•´ ìœ ë‹ˆë²„ì„¤ ë§í¬ë¥¼ ìš”êµ¬í•©ë‹ˆë‹¤. ì„¤ì •í•˜ì§€ ì•Šì•˜ê±°ë‚˜ ëª¨ë¥¸ë‹¤ë©´, [Apple ê³µì‹ ë¬¸ì„œ](https://developer.apple.com/ios/universal-links/)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

:::

**Android ì•±**

"Android app" (Android åº”ç”¨)ì„ ì„ íƒí•˜ì„¸ìš”.

<img src="/img/assets/platform-android-app.png" alt="Android app platform" />

_Application Signing Signature_ (åº”ç”¨ç­¾å) ë° _Application Package Name_ (åº”ç”¨åŒ…å)ì„ ì…ë ¥í•˜ì„¸ìš”.

:::note

ì•±ì— ì„œëª…í•˜ì—¬ ì„œëª…ì„ ì–»ì–´ì•¼ í•©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [ì•± ì„œëª…í•˜ê¸°](https://developer.android.com/studio/publish/app-signing)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

:::

ì„œëª…ì„ ì™„ë£Œí•œ í›„, `signingReport` ì‘ì—…ì„ ì‹¤í–‰í•˜ì—¬ ì„œëª… ì„œëª…ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
./gradlew your-android-project:signingReport
```

í•´ë‹¹ ë¹Œë“œ ë³€í˜•ì˜ ë³´ê³ ì„œì˜ `MD5` ê°’ì´ _Application Signing Signature_ (åº”ç”¨ç­¾å)ê°€ ë˜ì§€ë§Œ, ê°’ì—ì„œ ëª¨ë“  ì„¸ë¯¸ì½œë¡ ì„ ì œê±°í•˜ê³  ì†Œë¬¸ìë¡œ ë³€í™˜í•´ì•¼ í•©ë‹ˆë‹¤.

ì˜ˆ: `1A:2B:3C:4D` -> `1a2b3c4d`.

#### ê²€í†  ê²°ê³¼ ëŒ€ê¸° \{#waiting-for-the-review-result}

í”Œë«í¼ ì •ë³´ë¥¼ ì™„ë£Œí•œ í›„, "Submit Review"ë¥¼ í´ë¦­í•˜ì—¬ ê³„ì† ì§„í–‰í•˜ì„¸ìš”. ì¼ë°˜ì ìœ¼ë¡œ ê²€í† ëŠ” ë¹ ë¥´ê²Œ ì§„í–‰ë˜ë©°, 1-2ì¼ ë‚´ì— ì¢…ë£Œë©ë‹ˆë‹¤.

ê²€í† ìëŠ” ì œì¶œë§ˆë‹¤ ë¬´ì‘ìœ„ë¡œ í• ë‹¹ë˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì´ë©°, ê¸°ì¤€ì´ ìœ ë™ì ì…ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” ê±°ì ˆë  ìˆ˜ ìˆì§€ë§Œ í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”! í˜„ì¬ ìƒíƒœë¥¼ ì„¤ëª…í•˜ê³  ê²€í† ìì—ê²Œ ì–´ë–»ê²Œ ìˆ˜ì •í•´ì•¼ í•˜ëŠ”ì§€ ë¬¼ì–´ë³´ì„¸ìš”.

## ì•±ì—ì„œ WeChat ë„¤ì´í‹°ë¸Œ ë¡œê·¸ì¸ í™œì„±í™”í•˜ê¸° \{#enable-wechat-native-sign-in-in-your-app}

### iOS \{#ios}

ì•±ì— [Logto iOS SDK](/quick-starts/swift)ë¥¼ í†µí•©í–ˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. ì´ ê²½ìš°, ë§¤ìš° ê°„ë‹¨í•˜ë©° WeChat SDK ë¬¸ì„œë¥¼ ì½ì„ í•„ìš”ì¡°ì°¨ ì—†ìŠµë‹ˆë‹¤:

**1. Xcode í”„ë¡œì íŠ¸ì—ì„œ ìœ ë‹ˆë²„ì„¤ ë§í¬ ë° URL ìŠ¤í‚´ êµ¬ì„±í•˜ê¸°**

Xcode í”„ë¡œì íŠ¸ -> Signing & Capabilities íƒ­ì—ì„œ "Associated Domains" ê¸°ëŠ¥ê³¼ ì´ì „ì— êµ¬ì„±í•œ ìœ ë‹ˆë²„ì„¤ ë§í¬ë¥¼ ì¶”ê°€í•˜ì„¸ìš”.

<img src="/img/assets/universal-link.png" alt="Universal link" />

ê·¸ëŸ° ë‹¤ìŒ "Info" íƒ­ìœ¼ë¡œ ì´ë™í•˜ì—¬ WeChat App IDë¡œ [ì‚¬ìš©ì ì •ì˜ URL ìŠ¤í‚´](https://developer.apple.com/documentation/xcode/defining-a-custom-url-scheme-for-your-app)ì„ ì¶”ê°€í•˜ì„¸ìš”.

<img src="/img/assets/custom-url-scheme.png" alt="Custom URL scheme" />

ë§ˆì§€ë§‰ìœ¼ë¡œ `Info.plist`ë¥¼ ì—´ê³  `LSApplicationQueriesSchemes` ì•„ë˜ì— `weixinULAPI` ë° `weixin`ì„ ì¶”ê°€í•˜ì„¸ìš”.

<img src="/img/assets/plist.png" alt="Plist" />

:::note

ì´ëŸ¬í•œ ì‘ì—…ì´ ë§¤ìš° í•©ë¦¬ì ì´ì§€ ì•Šë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆì§€ë§Œ, ì´ê²ƒì´ ìš°ë¦¬ê°€ ì°¾ì€ ìµœì†Œí•œì˜ ì‹¤í–‰ ê°€ëŠ¥í•œ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [ë§ˆë²•ì˜ ê³µì‹ ê°€ì´ë“œ](https://developers.weixin.qq.com/doc/oplatform/en/Mobile_App/Access_Guide/iOS.html)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

:::

**2. `LogtoSocialPluginWechat`ì„ Xcode í”„ë¡œì íŠ¸ì— ì¶”ê°€í•˜ê¸°**

í”„ë ˆì„ì›Œí¬ ì¶”ê°€:

<img src="/img/assets/add-framework.png" alt="Add framework" />

ê·¸ë¦¬ê³  Build Settings > Linking > Other Linker Flagsì— `-ObjC`ë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

<img src="/img/assets/linker-flags.png" alt="Linker flags" />

:::note

í”ŒëŸ¬ê·¸ì¸ì€ WeChat Open SDK 1.9.2ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. í”ŒëŸ¬ê·¸ì¸ì„ ê°€ì ¸ì˜¨ í›„ `import WechatOpenSDK`ë¥¼ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

:::

**3. `LogtoClient` ì´ˆê¸°í™” ì˜µì…˜ì— í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€í•˜ê¸°**

```swift
let logtoClient = LogtoClient(
  useConfig: config,
  socialPlugins: [LogtoSocialPluginWechat()]
)
```

**4. `onOpenURL`ì„ ì ì ˆíˆ ì²˜ë¦¬í•˜ê¸°**

:::note

í•¨ìˆ˜ `LogtoClient.handle(url:)`ëŠ” í™œì„±í™”í•œ ëª¨ë“  ë„¤ì´í‹°ë¸Œ ì»¤ë„¥í„°ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. í•œ ë²ˆë§Œ í˜¸ì¶œí•˜ë©´ ë©ë‹ˆë‹¤.

:::

```swift
// SwiftUI
YourRootView()
  .onOpenURL { url in
      LogtoClient.handle(url: url)
  }

// ë˜ëŠ” AppDelegate
func application(_ app: UIApplication, open url: URL, options: /*...*/) -> Bool {
  LogtoClient.handle(url: url)
}
```

### Android \{#android}

ì•±ì— [Logto Android SDK](/quick-starts/android)ë¥¼ í†µí•©í–ˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. ì´ ê²½ìš°, ë§¤ìš° ê°„ë‹¨í•˜ë©° WeChat SDK ë¬¸ì„œë¥¼ ì½ì„ í•„ìš”ì¡°ì°¨ ì—†ìŠµë‹ˆë‹¤:

**1. `Wechat Open SDK`ë¥¼ í”„ë¡œì íŠ¸ì— ì¶”ê°€í•˜ê¸°**

Gradle í”„ë¡œì íŠ¸ ì €ì¥ì†Œì— `mavenCentral()` ì €ì¥ì†Œê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:

```kotlin
repositories {
  // ...
  mavenCentral()
}
```

ì˜ì¡´ì„±ì— Wechat Open SDKë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

```kotlin
dependencies {
  // ...
  api("com.tencent.mm.opensdk:wechat-sdk-android:6.8.0")  // kotlin-script
  // ë˜ëŠ”
  api 'com.tencent.mm.opensdk:wechat-sdk-android:6.8.0'   // groovy-script
}
```

**2. `WXEntryActivity`ë¥¼ í”„ë¡œì íŠ¸ì— ë„ì…í•˜ê¸°**

íŒ¨í‚¤ì§€ ë£¨íŠ¸ ì•„ë˜ì— `wxapi` íŒ¨í‚¤ì§€ë¥¼ ìƒì„±í•˜ê³  `wxapi` íŒ¨í‚¤ì§€ì— `WXEntryActivity`ë¥¼ ì¶”ê°€í•˜ì„¸ìš” (`com.sample.app`ì„ ì˜ˆë¡œ ë“¤ë©´):

```kotlin
// WXEntryActivity.kt
package com.sample.app.wxapi

import io.logto.sdk.android.auth.social.wechat.WechatSocialResultActivity

class WXEntryActivity: WechatSocialResultActivity()
```

```java
// WXEntryActivity.java
package com.sample.app.wxapi

import io.logto.sdk.android.auth.social.wechat.WechatSocialResultActivity

public class WXEntryActivity extends WechatSocialResultActivity {}
```

í”„ë¡œì íŠ¸ ë‚´ `WXEntryActivity`ì˜ ìµœì¢… ìœ„ì¹˜ëŠ” ë‹¤ìŒê³¼ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤ (Kotlinì„ ì˜ˆë¡œ ë“¤ë©´):

```bash
src/main/kotlin/com/sample/app/wxapi/WXEntryActivity.kt
```

**3. `AndroidManifest.xml` ìˆ˜ì •í•˜ê¸°**

`AndroidManifest.xml`ì— ë‹¤ìŒ ì¤„ì„ ì¶”ê°€í•˜ì„¸ìš”:

```xml
\<?xml version="1.0" encoding="utf-8"?>
\<manifest xmlns:android="http://schemas.android.com/apk/res/android"
  package="com.sample.app">

  \<application>
    \<!-- ì¶”ê°€í•  ì¤„ -->
    \<activity android:name=".wxapi.WXEntryActivity" android:exported="true"/>
  \</application>

\</manifest>
```

## WeChat ë„¤ì´í‹°ë¸Œ ì»¤ë„¥í„° í…ŒìŠ¤íŠ¸í•˜ê¸° \{#test-wechat-native-connector}

ì´ì œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. [ë¡œê·¸ì¸ ê²½í—˜ì—ì„œ ì†Œì…œ ì»¤ë„¥í„° í™œì„±í™”í•˜ê¸°](/connectors/social-connectors/#enable-social-sign-in)ë¥¼ ìŠì§€ ë§ˆì„¸ìš”.

WeChat ë„¤ì´í‹°ë¸Œ ì»¤ë„¥í„°ê°€ í™œì„±í™”ë˜ë©´, ì•±ì„ ë¹Œë“œí•˜ê³  ì‹¤í–‰í•˜ì—¬ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

:::caution

WeChatì€ WeChat ì•±ì´ ì„¤ì¹˜ë˜ì§€ ì•Šì€ ê¸°ê¸°ì— ëŒ€í•œ ê³„íšì´ ì—†ìŠµë‹ˆë‹¤. LogtoëŠ” ë¡œê·¸ì¸ ì¤‘ì— ì´ ì»¤ë„¥í„°ë¥¼ ìˆ¨ê¸¸ ê²ƒì…ë‹ˆë‹¤ (ì´ëŠ” [ê³µì‹ ê°œë°œ ê°€ì´ë“œ](https://developers.weixin.qq.com/doc/oplatform/en/Mobile_App/WeChat_Login/Development_Guide.html)ì—ì„œ ê¶Œì¥í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤).

:::
