## WeChat ì˜¤í”ˆ í”Œë«í¼ì—ì„œ ëª¨ë°”ì¼ ì•± ìƒì„±í•˜ê¸° \{#create-a-mobile-app-in-the-wechat-open-platform}

:::tip

ì´ë¯¸ ì™„ë£Œí•œ ë¶€ë¶„ì´ ìˆë‹¤ë©´ ì¼ë¶€ ì„¹ì…˜ì„ ê±´ë„ˆë›¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

:::

### ê³„ì • ìƒì„±í•˜ê¸° \{#create-an-account}

https://open.weixin.qq.com/ ì— ì ‘ì†í•˜ì—¬ ì˜¤ë¥¸ìª½ ìƒë‹¨ì˜ "Sign Up" ë²„íŠ¼ì„ í´ë¦­í•œ í›„, íšŒì›ê°€ì… ì ˆì°¨ë¥¼ ì™„ë£Œí•˜ì„¸ìš”.

### ëª¨ë°”ì¼ ì•± ìƒì„±í•˜ê¸° \{#create-a-mobile-app}

ë°©ê¸ˆ ìƒì„±í•œ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”. "ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜" (ç§»åŠ¨åº”ç”¨) íƒ­ì—ì„œ í° ì´ˆë¡ìƒ‰ ë²„íŠ¼ "ëª¨ë°”ì¼ ì•± ìƒì„±" (åˆ›å»ºç§»åŠ¨åº”ç”¨)ì„ í´ë¦­í•˜ì„¸ìš”.

<img src="/img/assets/app-tabs.png" alt="App tabs" />

ì´ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì–‘ì‹ì— í•„ìˆ˜ ì •ë³´ë¥¼ ì…ë ¥í•´ë´…ì‹œë‹¤.

<img src="/img/assets/create-mobile-app.png" alt="Create mobile app" />

#### ê¸°ë³¸ ì •ë³´ \{#basic-info}

ëŒ€ë¶€ë¶„ì€ ë§¤ìš° ì§ê´€ì ì´ì§€ë§Œ, ëª‡ ê°€ì§€ íŒì„ ë“œë¦½ë‹ˆë‹¤:

- WeChat ë¡œê·¸ì¸ì„ í…ŒìŠ¤íŠ¸ë§Œ í•˜ê³  ì•±ì´ App Storeì— ë“±ë¡ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´, "ì•± ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€" ì„¹ì…˜ì—ì„œ "ì•„ë‹ˆì˜¤"ë¥¼ ì„ íƒí•˜ì—¬ "ì•± ë‹¤ìš´ë¡œë“œ ë§í¬"ë¥¼ ê±´ë„ˆë›¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- "ì•± ìš´ì˜ íë¦„ë„"ëŠ” ë‹¤ì†Œ ê¹Œë‹¤ë¡œì›Œ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²½í—˜ìƒ, ê°„ë‹¨í•œ í”Œë¡œìš°ì°¨íŠ¸ì™€ ëª‡ ì¥ì˜ ì•± ìŠ¤í¬ë¦°ìƒ·ì„ ì¤€ë¹„í•˜ë©´ ì‹¬ì‚¬ í†µê³¼ ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§‘ë‹ˆë‹¤.

"ë‹¤ìŒ ë‹¨ê³„"ë¥¼ í´ë¦­í•˜ì—¬ ì§„í–‰í•˜ì„¸ìš”.

#### í”Œë«í¼ ì •ë³´ \{#platform-info}

Logtoì™€ WeChat ë„¤ì´í‹°ë¸Œ ë¡œê·¸ì¸ì„ í†µí•©í•˜ë ¤ë©´ iOSì™€ Android ì¤‘ í•˜ë‚˜ ë˜ëŠ” ë‘˜ ë‹¤ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**iOS ì•±**

"iOS ì•±" (iOS åº”ç”¨)ì„ ì²´í¬í•œ í›„, ì•±ì˜ ëŒ€ìƒ ê¸°ê¸° ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš”.

<img src="/img/assets/platform.png" alt="App platform" />

App Store ë“±ë¡ ì—¬ë¶€ì—ì„œ "ì•„ë‹ˆì˜¤"ë¥¼ ì„ íƒí–ˆë‹¤ë©´, ì—¬ê¸°ì„œ "AppStore ë‹¤ìš´ë¡œë“œ ì£¼ì†Œ" ì…ë ¥ì„ ê±´ë„ˆë›¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

_Bundle ID_, _í…ŒìŠ¤íŠ¸ ë²„ì „ Bundle ID_, *Universal Links*ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì‚¬ì‹¤ìƒ ë§í¬ëŠ” í•˜ë‚˜ë§Œ í•„ìš”í•©ë‹ˆë‹¤ ğŸ˜‚).

:::note

*Bundle ID*ì™€ *í…ŒìŠ¤íŠ¸ ë²„ì „ Bundle ID*ëŠ” ë™ì¼í•œ ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

:::

:::tip

WeChat ë„¤ì´í‹°ë¸Œ ë¡œê·¸ì¸ì„ ìœ„í•´ì„œëŠ” universal linkê°€ í•„ìš”í•©ë‹ˆë‹¤. ì•„ì§ ì„¤ì •í•˜ì§€ ì•Šì•˜ê±°ë‚˜ ì˜ ëª¨ë¥¸ë‹¤ë©´ [Apple ê³µì‹ ë¬¸ì„œ](https://developer.apple.com/ios/universal-links/)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

:::

**Android ì•±**

"Android ì•±" (Android åº”ç”¨)ì„ ì²´í¬í•˜ì„¸ìš”.

<img src="/img/assets/platform-android-app.png" alt="Android app platform" />

_ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œëª…_ (åº”ç”¨ç­¾å)ê³¼ _ì• í”Œë¦¬ì¼€ì´ì…˜ íŒ¨í‚¤ì§€ëª…_ (åº”ç”¨åŒ…å)ì„ ì…ë ¥í•˜ì„¸ìš”.

:::note

ì•±ì— ì„œëª…ì„ í•´ì•¼ ì„œëª… ê°’ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [ì•± ì„œëª…í•˜ê¸°](https://developer.android.com/studio/publish/app-signing)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

:::

ì„œëª… í›„, `signingReport` íƒœìŠ¤í¬ë¥¼ ì‹¤í–‰í•˜ì—¬ ì„œëª… ê°’ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
./gradlew your-android-project:signingReport
```

í•´ë‹¹ ë¹Œë“œ ë³€í˜•ì˜ ë¦¬í¬íŠ¸ì—ì„œ `MD5` ê°’ì„ _ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œëª…_ (åº”ç”¨ç­¾å)ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. ë‹¨, ê°’ì—ì„œ ëª¨ë“  ì„¸ë¯¸ì½œë¡ ì„ ì œê±°í•˜ê³  ì†Œë¬¸ìë¡œ ë³€í™˜í•˜ì„¸ìš”.

ì˜ˆì‹œ: `1A:2B:3C:4D` -> `1a2b3c4d`.

#### ì‹¬ì‚¬ ê²°ê³¼ ëŒ€ê¸° \{#waiting-for-the-review-result}

í”Œë«í¼ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•œ í›„ "ì‹¬ì‚¬ ì œì¶œ"ì„ í´ë¦­í•˜ì—¬ ê³„ì† ì§„í–‰í•˜ì„¸ìš”. ë³´í†µ ì‹¬ì‚¬ëŠ” ë¹ ë¥´ê²Œ ì§„í–‰ë˜ë©° 1~2ì¼ ë‚´ì— ëë‚©ë‹ˆë‹¤.

ì‹¬ì‚¬ ê¸°ì¤€ì´ ìœ ë™ì ì´ì–´ì„œ ì œì¶œí•  ë•Œë§ˆë‹¤ ì‹¬ì‚¬ìê°€ ë¬´ì‘ìœ„ë¡œ ë°°ì •ë˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. ì²˜ìŒì— ê±°ì ˆë  ìˆ˜ë„ ìˆì§€ë§Œ í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”! í˜„ì¬ ìƒí™©ì„ ì„¤ëª…í•˜ê³  ì‹¬ì‚¬ìì—ê²Œ ì–´ë–»ê²Œ ìˆ˜ì •í•´ì•¼ í•˜ëŠ”ì§€ ë¬¸ì˜í•˜ì„¸ìš”.

## ì•±ì—ì„œ WeChat ë„¤ì´í‹°ë¸Œ ë¡œê·¸ì¸ í™œì„±í™”í•˜ê¸° \{#enable-wechat-native-sign-in-in-your-app}

### iOS \{#ios}

ì•±ì— [Logto iOS SDK](/quick-starts/swift)ë¥¼ ì´ë¯¸ í†µí•©í–ˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. ì´ ê²½ìš° ë§¤ìš° ê°„ë‹¨í•˜ë©°, WeChat SDK ë¬¸ì„œë¥¼ ì½ì„ í•„ìš”ë„ ì—†ìŠµë‹ˆë‹¤:

**1. Xcode í”„ë¡œì íŠ¸ì—ì„œ universal link ë° URL scheme ì„¤ì •**

Xcode í”„ë¡œì íŠ¸ -> Signing & Capabilities íƒ­ì—ì„œ "Associated Domains" ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³ , ì•ì„œ ì„¤ì •í•œ universal linkë¥¼ ì…ë ¥í•˜ì„¸ìš”.

<img src="/img/assets/universal-link.png" alt="Universal link" />

ê·¸ ë‹¤ìŒ "Info" íƒ­ìœ¼ë¡œ ì´ë™í•˜ì—¬ [ì»¤ìŠ¤í…€ URL scheme](https://developer.apple.com/documentation/xcode/defining-a-custom-url-scheme-for-your-app)ì„ WeChat App IDë¡œ ì¶”ê°€í•˜ì„¸ìš”.

<img src="/img/assets/custom-url-scheme.png" alt="Custom URL scheme" />

ë§ˆì§€ë§‰ìœ¼ë¡œ `Info.plist`ë¥¼ ì—´ì–´ `LSApplicationQueriesSchemes` ì•„ë˜ì— `weixinULAPI`ì™€ `weixin`ì„ ì¶”ê°€í•˜ì„¸ìš”.

<img src="/img/assets/plist.png" alt="Plist" />

:::note

ì´ ì‘ì—…ë“¤ì´ ë‹¤ì†Œ ë¹„í•©ë¦¬ì ìœ¼ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì§€ë§Œ, ì €í¬ê°€ ì°¾ì€ ìµœì†Œí•œì˜ ë™ì‘ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [ë§ˆë²• ê°™ì€ ê³µì‹ ê°€ì´ë“œ](https://developers.weixin.qq.com/doc/oplatform/en/Mobile_App/Access_Guide/iOS.html)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

:::

**2. Xcode í”„ë¡œì íŠ¸ì— `LogtoSocialPluginWechat` ì¶”ê°€**

í”„ë ˆì„ì›Œí¬ë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

<img src="/img/assets/add-framework.png" alt="Add framework" />

ê·¸ë¦¬ê³  Build Settings > Linking > Other Linker Flagsì— `-ObjC`ë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

<img src="/img/assets/linker-flags.png" alt="Linker flags" />

:::note

ì´ í”ŒëŸ¬ê·¸ì¸ì—ëŠ” WeChat Open SDK 1.9.2ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í”ŒëŸ¬ê·¸ì¸ì„ ì„í¬íŠ¸í•˜ë©´ ë°”ë¡œ `import WechatOpenSDK`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

:::

**3. `LogtoClient` ì´ˆê¸°í™” ì˜µì…˜ì— í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€**

```swift
let logtoClient = LogtoClient(
  useConfig: config,
  socialPlugins: [LogtoSocialPluginWechat()]
)
```

**4. `onOpenURL`ì„ ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬í•˜ê¸°**

:::note

`LogtoClient.handle(url:)` í•¨ìˆ˜ëŠ” í™œì„±í™”í•œ ëª¨ë“  ë„¤ì´í‹°ë¸Œ ì»¤ë„¥í„°ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. í•œ ë²ˆë§Œ í˜¸ì¶œí•˜ë©´ ë©ë‹ˆë‹¤.

:::

```swift
// SwiftUI
YourRootView()
  .onOpenURL { url in
      LogtoClient.handle(url: url)
  }

// ë˜ëŠ” AppDelegate
func application(_ app: UIApplication, open url: URL, options: /*...*/) -> Bool {
  LogtoClient.handle(url: url)
}
```

### Android \{#android}

ì•±ì— [Logto Android SDK](/quick-starts/android)ë¥¼ ì´ë¯¸ í†µí•©í–ˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. ì´ ê²½ìš° ë§¤ìš° ê°„ë‹¨í•˜ë©°, WeChat SDK ë¬¸ì„œë¥¼ ì½ì„ í•„ìš”ë„ ì—†ìŠµë‹ˆë‹¤:

**1. í”„ë¡œì íŠ¸ì— `Wechat Open SDK` ì¶”ê°€**

Gradle í”„ë¡œì íŠ¸ì˜ repositoriesì— `mavenCentral()`ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:

```kotlin
repositories {
  // ...
  mavenCentral()
}
```

ì˜ì¡´ì„±ì— Wechat Open SDKë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

```kotlin
dependencies {
  // ...
  api("com.tencent.mm.opensdk:wechat-sdk-android:6.8.0")  // kotlin-script
  // ë˜ëŠ”
  api 'com.tencent.mm.opensdk:wechat-sdk-android:6.8.0'   // groovy-script
}
```

**2. í”„ë¡œì íŠ¸ì— `WXEntryActivity` ì¶”ê°€**

íŒ¨í‚¤ì§€ ë£¨íŠ¸ ì•„ë˜ì— `wxapi` íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ê³ , ê·¸ ì•ˆì— `WXEntryActivity`ë¥¼ ì¶”ê°€í•˜ì„¸ìš” (`com.sample.app` ì˜ˆì‹œ):

```kotlin
// WXEntryActivity.kt
package com.sample.app.wxapi

import io.logto.sdk.android.auth.social.wechat.WechatSocialResultActivity

class WXEntryActivity: WechatSocialResultActivity()
```

```java
// WXEntryActivity.java
package com.sample.app.wxapi

import io.logto.sdk.android.auth.social.wechat.WechatSocialResultActivity

public class WXEntryActivity extends WechatSocialResultActivity {}
```

í”„ë¡œì íŠ¸ ë‚´ì—ì„œ `WXEntryActivity`ì˜ ìµœì¢… ìœ„ì¹˜ëŠ” ë‹¤ìŒê³¼ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤ (Kotlin ì˜ˆì‹œ):

```bash
src/main/kotlin/com/sample/app/wxapi/WXEntryActivity.kt
```

**3. `AndroidManifest.xml` ìˆ˜ì •**

`AndroidManifest.xml`ì— ë‹¤ìŒ ë¼ì¸ì„ ì¶”ê°€í•˜ì„¸ìš”:

```xml
\<?xml version="1.0" encoding="utf-8"?>
\<manifest xmlns:android="http://schemas.android.com/apk/res/android"
  package="com.sample.app">

  \<application>
    \<!-- ì¶”ê°€í•  ë¼ì¸ -->
    \<activity android:name=".wxapi.WXEntryActivity" android:exported="true"/>
  \</application>

\</manifest>
```
