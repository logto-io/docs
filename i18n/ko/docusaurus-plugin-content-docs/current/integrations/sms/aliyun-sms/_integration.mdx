## Aliyun SMS 콘솔에서 단문 메시지 서비스 설정하기 \{#set-up-a-short-message-service-in-aliyun-sms-console}

### Aliyun 계정 만들기 \{#create-an-aliyun-account}

[Aliyun 웹사이트](https://cn.aliyun.com/)에 접속하여 Aliyun 계정이 없다면 회원가입을 진행하세요.

### Aliyun 단문 메시지 서비스 활성화 및 구성 \{#enable-and-configure-aliyun-short-message-service}

1. [Aliyun 웹사이트](https://cn.aliyun.com/)에서 Aliyun 계정으로 로그인한 후, [SMS 서비스 콘솔 페이지](https://www.aliyun.com/product/sms)로 이동하세요.
2. SMS 서비스 페이지 좌측 상단의 "무료 개통" (免费开通) 버튼을 클릭하여 설정을 시작하세요.
3. "SMS 서비스 개통 약관" (短信服务开通条款)을 읽고 동의한 후, "서비스 개통" (开通服务)을 클릭하여 다음 단계로 이동하세요.
4. 이제 [SMS 서비스 콘솔 페이지](https://dysms.console.aliyun.com/overview)에 있습니다. 사용 목적에 따라 사이드바에서 "중국 본토" (国内消息) 또는 "중국 본토 외" (国际/港澳台消息) 버튼을 선택하세요.
5. 가이드라인에 따라 서명과 템플릿을 추가하고, 심사에 필요한 자료나 정보를 제출하세요.
   - 서명 신청 시 "적용 시나리오" (适用场景)로 "인증 코드 메시지" (验证码)를, 템플릿 심사 신청 시 "템플릿 유형" (模板类型)으로 "인증 코드 메시지" (验证码)를 선택해야 합니다. 우리는 이 서명과 템플릿을 인증 코드 발송에 사용하므로, 현재 인증 코드 관련 문자 외의 SMS 발송은 지원하지 않습니다.
   - 템플릿 내용에서 디지털 인증 코드를 삽입하고 싶은 위치에 `{{code}}`를 플레이스홀더로 사용하세요.
6. SMS 서명 및 템플릿 신청서를 제출한 후, 적용될 때까지 기다려야 합니다. 이 시점에서 [SMS 서비스 콘솔 페이지](https://dysms.console.aliyun.com/overview)로 돌아가 테스트 SMS를 발송할 수 있습니다. 서명과 템플릿이 사용 가능하다면 바로 테스트할 수 있고, 아직 적용되지 않았다면 Aliyun에서 테스트용 템플릿도 제공합니다.
   - 테스트 메시지 발송 전 소액 충전이 필요할 수 있습니다.
   - 테스트 메시지 발송 전 테스트용 휴대폰 번호를 등록해야 할 수도 있습니다. 자세한 내용은 [SMS 서비스 콘솔 페이지](https://dysms.console.aliyun.com/overview) 사이드바의 "빠른 학습" (快速学习) 탭을 참고하세요.

## 커넥터 JSON 작성하기 \{#compose-the-connector-json}

1. [SMS 서비스 콘솔 페이지](https://dysms.console.aliyun.com/overview)에서 우측 상단 아바타에 마우스를 올리고 "AccessKey 관리" (AccessKey 管理)로 이동한 후, "AccessKey 생성" (创建 AccessKey)을 클릭하세요. 보안 인증을 마치면 "AccessKey ID"와 "AccessKey Secret" 쌍을 받게 됩니다. 안전하게 보관하세요.
2. 방금 방문한 "중국 본토" (国内消息) 또는 "중국 본토 외" (国际/港澳台消息) 탭에서 "서명" (签名名称)과 "템플릿 코드" (模板 CODE)를 쉽게 찾을 수 있습니다.
   - 테스트 전용 서명과 템플릿을 사용하려면 "빠른 학습" (快速学习) 탭으로 이동하면 "서명 & 템플릿 (테스트 전용)" 아래에서 확인할 수 있습니다.
3. Aliyun SMS 커넥터 설정을 작성하세요:
   - 1번 단계에서 받은 access key 쌍을 `accessKeyId`와 `accessKeySecret` 필드에 입력하세요.
   - 2번 단계에서 언급한 "서명" (签名名称)을 `signName` 필드에 입력하세요. 모든 템플릿은 이 서명명을 공유합니다.
   - 다양한 상황에 맞게 여러 SMS 커넥터 템플릿을 추가할 수 있습니다. 단일 템플릿 추가 예시는 다음과 같습니다:
     - 2번 단계에서 받은 "템플릿 코드" (模板 CODE)를 `templateCode` 필드에 입력하세요. 이 값으로 SMS 내용을 제어할 수 있습니다.
     - `usageType` 필드에는 상황에 따라 `Register`, `SignIn`, `ForgotPassword`, `Generic` 중 하나를 입력하세요. (`usageType`은 적절한 사용 사례를 식별하기 위한 Logto 속성입니다.) 전체 사용자 플로우를 활성화하려면 `Register`, `SignIn`, `ForgotPassword`, `Generic` usageType의 템플릿이 필요합니다.

### Aliyun SMS 커넥터 테스트하기 \{#test-aliyun-sms-connector}

전화번호를 입력하고 "전송"을 클릭하여 "저장 및 완료" 전에 설정이 정상 동작하는지 확인할 수 있습니다.

이제 끝입니다. <MainSiteUrl href="/connectors/sms-connectors/#enable-phone-number-sign-up-or-sign-in">로그인 경험에서 커넥터 활성화</MainSiteUrl>를 잊지 마세요.

### 구성 타입 \{#config-types}

| 이름            | 타입       |
| --------------- | ---------- |
| accessKeyId     | string     |
| accessKeySecret | string     |
| signName        | string     |
| templates       | Template[] |

| 템플릿 속성  | 타입        | Enum 값                                                 |
| ------------ | ----------- | ------------------------------------------------------- |
| templateCode | string      | N/A                                                     |
| usageType    | enum string | 'Register' \| 'SignIn' \| 'ForgotPassword' \| 'Generic' |
