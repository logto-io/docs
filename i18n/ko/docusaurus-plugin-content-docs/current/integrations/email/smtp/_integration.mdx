## SMTP 커넥터 설정하기 \{#set-up-smtp-connector}

SMTP는 특정 이메일 서비스 제공업체에 국한되지 않고 모든 제공업체와 함께 사용할 수 있는 전송 프로토콜입니다.

더 나은 이해를 위해, SMTP 커넥터를 사용하여 이메일을 전송하는 방법에 대한 가이드를 다음 제공업체별로 안내합니다:

- *Gmail*은 전 세계에서 가장 인기 있는 이메일 서비스 벤더입니다.
- _Aliyun direct mail_ 및 _SendGrid mail_. Logto 팀이 해당 커넥터를 제공했기 때문에 이 두 이메일 서비스 제공업체에 익숙하신 분들도 있을 것입니다. 이미 대략적인 개념을 가지고 계실 수 있습니다.

아래 예시를 참고하여 다른 모든 이메일 벤더의 설정도 쉽게 파악하시길 바랍니다 :rocket:

### Gmail 사용을 위한 설정 \{#set-up-for-gmail-use}

[Gmail](https://mail.google.com/)에서 새 Gmail 계정을 만들거나, 기존 계정이 있다면 사용할 수 있습니다.

[Gmail 공식 게시글](https://support.google.com/a/answer/176600)에서 SMTP 커넥터를 통해 Gmail을 운영하기 위해 필요한 속성 값들을 확인하는 방법을 안내합니다.

### SendGrid SMTP API 연동하기 \{#integrate-with-sendgrid-smtp-api}

우선, 이미 SendGrid 계정이 있다고 가정합니다. 없다면 [SendGrid 웹사이트](https://app.sendgrid.com/)에서 새 계정을 만드세요.

["Integrating with the SMTP API"](https://docs.sendgrid.com/for-developers/sending-email/integrating-with-the-smtp-api)에서 단계별 가이드를 확인할 수 있습니다.

개발자는 ["Sender Management"](https://mc.sendgrid.com/senders)에서 _sender_ 정보를 확인할 수 있습니다.

### Aliyun direct mail 계정으로 설정하기 \{#configure-with-aliyun-direct-mail-account}

[Aliyun 웹사이트](https://cn.aliyun.com/)에 로그인하세요. 계정이 없다면 새로 등록하세요.

[SMTP를 사용하여 이메일 보내기 가이드](https://www.alibabacloud.com/help/en/directmail/latest/send-emails-using-smtp)를 따라 필요한 설정 및 정보를 얻으세요.

[SMTP 서비스 주소 페이지](https://www.alibabacloud.com/help/en/directmail/latest/smtp-service-address)에서 적절한 SMTP 서비스 주소 호스트와 포트 번호를 선택할 수 있습니다.

"Sender Addresses"를 확인하려면 [DirectMail 콘솔](https://dm.console.aliyun.com/)의 왼쪽 내비게이션에서 진입할 수 있습니다. 여기서 `Sender address`와 `SMTP Password`를 확인할 수 있습니다.

:::note
이전 예시에서는 단순화를 위해 샘플 템플릿 하나만 제공했습니다. 다른 사용 사례를 위해 더 많은 템플릿을 추가해야 합니다.
"\<"와 ">"로 감싸진 값은 본인의 Gmail, SendGrid 또는 Aliyun 계정 설정에 맞게 변경해야 하며, "\<"와 ">"가 없는 다른 필드는 그대로 두세요.
템플릿 내용에 `{{code}}`를 플레이스홀더로 추가하여 이메일 전송 시 임의의 인증 코드를 표시할 수 있습니다.
:::

### SMTP 커넥터 테스트하기 \{#test-smtp-connector}

이메일 주소를 입력하고 "Send"를 클릭하여 "Save and Done" 전에 설정이 정상적으로 동작하는지 확인할 수 있습니다.

이제 끝입니다. <MainSiteUrl href="/connectors/email-connectors/#enable-email-sign-up-or-sign-in">로그인 경험에서 커넥터를 활성화</MainSiteUrl>하는 것을 잊지 마세요.

### 설정 타입 \{#config-types}

| 이름      | 타입       |
| --------- | ---------- |
| host      | string     |
| port      | string     |
| fromEmail | string     |
| templates | Template[] |

| 템플릿 속성 | 타입        | Enum 값                                                 |
| ----------- | ----------- | ------------------------------------------------------- |
| subject     | string      | N/A                                                     |
| content     | string      | N/A                                                     |
| usageType   | enum string | 'Register' \| 'SignIn' \| 'ForgotPassword' \| 'Generic' |
| contentType | enum string | 'text/plain' \| 'text/html'                             |

**Username 및 password 인증 옵션**

| 이름 | 타입                   | Enum 값 |
| ---- | ---------------------- | ------- |
| user | string                 | N/A     |
| pass | string                 | N/A     |
| type | enum string (OPTIONAL) | 'login' |

[OAuth2 인증 옵션](https://nodemailer.com/smtp/oauth2/) 및 기타 고급 설정도 구성할 수 있습니다. 자세한 내용은 [여기](https://nodemailer.com/smtp/)를 참고하세요.

모든 설정 가능한 파라미터가 포함된 예시 설정을 텍스트 박스에 제공하였으니, 직접 설정을 구성할 때 참고하시기 바랍니다. (설정에 대한 책임은 사용자에게 있으며, 일부 값은 예시용으로 실제 사용 사례에 맞지 않을 수 있습니다.)
