---
sidebar_position: 3
---

import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

import illustration from '@site/docs/authorization/assets/rbac-global-api-resources.png';
import AuthorizationRequestExample from '@site/docs/authorization/fragments/AuthorizationRequestExample';
import ClientCredentialsRequestExample from '@site/docs/authorization/fragments/ClientCredentialsRequestExample';
import TokenRequestExample from '@site/docs/authorization/fragments/TokenRequestExample';

κΈ€λ΅λ² API λ¦¬μ†μ¤ λ³΄νΈν•κΈ°

export const resource = 'https://api.your-app.com';

Logtoμ—μ„ μ—­ν•  κΈ°λ° μ ‘κ·Ό μ μ–΄ (RBAC)λ¥Ό μ‚¬μ©ν•μ—¬ μ ν’ μ „μ²΄ APIλ¥Ό λ³΄νΈν•μ„Έμ”. λ¨λ“  μ‚¬μ©μμ™€ ν΄λΌμ΄μ–ΈνΈμ— λ€ν•΄ κΈ€λ΅λ² μ—­ν• κ³Ό κ¶ν•μ„ ν• λ‹Ήν•μ—¬ μ• ν”λ¦¬μΌ€μ΄μ… μ „λ°μ μ ‘κ·Όμ„ μ μ–΄ν•  μ μμµλ‹λ‹¤.

## κΈ€λ΅λ² API λ¦¬μ†μ¤λ€? \{#what-are-global-api-resources}

κΈ€λ΅λ² API λ¦¬μ†μ¤λ” μ΅°μ§μ΄λ‚ ν…λ„νΈμ™€ μƒκ΄€μ—†μ΄ λ¨λ“  μ‚¬μ©μκ°€ μ ‘κ·Όν•  μ μλ” μ• ν”λ¦¬μΌ€μ΄μ… λ‚΄ μ—”λ“ν¬μΈνΈ λλ” μ„λΉ„μ¤μ…λ‹λ‹¤. μΌλ°μ μΌλ΅ κ³µκ° API, ν•µμ‹¬ μ ν’ μ„λΉ„μ¤, λλ” νΉμ • μ΅°μ§μ— ν•μ •λμ§€ μ•μ€ μ—”λ“ν¬μΈνΈκ°€ μ΄μ— ν•΄λ‹Ήν•©λ‹λ‹¤.

**μ‚¬μ© μ‚¬λ΅€ μμ‹**

- μ‚¬μ©μ μ „μ²΄μ— κ³µμ λλ” κ³µκ° API λλ” μ—”λ“ν¬μΈνΈ
- λ‹¤μ¤‘ ν…λ„μ‹μ— λ¬¶μ΄μ§€ μ•μ€ λ§μ΄ν¬λ΅μ„λΉ„μ¤
- λ¨λ“  κ³ κ°μ΄ μ‚¬μ©ν•λ” ν•µμ‹¬ μ• ν”λ¦¬μΌ€μ΄μ… API (μ: `/api/users`, `/api/products`)

Logtoλ” OAuth 2.1κ³Ό μ μ—°ν• μ—­ν•  κΈ°λ° μ ‘κ·Ό μ μ–΄λ¥Ό κ²°ν•©ν•μ—¬ μ΄λ¬ν• APIλ¥Ό μ•μ „ν•κ² λ³΄νΈν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

## Logtoμ—μ„μ λ™μ‘ λ°©μ‹ \{#how-it-works-in-logto}

- **API λ¦¬μ†μ¤μ™€ κ¶ν•μ€ μ „μ—­μ μΌλ΅ λ“±λ΅λ©λ‹λ‹¤:** λ³΄νΈν•λ ¤λ” κ° APIλ” κ³ μ ν• λ¦¬μ†μ¤ μ§€ν‘ (URI)μ™€ μ ‘κ·Όμ„ μ μ–΄ν•λ” κ¶ν•(μ¤μ½”ν”„) μ§‘ν•©μΌλ΅ μ •μλ©λ‹λ‹¤.
- **μ ‘κ·Όμ€ κΈ€λ΅λ² μ—­ν• λ΅ μ μ–΄λ©λ‹λ‹¤:** κ¶ν•μ„ μ—­ν• μ— ν• λ‹Ήν•κ³ , μ΄ μ—­ν• μ„ μ‚¬μ©μ λλ” ν΄λΌμ΄μ–ΈνΈμ— ν• λ‹Ήν•  μ μμµλ‹λ‹¤.
- **μ΅°μ§ μμ¤€ κ¶ν•κ³Όλ” λ³„κ°μ…λ‹λ‹¤:** κΈ€λ΅λ² API λ¦¬μ†μ¤λ” μ΅°μ§ μ»¨ν…μ¤νΈκ°€ μ—†μµλ‹λ‹¤. ν•„μ”ν•λ‹¤λ©΄ μ΅°μ§ μ—­ν• κ³Ό ν•¨κ» μ‚¬μ©ν•μ—¬ μ¶”κ°€μ μΈ μ»¨ν…μ¤νΈλ¥Ό μ κ³µν•  μ μμµλ‹λ‹¤. μ΅°μ§ μμ¤€ API λ³΄νΈλ” [μ΅°μ§ μμ¤€ API λ¦¬μ†μ¤ λ³΄νΈν•κΈ°](/authorization/organization-level-api-resources)λ¥Ό μ°Έκ³ ν•μ„Έμ”.

<img src={illustration} alt="Global API resources RBAC" style={{ maxWidth: '100%' }} />

### κµ¬ν„ κ°μ” \{#implementation-overview}

1. **API λ¦¬μ†μ¤λ¥Ό λ“±λ΅**ν•κ³  Logtoμ—μ„ ν•΄λ‹Ή κ¶ν•μ„ μ •μν•μ„Έμ”.
2. **API μ ‘κ·Όμ— ν•„μ”ν• κ¶ν•μ„ κ°€μ§„ μ—­ν• μ„ μ •μ**ν•μ„Έμ”.
3. **μ—­ν• μ„ μ‚¬μ©μ λλ” ν΄λΌμ΄μ–ΈνΈμ— ν• λ‹Ή**ν•μ„Έμ”.
4. **OAuth 2.0 μΈκ°€ ν”λ΅μ°**λ¥Ό μ‚¬μ©ν•μ—¬ APIμ— λ€ν• μ•΅μ„Έμ¤ ν† ν°μ„ νλ“ν•μ„Έμ” (resource νλΌλ―Έν„°λ” λ“±λ΅ν• API μ‹λ³„μμ™€ μΌμΉν•΄μ•Ό ν•©λ‹λ‹¤).
5. **APIμ—μ„ μ•΅μ„Έμ¤ ν† ν°μ„ κ²€μ¦**ν•μ—¬ κ¶ν•μ„ μ μ©ν•μ„Έμ”.

### λ¦¬μ†μ¤ μ§€ν‘ μ΄ν•΄ν•κΈ° \{#understanding-resource-indicators}

Logtoλ” [RFC 8707: OAuth 2.0μ„ μ„ν• λ¦¬μ†μ¤ μ§€ν‘](https://www.rfc-editor.org/rfc/rfc8707.html)μ— λ”°λΌ API λ¦¬μ†μ¤λ¥Ό λ¨λΈλ§ν•©λ‹λ‹¤. **λ¦¬μ†μ¤ μ§€ν‘**λ” μ”μ²­ λ€μƒ API λλ” μ„λΉ„μ¤λ¥Ό κ³ μ ν•κ² μ‹λ³„ν•λ” URIμ…λ‹λ‹¤.

**μ£Όμ” ν¬μΈνΈ**

- λ¦¬μ†μ¤ μ§€ν‘λ” λ°λ“μ‹ μ λ€ URIμ—¬μ•Ό ν•©λ‹λ‹¤ (μ: `https://api.example.com`)
- ν”„λκ·Έλ¨ΌνΈ μ»΄ν¬λ„νΈλ” μ—†μ–΄μ•Ό ν•λ©°, κ°€λ¥ν•λ©΄ μΏΌλ¦¬ μ¤νΈλ§ μ‚¬μ©μ„ ν”Όν•μ„Έμ”.
- λ¦¬μ†μ¤ μ§€ν‘λ” λ€μƒ μ ν• ν† ν° λ° λ‹¤μ¤‘ API μ•„ν‚¤ν…μ² μ§€μ›μ„ κ°€λ¥ν•κ² ν•©λ‹λ‹¤.

**μμ‹**

- Management API: `https://my-tenant.logto.app/api`
- μ»¤μ¤ν…€ κΈ€λ΅λ² API: `https://api.yourapp.com`

### μΈκ°€ ν”λ΅μ°: API μΈμ¦ λ° λ³΄νΈν•κΈ° \{#authorization-flow-authenticating-and-securing-your-api}

μ•„λ ν”λ΅μ°λ” μƒνΈμ‘μ© μ‚¬μ©μ μΈμ¦ (λΈλΌμ°μ €/μ•±)κ³Ό λ°±μ—”λ“ κΈ°κ³„ κ°„ (M2M) μ‹λ‚λ¦¬μ¤ λ¨λ‘μ— μ μ©λ©λ‹λ‹¤.

μ΄ ν”λ΅μ°λ” ν•„μ νλΌλ―Έν„°λ‚ ν—¤λ”μ— λ€ν• λ¨λ“  μ„Έλ¶€ μ •λ³΄λ¥Ό ν¬ν•¨ν•μ§€ μ•μΌλ©°, μ£Όμ” λ‹¨κ³„μ— μ΄μ μ„ λ§μ¶”κ³  μμµλ‹λ‹¤. μ‹¤μ  ν”λ΅μ°κ°€ μ–΄λ–»κ² λ™μ‘ν•λ”μ§€ κ³„μ† μ½μ–΄λ³΄μ„Έμ”.

```mermaid
sequenceDiagram
    participant Client
    participant Logto
    participant API as API λ¦¬μ†μ¤

    alt μ‚¬μ©μ μΈμ¦
        Client->>Logto: GET /oidc/auth
        Logto->>Logto: μ‚¬μ©μλ¥Ό λ΅κ·ΈμΈ νμ΄μ§€λ΅ λ¦¬λ””λ ‰μ…
        Logto->>Client: `authorization_code`μ™€ ν•¨κ» λ‹¤μ‹ λ¦¬λ””λ ‰μ…
        alt authorization_code grant μ‚¬μ©
            Client->>Logto: POST /oidc/token, `grant_type=authorization_code`<br/>λ° `resource` νλΌλ―Έν„° ν¬ν•¨
        else refresh_token grant μ‚¬μ©
            Client->>Logto: POST /oidc/token, `grant_type=authorization_code`
            Logto->>Client: λ¦¬ν”„λ μ‹ ν† ν° λ°ν™
            Client->>Logto: POST /oidc/token, `grant_type=refresh_token`<br/>λ° `resource` νλΌλ―Έν„° ν¬ν•¨
        end
    else κΈ°κ³„ κ°„ (M2M) ν΄λΌμ΄μ–ΈνΈ μΈμ¦
        Client->>Logto: POST /oidc/token, `grant_type=client_credentials`<br/>λ° `resource` νλΌλ―Έν„° ν¬ν•¨
    end

    Logto->>Client: μ•΅μ„Έμ¤ ν† ν° (JSON Web Token) λ°ν™
    Client->>API: Bearer ν† ν°μΌλ΅ μ”μ²­
    API->>API: μ•΅μ„Έμ¤ ν† ν° κ²€μ¦

    alt ν† ν°μ΄ μ ν¨ν•¨
      API->>Client: λ³΄νΈλ λ¦¬μ†μ¤ λ°μ΄ν„° λ°ν™
    else ν† ν°μ΄ μ ν¨ν•μ§€ μ•μ
      API->>Client: 401 Unauthorized
    end
```

_μ‚¬μ©μ μΈμ¦ = λΈλΌμ°μ €/μ•±. M2M = ν΄λΌμ΄μ–ΈνΈ μκ²© μ¦λ…μ„ μ‚¬μ©ν•λ” λ°±μ—”λ“ μ„λΉ„μ¤ λλ” μ¤ν¬λ¦½νΈ._

:::note
`resource` νλΌλ―Έν„°λ” Logtoμ— λ“±λ΅ν• API μ‹λ³„μ (λ¦¬μ†μ¤ μ§€ν‘)μ™€ μ •ν™•ν μΌμΉν•΄μ•Ό ν•©λ‹λ‹¤.
:::

## κµ¬ν„ λ‹¨κ³„ \{#implementation-steps}

### API λ¦¬μ†μ¤ λ“±λ΅ν•κΈ° \{#register-your-api-resources}

1. <CloudLink to="/api-resources">μ½μ†” β†’ API λ¦¬μ†μ¤</CloudLink>λ΅ μ΄λ™ν•μ„Έμ”.
2. μƒ API λ¦¬μ†μ¤ (μ: `https://api.yourapp.com/org`)λ¥Ό μƒμ„±ν•κ³  κ¶ν•(μ¤μ½”ν”„)μ„ μ •μν•μ„Έμ”.

μ „μ²΄ μ„¤μ • λ‹¨κ³„λ” [κ¶ν•κ³Ό ν•¨κ» API λ¦¬μ†μ¤ μ •μν•κΈ°](/authorization/role-based-access-control#define-api-resources-with-permissions)λ¥Ό μ°Έκ³ ν•μ„Έμ”.

### κΈ€λ΅λ² μ—­ν•  μ„¤μ •ν•κΈ° \{#set-up-global-roles}

1. <CloudLink to="/roles">μ½μ†” β†’ μ—­ν• </CloudLink>λ΅ μ΄λ™ν•μ„Έμ”.
2. API κ¶ν•μ— λ§¤ν•‘λλ” μ—­ν• μ„ μƒμ„±ν•μ„Έμ” (μ: `read:products`, `write:products`).
3. ν•΄λ‹Ή μ—­ν• μ„ API μ ‘κ·Όμ΄ ν•„μ”ν• μ‚¬μ©μ λλ” ν΄λΌμ΄μ–ΈνΈμ— ν• λ‹Ήν•μ„Έμ”.

μ „μ²΄ μ„¤μ • λ‹¨κ³„λ” [κΈ€λ΅λ² μ—­ν•  μ‚¬μ©ν•κΈ°](/authorization/role-based-access-control#configure-global-roles)λ¥Ό μ°Έκ³ ν•μ„Έμ”.

### κΈ€λ΅λ² API λ¦¬μ†μ¤μ© μ•΅μ„Έμ¤ ν† ν° νλ“ν•κΈ° \{#obtain-access-tokens-for-global-api-resources}

κΈ€λ΅λ² API λ¦¬μ†μ¤μ— μ ‘κ·Όν•κΈ° μ „μ—, ν΄λΌμ΄μ–ΈνΈλ” μ•΅μ„Έμ¤ ν† ν°μ„ νλ“ν•΄μ•Ό ν•©λ‹λ‹¤. Logtoλ” κΈ€λ΅λ² API λ¦¬μ†μ¤μ© μ•΅μ„Έμ¤ ν† ν°μΌλ΅ [JSON Web Token (JWT)](https://auth.wiki/jwt)μ„ λ°κΈ‰ν•©λ‹λ‹¤. μΌλ°μ μΌλ΅ [OAuth 2.0 μΈκ°€ μ½”λ“ ν”λ΅μ°](https://auth.wiki/authorization-code-flow), [λ¦¬ν”„λ μ‹ ν† ν° ν”λ΅μ°](https://auth.wiki/refresh-token), λλ” [ν΄λΌμ΄μ–ΈνΈ μκ²© μ¦λ… ν”λ΅μ°](https://auth.wiki/client-credentials-flow)λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

#### μΈκ°€ μ½”λ“ λλ” λ¦¬ν”„λ μ‹ ν† ν° ν”λ΅μ° \{#authorization-code-or-refresh-token-flow}

λ¨λ“  Logto κ³µμ‹ SDKλ” λ¦¬ν”„λ μ‹ ν† ν° ν”λ΅μ°λ¥Ό ν†µν• κΈ€λ΅λ² API λ¦¬μ†μ¤μ© μ•΅μ„Έμ¤ ν† ν° νλ“μ„ κΈ°λ³Έ μ§€μ›ν•©λ‹λ‹¤. ν‘μ¤€ OAuth 2.0 / OIDC ν΄λΌμ΄μ–ΈνΈ λΌμ΄λΈλ¬λ¦¬λ„ μ΄ ν”λ΅μ° κµ¬ν„μ— μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

<Tabs groupId="user-client">
<TabItem value="logto-sdk" label="Logto SDK">

Logto ν΄λΌμ΄μ–ΈνΈ μ΄κΈ°ν™” μ‹, `resources` νλΌλ―Έν„°(λ°°μ—΄)μ— λ¦¬μ†μ¤ μ§€ν‘λ¥Ό μ¶”κ°€ν•κ³ , `scopes` νλΌλ―Έν„°μ— μ›ν•λ” κ¶ν•(μ¤μ½”ν”„)μ„ μ¶”κ°€ν•μ„Έμ”.

μ‚¬μ©μκ°€ μΈμ¦λλ©΄, μ•΅μ„Έμ¤ ν† ν°μ„ μ”μ²­ν•  λ• `resource` νλΌλ―Έν„° λλ” μ μ‚¬ν• νλΌλ―Έν„°μ— λ¦¬μ†μ¤ μ§€ν‘λ¥Ό μ „λ‹¬ν•μ„Έμ” (μ: `getAccessToken()` νΈμ¶).

κ° SDKλ³„ μμ„Έν• λ‚΄μ©μ€ [λΉ λ¥Έ μ‹μ‘](/quick-starts)μ„ μ°Έκ³ ν•μ„Έμ”.

</TabItem>
<TabItem value="oauth-client" label="OAuth 2.0 / OIDC client library">

OAuth 2.0 ν΄λΌμ΄μ–ΈνΈ μ„¤μ • λλ” μΈκ°€ μ½”λ“ ν”λ΅μ° μ΄κΈ°ν™” μ‹, μΈκ°€ μ”μ²­μ— `resource` νλΌλ―Έν„°μ™€ μ›ν•λ” μ¤μ½”ν”„λ¥Ό λ°λ“μ‹ ν¬ν•¨ν•μ„Έμ”.

μΌλ¶€ λΌμ΄λΈλ¬λ¦¬λ” `resource` νλΌλ―Έν„°λ¥Ό κΈ°λ³Έ μ§€μ›ν•μ§€ μ•μ„ μ μμ§€λ§, μΌλ°μ μΌλ΅ μΈκ°€ μ”μ²­μ— μ¶”κ°€ νλΌλ―Έν„°λ¥Ό μ „λ‹¬ν•  μ μμµλ‹λ‹¤. μμ„Έν• λ‚΄μ©μ€ λΌμ΄λΈλ¬λ¦¬ λ¬Έμ„λ¥Ό μ°Έκ³ ν•μ„Έμ”.

λ‹¤μμ€ `resource` λ° `scope` νλΌλ―Έν„°κ°€ ν¬ν•¨λ μΈκ°€ μ”μ²­μ λΉ„κ³µμ‹ μμ‹μ…λ‹λ‹¤:

<AuthorizationRequestExample resource={resource} scope="read:products write:products" />

μ‚¬μ©μκ°€ μΈμ¦λλ©΄ μΈκ°€ μ½”λ“λ¥Ό λ°›κ² λ©λ‹λ‹¤. μ΄ μ½”λ“λ¥Ό Logtoμ `/oidc/token` μ—”λ“ν¬μΈνΈμ— POST μ”μ²­ν•μ—¬ μ•΅μ„Έμ¤ ν† ν°μΌλ΅ κµν™ν•μ„Έμ”. μ΄λ• μ”μ²­ λ³Έλ¬Έμ— `resource` νλΌλ―Έν„°λ¥Ό ν¬ν•¨ν•΄μ•Ό ν•©λ‹λ‹¤.

λ‹¤μμ€ authorization code grant νƒ€μ…μ„ μ‚¬μ©ν•λ” ν† ν° μ”μ²­μ λΉ„κ³µμ‹ μμ‹μ…λ‹λ‹¤:

<TokenRequestExample grantType="authorization_code" resource={resource} />

μ‚¬μ©μ μƒνΈμ‘μ© μ—†μ΄ μƒλ΅μ΄ μ•΅μ„Έμ¤ ν† ν°μ„ νλ“ν•λ ¤λ©΄, `refresh_token` grant νƒ€μ…μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤. μ΄λ•λ„ `resource` νλΌλ―Έν„°λ¥Ό μ”μ²­μ— ν¬ν•¨ν•΄μ•Ό ν•©λ‹λ‹¤.

λ‹¤μμ€ refresh token grant νƒ€μ…μ„ μ‚¬μ©ν•λ” ν† ν° μ”μ²­μ λΉ„κ³µμ‹ μμ‹μ…λ‹λ‹¤:

<TokenRequestExample grantType="refresh_token" resource={resource} />

</TabItem>
</Tabs>

#### ν΄λΌμ΄μ–ΈνΈ μκ²© μ¦λ… ν”λ΅μ° \{#client-credentials-flow}

κΈ°κ³„ κ°„ (M2M) μ‹λ‚λ¦¬μ¤μ—μ„λ” ν΄λΌμ΄μ–ΈνΈ μκ²© μ¦λ… ν”λ΅μ°λ¥Ό μ‚¬μ©ν•μ—¬ κΈ€λ΅λ² API λ¦¬μ†μ¤μ© μ•΅μ„Έμ¤ ν† ν°μ„ νλ“ν•  μ μμµλ‹λ‹¤. Logtoμ `/oidc/token` μ—”λ“ν¬μΈνΈμ— POST μ”μ²­μ„ λ³΄λ‚΄λ©΄, ν΄λΌμ΄μ–ΈνΈ IDμ™€ μ‹ν¬λ¦Ώμ„ μ‚¬μ©ν•μ—¬ μ•΅μ„Έμ¤ ν† ν°μ„ μ”μ²­ν•  μ μμµλ‹λ‹¤.

μ”μ²­μ— λ°λ“μ‹ ν¬ν•¨ν•΄μ•Ό ν•  μ£Όμ” νλΌλ―Έν„°λ” λ‹¤μκ³Ό κ°™μµλ‹λ‹¤:

- `resource`: μ ‘κ·Όν•λ ¤λ” APIμ λ¦¬μ†μ¤ μ§€ν‘ URI (μ: `https://api.yourapp.com`)
- `scope`: APIμ— μ”μ²­ν•  κ¶ν• (μ: `read:products write:products`)

λ‹¤μμ€ ν΄λΌμ΄μ–ΈνΈ μκ²© μ¦λ… grant νƒ€μ…μ„ μ‚¬μ©ν•λ” ν† ν° μ”μ²­μ λΉ„κ³µμ‹ μμ‹μ…λ‹λ‹¤:

<ClientCredentialsRequestExample
  resource="https://api.yourapp.com"
  scope="read:products write:products"
/>

### APIμ—μ„ JWT μ•΅μ„Έμ¤ ν† ν° κ²€μ¦ν•κΈ° \{#validating-jwt-access-tokens-in-your-api}

Logtoκ°€ λ°κΈ‰ν• JWTμ—λ” APIκ°€ μΈκ°€λ¥Ό μ μ©ν•λ” λ° μ‚¬μ©ν•  μ μλ” ν΄λ μ„μ΄ ν¬ν•¨λμ–΄ μμµλ‹λ‹¤.

APIκ°€ Logtoμ—μ„ λ°κΈ‰ν• μ•΅μ„Έμ¤ ν† ν°μ΄ ν¬ν•¨λ μ”μ²­μ„ λ°›μΌλ©΄ λ‹¤μμ„ μν–‰ν•΄μ•Ό ν•©λ‹λ‹¤:

- ν† ν° μ„λ… κ²€μ¦ (Logtoμ JWKs μ‚¬μ©)
- ν† ν° λ§λ£ μ—¬λ¶€ ν™•μΈ (`exp` ν΄λ μ„)
- `iss` (λ°κΈ‰μ)κ°€ Logto μ—”λ“ν¬μΈνΈμ™€ μΌμΉν•λ”μ§€ ν™•μΈ
- `aud` (λ€μƒ)μ΄ λ“±λ΅ν• API λ¦¬μ†μ¤ μ‹λ³„μμ™€ μΌμΉν•λ”μ§€ ν™•μΈ (μ: `https://api.yourapp.com`)
- `scope` ν΄λ μ„(κ³µλ°± κµ¬λ¶„)μ„ λ¶„λ¦¬ν•μ—¬ ν•„μ”ν• κ¶ν•μ΄ ν¬ν•¨λμ–΄ μλ”μ§€ ν™•μΈ

λ‹¨κ³„λ³„ λ° μ–Έμ–΄λ³„ κ°€μ΄λ“λ” [μ•΅μ„Έμ¤ ν† ν° κ²€μ¦ λ°©λ²•](/authorization/validate-access-tokens)μ„ μ°Έκ³ ν•μ„Έμ”.

### μ„ νƒ μ‚¬ν•­: μ‚¬μ©μ κ¶ν• λ³€κ²½ μ²λ¦¬ν•κΈ° \{#optional-handle-user-permission-change}

:::info
π‘· μ‘μ—… μ§„ν–‰ μ¤‘μ…λ‹λ‹¤. π§
:::

## λ¨λ²” μ‚¬λ΅€ λ° λ³΄μ• ν \{#best-practices-and-security-tips}

- **κ¶ν•μ€ λΉ„μ¦λ‹μ¤ μ¤‘μ‹¬μΌλ΅ μ μ§€ν•μ„Έμ”:** μ‹¤μ  λ™μ‘μ— λ§¤ν•‘λλ” λ…ν™•ν• μ΄λ¦„μ„ μ‚¬μ©ν•μ„Έμ”.
- **ν† ν° λ§λ£ μ‹κ°„μ„ μ§§κ² μ μ§€ν•μ„Έμ”:** ν† ν°μ΄ μ μ¶λ  κ²½μ° μ„ν—μ„ μ¤„μΌ μ μμµλ‹λ‹¤.
- **λ¶€μ—¬ν•λ” μ¤μ½”ν”„λ¥Ό μ ν•ν•μ„Έμ”:** ν† ν°μ— μ‹¤μ λ΅ ν•„μ”ν• κ¶ν•λ§ λ¶€μ—¬ν•μ„Έμ”.
- **λ€μƒ μ ν• μ‚¬μ©:** μ¤μ© λ°©μ§€λ¥Ό μ„ν•΄ ν•­μƒ `aud` ν΄λ μ„μ„ κ²€μ¦ν•μ„Έμ”.

## μμ£Ό λ¬»λ” μ§λ¬Έ \{#faqs}

<details>
<summary>

### ν΄λΌμ΄μ–ΈνΈκ°€ resource νλΌλ―Έν„°λ¥Ό μ§€μ›ν•μ§€ μ•μΌλ©΄ μ–΄λ–»κ² ν•λ‚μ”? \{#what-if-my-client-doesn-t-support-the-resource-parameter}

</summary>

Logto μ½μ†”μ—μ„ κΈ°λ³Έ API λ¦¬μ†μ¤λ¥Ό μ„¤μ •ν•μ„Έμ”. ν† ν° μ”μ²­μ— resource νλΌλ―Έν„°κ°€ μ§€μ •λμ§€ μ•μΌλ©΄ μ΄ audienceκ°€ κΈ°λ³Έκ°’μΌλ΅ μ‚¬μ©λ©λ‹λ‹¤.

</details>

<details>
<summary>

### APIμ—μ„ 401 Unauthorizedκ°€ λ°μƒν•λ” μ΄μ λ” λ¬΄μ—‡μΈκ°€μ”? \{#why-do-i-get-401-unauthorized-from-my-api}

</summary>

λ‹¤μκ³Ό κ°™μ€ μΌλ°μ μΈ λ¬Έμ λ¥Ό ν™•μΈν•μ„Έμ”:

- **ν† ν° μ„λ…**: λ°±μ—”λ“κ°€ Logtoμ—μ„ μ¬λ°”λ¥Έ JWKsλ¥Ό κ°€μ Έμ¤λ”μ§€ ν™•μΈ
- **ν† ν° λ§λ£**: ν† ν°μ΄ λ§λ£λμ§€ μ•μ•λ”μ§€ ν™•μΈ (`exp` ν΄λ μ„)
- **λ€μƒ**: `aud` ν΄λ μ„μ΄ λ“±λ΅ν• API λ¦¬μ†μ¤ μ§€ν‘μ™€ μΌμΉν•λ”μ§€ ν™•μΈ
- **ν•„μ μ¤μ½”ν”„**: ν† ν°μ— ν•„μ”ν• κ¶ν•μ΄ `scope` ν΄λ μ„μ— ν¬ν•¨λμ–΄ μλ”μ§€ ν™•μΈ

</details>

<details>
<summary>

### μ „μ²΄ ν΄λΌμ΄μ–ΈνΈ μ—†μ΄ ν…μ¤νΈν•λ ¤λ©΄ μ–΄λ–»κ² ν•λ‚μ”? \{#how-do-i-test-without-a-full-client}

</summary>

[κ°μΈ μ•΅μ„Έμ¤ ν† ν°](/user-management/personal-access-token)μ„ μ‚¬μ©ν•μ—¬ μΈμ¦λ νΈμ¶μ„ μ‹λ®¬λ μ΄μ…ν•  μ μμµλ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ „μ²΄ OAuth ν”λ΅μ°λ¥Ό κµ¬ν„ν•μ§€ μ•κ³ λ„ API μ—”λ“ν¬μΈνΈλ¥Ό ν…μ¤νΈν•  μ μμµλ‹λ‹¤.

</details>

## μ¶”κ°€ μλ£ \{#further-reading}

<Url href="/authorization/validate-access-tokens">μ•΅μ„Έμ¤ ν† ν° κ²€μ¦ λ°©λ²•</Url>
<Url href="/use-cases/authorization/rbac-in-practice">
  μ‹¤μ „ RBAC: μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ„ν• μ•μ „ν• μΈκ°€ κµ¬ν„
</Url>
<Url href="/developers/custom-token-claims">ν† ν° ν΄λ μ„ μ»¤μ¤ν„°λ§μ΄μ§•</Url>
<Url href="https://www.rfc-editor.org/rfc/rfc8707.html">RFC 8707: λ¦¬μ†μ¤ μ§€ν‘</Url>
