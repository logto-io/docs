---
sidebar_position: 7
---

# 사용자 프로필 수집

사용자 로그인에 필요한 인증 (Authentication) 식별자 및 자격 증명 외에도, 애플리케이션에서 Logto에 저장된 추가 사용자 프로필 정보를 수집하여 JWT 클레임 또는 API를 통해 쉽게 조회하고, 개인화된 제품 경험을 제공할 수 있습니다. 사용자 데이터를 수집하는 방법은 다음과 같습니다:

- **신규 사용자 등록 시**: [사용자 프로필 수집](#quick-start) 기능을 사용하여, 회원가입 과정에서 추가 사용자 프로필 정보를 수집하는 "자기소개" 단계를 기본 제공으로 추가할 수 있습니다. 신규 사용자는 모든 필수 항목을 완료해야 등록이 완료됩니다. 이 문서는 이 접근 방식에 중점을 둡니다.

- **사용자 등록 후**: [Account API](/end-user-flows/account-settings/by-account-api)를 사용하여 온보딩 플로우, 계정 센터, 또는 제품 사용 여정 전반에서 셀프 서비스 경험을 구현하고 사용자 프로필 정보를 업데이트할 수 있습니다.

## 주요 이점 \{#key-benefits}

**사용자 프로필 수집** 기능을 통해 최종 사용자 등록 과정에서 추가 사용자 정보를 수집할 수 있습니다. 제품에 꼭 필요한 정보만 수집하여, 사용자 전환율에 영향을 줄 수 있는 긴 회원가입 과정을 피하는 것을 권장합니다.

이 기능을 통해 다음을 할 수 있습니다:

- **포괄적인 사용자 데이터 수집**: [OIDC 표준 사용자 속성](#basic-user-data-fields) 및 [사용자 정의 데이터](#custom-user-data-fields)를 포함하여, 비즈니스 또는 규정 준수 목적의 모든 [사용자 데이터](/user-management/user-data)를 수집할 수 있습니다.

- **유연한 필드 커스터마이즈**: 텍스트, 숫자, 날짜, 체크박스, 드롭다운 (선택), URL, 정규식 검증 등 다양한 [필드 유형](#field-types) 중에서 선택하여, 특정 데이터 요구 사항에 맞출 수 있습니다.

- **최적화된 사용자 경험**: 라벨, 설명, 플레이스홀더, 검증 규칙 등 표시를 커스터마이즈할 수 있습니다. 비즈니스 요구에 따라 필드를 필수 또는 선택으로 설정할 수 있습니다.

- **내장 필드 구성**: 일반 사용자 속성을 위한 사전 구성된 기본 데이터 필드를 플러그 앤 플레이 방식으로 사용할 수 있습니다. 복합 필드(주소, 전체 이름)를 활용하여 한 번에 구조화된 데이터를 효율적으로 수집할 수 있습니다.

## 빠른 시작 \{#quick-start}

1. <CloudLink to="/sign-in-experience/collect-user-profile">
     Logto 콘솔 > 로그인 경험 > 사용자 프로필 수집
   </CloudLink>
   로 이동하세요.
2. "프로필 필드 추가"를 클릭하고, [기본 제공 필드](#basic-user-data-fields)를 선택하거나 [사용자 정의 데이터](#custom-user-data-fields) (영숫자 키)를 정의하여 생성하세요.
3. 필드 상세 설정에서 필드 유형, 라벨, 설명, 필수 여부, 유형별 설정(길이, 범위, 형식, 옵션 등)을 지정하세요. "변경 사항 저장"을 클릭하세요.
4. 로그인 경험 > 사용자 프로필 수집 화면으로 돌아가서, 필드를 드래그 앤 드롭하여 순서를 변경하면 변경 사항이 자동으로 적용됩니다.
5. [Logto 라이브 프리뷰](/customization/live-preview) 또는 테스트 앱에서 사용자 경험을 테스트하세요. 사용자가 [식별자(이메일/휴대폰 번호/사용자명)](/end-user-flows/sign-up-and-sign-in/sign-up), [소셜 로그인](/end-user-flows/sign-up-and-sign-in/social-sign-in), 또는 [엔터프라이즈 SSO](/end-user-flows/enterprise-sso)를 통해 새 계정을 생성할 때 모두 회원가입 과정에서 "자기소개" 페이지를 보게 됩니다.

<img
  src="/img/assets/collect-user-profile-during-sign-up.png"
  alt="회원가입 중 사용자 프로필 수집"
/>

## 사용자 데이터 유형 \{#user-data-types}

사용자 데이터는 각 [사용자 프로필](/user-management/manage-users)에서 확인할 수 있습니다. 모든 사용자 데이터 카테고리에 대한 종합적인 개요는 [사용자 데이터 구조](/user-management/user-data) 문서를 참조하세요. 사용자 프로필 수집 기능을 통해 회원가입 시 기본 사용자 데이터와 사용자 정의 데이터를 모두 수집할 수 있습니다.

### 기본 사용자 데이터 필드 \{#basic-user-data-fields}

Logto에서 제공하는 기본 사용자 데이터 필드는 `user` 또는 `user.profile` 속성에 직접 저장됩니다. 이 필드들은 기본 구성 값과 i18n 번역이 함께 제공되어, 생성 즉시 바로 사용할 수 있습니다. 또한, 특정 요구 사항에 맞게 필드 유형과 파라미터를 커스터마이즈할 수 있습니다.

| 필드명 (13%) | 사용자 데이터 키 (44%)                                                                                                                                                                                                                                                                          | 설명                                                                                                                                                                                                   |
| ------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 이름         | <code>user.name</code>                                                                                                                                                                                                                                                                          | 모든 이름 구성 요소를 포함한 사용자의 전체 표시 이름 (예: "홍길동").                                                                                                                                   |
| 전체 이름    | <code>user.profile.givenName</code><br /><code>user.profile.middleName</code><br /><code>user.profile.familyName</code>                                                                                                                                                                         | 사용자의 전체 법적 이름. 구성에 따라 familyName, givenName, middleName을 유연하게 조합합니다.                                                                                                          |
| 닉네임       | <code>user.profile.nickname</code>                                                                                                                                                                                                                                                              | 사용자의 별명 또는 친숙한 이름으로, 법적 이름과 다를 수 있습니다.                                                                                                                                      |
| 생년월일     | <code>user.profile.birthdate</code>                                                                                                                                                                                                                                                             | 지정된 형식(예: "MM-dd-yyyy")의 사용자의 생년월일.                                                                                                                                                     |
| 성별         | <code>user.profile.gender</code>                                                                                                                                                                                                                                                                | 사용자가 스스로 식별하는 성별 (예: "여성", "남성", "응답하지 않음").                                                                                                                                   |
| 프로필       | <code>user.profile.profile</code>                                                                                                                                                                                                                                                               | 사용자의 사람이 읽을 수 있는 프로필 페이지의 URL (예: 소셜 미디어 프로필).                                                                                                                             |
| 웹사이트     | <code>user.profile.website</code>                                                                                                                                                                                                                                                               | 사용자의 개인 웹사이트 또는 블로그 URL.                                                                                                                                                                |
| 주소         | <code>user.profile.address.formatted</code><br /><code>user.profile.address.streetAddress</code><br /><code>user.profile.address.region</code><br /><code>user.profile.address.zoneinfo</code><br /><code>user.profile.address.postalCode</code><br /><code>user.profile.address.country</code> | 사용자의 전체 주소 (예: "서울특별시 강남구 테헤란로 123, 대한민국 12345"). 단일 행(<code>address.formatted</code>) 또는 구성 가능한 여러 행(거리, 도시, 주, 우편번호, 국가) 중에서 선택할 수 있습니다. |

### 사용자 정의 데이터 필드 \{#custom-user-data-fields}

사용자 정의 데이터 필드는 기본 필드로 다루지 않는 추가 정보(예: 선호도, 관심사, 회사 규모, 기타 비즈니스 특화 속성 등)를 수집하기 위한 사용자 지정 필드입니다.

사용자 정의 필드를 생성할 때는 사용자 데이터 키로 영숫자만 사용하세요(예: `customData.companySize`). 이후 [필드 유형](#field-types)을 설정하고, 추가 속성을 커스터마이즈하여 특정 요구 사항에 맞출 수 있습니다.

사용자 생성 후 사용자 정의 데이터를 조회 및 업데이트하는 방법은 [사용자 데이터 구조](/user-management/user-data#custom-data)를 참고하세요.

## 필드 유형 \{#field-types}

필드는 단순성에 따라 다음과 같이 분류할 수 있습니다:

- 원시형: 텍스트, 숫자, 날짜, 체크박스(불리언), 드롭다운(단일 선택), URL, 정규식.
- 복합형: 전체 이름, 주소.

### 공통 속성 \{#common-properties}

| 속성 (14%)   | 적용 대상 (36%)     | 비고                                                                                     |
| ------------ | ------------------- | ---------------------------------------------------------------------------------------- |
| 라벨         | 전체                | 사용자에게 표시되는 이름. 값이 있거나 포커스 시 상단에 떠오릅니다. 필수 입력 항목입니다. |
| 플레이스홀더 | 전체(체크박스 제외) | 라벨이 떠 있을 때 보이는 인라인 힌트(예시 텍스트/포맷 안내).                             |
| 설명         | 전체(체크박스 제외) | 필드 아래에 표시되는 추가 안내 또는 긴 설명.                                             |
| 필수 여부    | 전체(체크박스 제외) | 활성화 시 비어 있으면 제출이 차단됩니다. 비활성화 시 라벨에 `(선택)` 태그가 추가됩니다.  |

### 유형별 설정 \{#type-specific-configurations}

| 유형 (14%)     | 설정 가능 항목 (36%)          | 비고                                                                                                                                                                                                                                          |
| -------------- | ----------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 텍스트         | 최소/최대 길이                | 사용자 입력 텍스트의 최소/최대 길이 제한.                                                                                                                                                                                                     |
| 숫자           | 최소/최대 값                  | 입력 값의 최소/최대 숫자 범위 제한.                                                                                                                                                                                                           |
| 날짜           | 날짜 형식(프리셋/사용자 지정) | 프리셋 형식(MM/dd/yyyy, dd/MM/yyyy, yyyy-MM-dd) 중 선택. 플레이스홀더 변경 시 기본 상호작용이 덮어쓰기 됩니다. 또는 <a href="https://date-fns.org/v2.30.0/docs/format" target="_blank" rel="noopener noreferrer">date-fns</a> 패턴 완전 지원. |
| 체크박스       | 기본값                        | 체크(참) / 해제(거짓).                                                                                                                                                                                                                        |
| 드롭다운(선택) | 옵션 목록(1개 이상)           | 한 줄에 <code>값:라벨</code> 형식 사용. 라벨 생략 시 값이 표시됩니다.                                                                                                                                                                         |
| URL            | 해당 없음                     | 해당 없음                                                                                                                                                                                                                                     |
| 정규식         | 정규 표현식                   | 검증 패턴(앞/뒤 슬래시 생략). 예: <code>^\d{3}-\d{2}-\d{4}$</code> (주민등록번호 등).                                                                                                                                                         |
| 주소           | 구성 요소                     | 단일 또는 다중 행; 하위 구성 요소: 거리, 도시, 주, 우편번호, 국가.                                                                                                                                                                            |
| 전체 이름      | 구성 요소                     | 하위 구성 요소: 이름, 중간 이름, 성.                                                                                                                                                                                                          |

## 검증 \{#validation}

필드 검증은 회원가입 마지막 단계에서 사용자 제출 시 수행됩니다. 다음 항목이 적용됩니다:

- 필수 입력 여부(체크박스 제외).
- 길이 제한(텍스트).
- 숫자 범위(숫자).
- 패턴 일치(정규식, 날짜 형식, URL, 선택 옵션 포함 여부).
- URL 구조(기본 구문 검증, 실제 접근성은 아님).

복합 필드인 `address`와 `fullname`의 하위 구성 요소에도 동일한 검증 기준이 적용됩니다.

## 현지화 \{#localization}

Logto는 `firstName`, `lastName`, `gender`, `birthdate` 등 기본 사용자 데이터 필드에 대해 시스템 수준 번역을 제공합니다. 이 필드의 라벨은 Logto 콘솔에서 설정할 수 있습니다.
[Logto > 로그인 경험 > 콘텐츠](https://cloud.logto.io/to/sign-in-experience/content)에서 직접 번역을 제공하여 라벨을 덮어쓸 수 있습니다.

사용자 정의 필드는 제공한 라벨, 플레이스홀더, 설명에 전적으로 의존합니다. 사용자 정의 필드 현지화는 [UI 직접 구현](/customization/bring-your-ui) 또는 [문의하기](https://logto.io/contact)를 통해 피드백을 전달하여 처리할 수 있습니다.

## Management API (주요 엔드포인트) \{#management-api-key-endpoints}

| 메서드 (10%) | 엔드포인트                                                   | 목적                                     |
| ------------ | ------------------------------------------------------------ | ---------------------------------------- |
| GET          | <code>/api/custom-profile-fields</code>                      | 모든 필드 목록 조회.                     |
| GET          | <code>/api/custom-profile-fields/:name</code>                | 이름으로 단일 필드 정의 조회.            |
| POST         | <code>/api/custom-profile-fields</code>                      | 필드 생성.                               |
| POST         | <code>/api/custom-profile-fields/batch</code>                | 일괄 생성(요청당 최대 20개).             |
| PUT          | <code>/api/custom-profile-fields/:name</code>                | 이름 및 전체 데이터셋으로 필드 업데이트. |
| DELETE       | <code>/api/custom-profile-fields/:name</code>                | 필드 삭제.                               |
| POST         | <code>/api/custom-profile-fields/properties/sie-order</code> | 로그인 경험에서 필드 순서 변경.          |

## 모범 사례 \{#best-practices}

- 회원가입 시 필수 데이터만 수집하고, 추가 정보는 추후 프로필 완성 단계로 미루세요.
- 구조화된 데이터(주소, 전체 이름)는 복합 필드를 사용하여 일관성과 현지화를 확보하세요.
- 형식에 민감한 필드(정규식, 날짜, 숫자 범위)는 명확한 예시/플레이스홀더를 제공하세요.

## 자주 묻는 질문 \{#faqs}

<details>

<summary>

### 프로필 필드가 기존 사용자 데이터를 수집하나요? \{#do-the-profile-fields-collect-existing-user-data}

</summary>

아니요, 신규 사용자 등록 마지막 단계에서만 정보를 수집합니다.

</details>

<details>

<summary>

### 필드를 삭제하면 사용자 데이터도 삭제되나요? \{#what-if-i-delete-a-field-does-it-remove-the-user-data}

</summary>

아니요, 기존 사용자 데이터는 삭제되지 않습니다. 최종 사용자 경험에서 회원가입 폼에서만 해당 필드가 제거됩니다.

</details>

<details>

<summary>

### 일반 텍스트 필드 대신 국가를 선택 목록으로 수집할 수 있나요? \{#can-i-collect-country-with-a-controlled-list-instead-of-a-regular-text-field}

</summary>

네, "국가" 구성 요소를 "드롭다운(단일 선택)" 필드로 전환하여 표준화된 옵션으로 수집할 수 있습니다.

</details>
