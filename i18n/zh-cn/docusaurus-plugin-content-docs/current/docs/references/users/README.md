# ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ç”¨æˆ·

_ç”¨æˆ·_ æ˜¯èº«ä»½æœåŠ¡çš„ä¸»è¦å®ä½“ã€‚æˆ‘ä»¬å°†ä¼šåœ¨ä¸‹æ–‡æè¿°ç”¨æˆ·ç›¸å…³çš„æ¦‚å¿µå’Œç»†èŠ‚ã€‚

## ç”¨æˆ·èµ„æ–™

æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä»½ _ç”¨æˆ·èµ„æ–™_ å»ä¿å­˜ä»–çš„ä¿¡æ¯ã€‚

ä¸€ä»½ _ç”¨æˆ·èµ„æ–™_ ç”±ä»¥ä¸‹å‡ ä¸ªç±»å‹çš„æ•°æ®ç»„æˆï¼š

- [**åŸºç¡€æ•°æ®**](#basic_data) æ˜¯åœ¨é¢„å®šä¹‰çš„å±æ€§ä¸­ä¿å­˜çš„åŸºç¡€ä¿¡æ¯ï¼Œä¾‹å¦‚ç”¨æˆ· IDã€ç”¨æˆ·åã€é‚®ç®±ã€æ‰‹æœºå·ä»¥åŠç”¨æˆ·ä¸Šæ¬¡ç™»å½•çš„æ—¶é—´ã€‚
- [**è‡ªå®šä¹‰æ•°æ®**](#custom_data) æ˜¯åœ¨å¯è‡ªå®šä¹‰çš„å±æ€§ä¸­ä¿å­˜çš„é™„åŠ ä¿¡æ¯ï¼Œä¾‹å¦‚ç”¨æˆ·åå¥½çš„é¢œè‰²å’Œè¯­è¨€ã€‚
- [**èº«ä»½**](#identities) ä¿å­˜ä»ç¤¾äº¤ç™»å½•ï¼ˆå³ä½¿ç”¨ç¤¾äº¤è¿æ¥å™¨ç™»å½•ï¼‰è·å–çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä¾‹å¦‚ Facebookã€GitHub å’Œå¾®ä¿¡ã€‚

### æ‰€æœ‰å±æ€§

ä»¥ä¸‹å±æ€§ï¼ˆ_password_encrypted_ å’Œ _password_encryption_method_ é™¤å¤–ï¼‰åœ¨ç”¨æˆ·èµ„æ–™ä¸­å¯è§ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨ã€Œç®¡ç† APIã€æŸ¥è¯¢å®ƒä»¬ã€‚

| åç§°                                                      | ç±»å‹         | æè¿°                       | å”¯ä¸€çš„ | å¿…é¡»çš„ |
| --------------------------------------------------------- | ------------ | -------------------------- | ------ | ------ |
| [id](#user_id)                                            | string       | å”¯ä¸€æ ‡è¯†ç¬¦                 | âœ…     | âœ…     |
| [username](#username)                                     | string       | ç”¨äºç™»å½•çš„ç”¨æˆ·å           | âœ…     | âŒ     |
| [primary_email](#primary_email)                           | string       | ä¸»è¦é‚®ç®±                   | âœ…     | âŒ     |
| [primary_phone](#primary_phone)                           | string       | ä¸»è¦æ‰‹æœºå·                 | âœ…     | âŒ     |
| [name](#name)                                             | string       | å…¨å                       | âŒ     | âŒ     |
| [avatar](#avatar)                                         | string       | ç”¨æˆ·å¤´åƒå›¾ç‰‡çš„ URL         | âŒ     | âŒ     |
| [role_names](#role_names)                                 | string array | Role çš„åˆ—è¡¨                | âŒ     | âœ…     |
| [identities](#identities)                                 | object       | ä»ç¤¾äº¤ç™»å½•ä¸­è·å–çš„ç”¨æˆ·ä¿¡æ¯ | âŒ     | âœ…     |
| [custom_data](#custom_data)                               | object       | è‡ªå®šä¹‰çš„é™„åŠ ä¿¡æ¯           | âŒ     | âœ…     |
| [application_id](#application_id)                         | string       | ç”¨æˆ·é¦–æ¬¡æ³¨å†Œçš„åº”ç”¨ ID      | âŒ     | âœ…     |
| [last_sign_in_at](#last_signed_in_at)                     | date time    | ç”¨æˆ·ä¸Šæ¬¡ç™»å½•çš„æ—¶é—´æˆ³       | âŒ     | âœ…     |
| [password_encrypted](#password_encrypted)                 | string       | åŠ å¯†çš„å¯†ç                  | âŒ     | âŒ     |
| [password_encryption_method](#password_encryption_method) | string       | å¯†ç çš„åŠ å¯†æ–¹å¼             | âŒ     | âŒ     |

:::note

- **å”¯ä¸€çš„**: ç¡®ä¿è¾“å…¥åˆ°æ•°æ®åº“è¡¨å±æ€§çš„å€¼çš„ [å”¯ä¸€æ€§](https://www.postgresql.org/docs/current/ddl-constraints.html#DDL-CONSTRAINTS-UNIQUE-CONSTRAINTS)ã€‚
- **å¿…é¡»çš„**: ç¡®ä¿è¾“å…¥åˆ°æ•°æ®åº“è¡¨å±æ€§çš„å€¼ä¸èƒ½ä¸º `null`ã€‚

:::

---

#### ç”¨æˆ·èµ„æ–™ç¤ºä¾‹

ä¸€ä¸ªä½¿ç”¨ Facebook ç™»å½•çš„ç”¨æˆ·:

```json
{
  "id": "iHXPuSb9eMzt",
  "username": null,
  "primaryEmail": null,
  "primaryPhone": null,
  "name": "John Joe",
  "avatar": "https://example.com/avatar.png",
  "roleNames": ["admin"],
  "customData": {
    "preferences": {
      "language": "en",
      "color": "#f236c9"
    }
  },
  "identities": {
    "facebook": {
      "userId": "106077000000000",
      "details": {
        "id": "106077000000000",
        "name": "John Joe",
        "email": "johnjoe@logto.io",
        "avatar": "https://example.com/avatar.png"
      }
    }
  },
  "lastSignInAt": 1655799453171,
  "applicationId": "admin_console"
}
```

ä½ å¯ä»¥ä½¿ç”¨ã€Œ[ç®¡ç†æ§åˆ¶å°](../../../docs/recipes/manage-users/using-admin-console#æŸ¥çœ‹å’Œæ›´æ–°ç”¨æˆ·èµ„æ–™)ã€æˆ–
ã€Œ[ç®¡ç† API](../../../docs/recipes/manage-users/using-management-api)ã€æ¥æŸ¥è¯¢ç”¨æˆ·èµ„æ–™ï¼Œ
ä¾‹å¦‚ <a href="/api/#tag/Users/paths/~1api~1users~1:userId/get" target="_blank">`GET /api/users/:userId`</a>ã€‚

### basic_data

ç”¨æˆ·çš„åŸºç¡€æ•°æ®ï¼Œå³åœ¨é¢„å®šä¹‰çš„å±æ€§ä¸­ä¿å­˜çš„ç”¨æˆ·åŸºç¡€ä¿¡æ¯ã€‚

#### user_id

_user_id_ å³ç”¨æˆ· IDï¼Œæ˜¯è‡ªåŠ¨ç”Ÿæˆçš„å”¯ä¸€é”®ï¼Œç”¨äºæ ‡è¯† Logto ç”¨æˆ·ã€‚

#### username

_username_ å³ç”¨æˆ·åï¼Œç”¨äºç”¨æˆ·ååŠ å¯†ç çš„ç™»å½•æ–¹å¼ã€‚

è¯¥å€¼æ¥è‡ªäºç”¨æˆ·é¦–æ¬¡æ³¨å†Œæ—¶ä½¿ç”¨çš„ç”¨æˆ·åã€‚è¯¥å€¼å¯èƒ½æ˜¯ `null`ã€‚
è¯¥å€¼éç©ºæ—¶ï¼Œæœ€å¤š 128 ä¸ªå­—ç¬¦ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ï¼ˆ`_`ï¼‰ï¼Œä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚

#### primary_email

_primary_email_ å³ä¸»è¦é‚®ç®±ï¼Œæ˜¯ç”¨æˆ·çš„ç”µå­é‚®ä»¶åœ°å€ï¼Œç”¨äºé‚®ç®±åŠ éªŒè¯ç çš„ç™»å½•æ–¹å¼ã€‚

è¯¥å€¼é€šå¸¸æ¥è‡ªäºç”¨æˆ·é¦–æ¬¡æ³¨å†Œæ—¶ä½¿ç”¨çš„é‚®ç®±åœ°å€ã€‚è¯¥å€¼å¯èƒ½æ˜¯ `null`ã€‚æœ€å¤š 128 ä¸ªå­—ç¬¦ã€‚

#### primary_phone

_primary_phone_ å³ä¸»è¦æ‰‹æœºå·ï¼Œç”¨äºæ‰‹æœºå·åŠ çŸ­ä¿¡éªŒè¯ç çš„ç™»å½•æ–¹å¼ã€‚

å¦‚è¯¥å€¼é€šå¸¸æ¥è‡ªäºç”¨æˆ·é¦–æ¬¡æ³¨å†Œæ—¶ä½¿ç”¨çš„æ‰‹æœºå·ã€‚è¯¥å€¼å¯èƒ½æ˜¯ `null`ã€‚
è¯¥å€¼éç©ºæ—¶ï¼Œåªèƒ½åŒ…å«æ•°å­—ï¼Œä¸”ä»¥ [å›½å®¶åœ°åŒºä»£ç ](https://en.wikipedia.org/wiki/List_of_country_calling_codes) ä¸ºå‰ç¼€ï¼ˆåŠ å· `+` é™¤å¤–ï¼‰ã€‚

#### name

_name_ å³ç”¨æˆ·çš„å…¨åã€‚æœ€å¤š 128 ä¸ªå­—ç¬¦ã€‚

#### avatar

_avatar_ å³ç”¨æˆ·çš„å¤´åƒï¼Œæ˜¯æŒ‡å‘ç”¨æˆ·å¤´åƒå›¾ç‰‡çš„ URLã€‚
æœ€å¤š 2048 ä¸ªå­—ç¬¦ã€‚

å¦‚æœç”¨æˆ·ä½¿ç”¨ Facebook å’Œå¾®ä¿¡ç­‰ç¤¾äº¤è¿æ¥å™¨æ³¨å†Œï¼Œåˆ™å¯èƒ½ä¼šç›´æ¥é‡‡ç”¨ç¤¾äº¤ç”¨æˆ·ä¿¡æ¯ä¸­è·å–åˆ°çš„å¤´åƒã€‚

#### role_names

_roles_names_ å³ç”¨æˆ·çš„è§’è‰²åç§°é›†åˆï¼Œè¡¨ç¤ºåœ¨ Logto ä¸­æˆäºˆç»™è¯¥ç”¨æˆ·çš„è§’è‰²é›†åˆã€‚

ä½ ç›®å‰è¿˜ä¸èƒ½é€šè¿‡ã€Œç®¡ç†æ§åˆ¶å°ã€æ›´æ–°ç”¨æˆ·çš„ _role names_ï¼Œæ•¬è¯·å…³æ³¨ã€‚

:::info

ä¾‹å¦‚ï¼Œåªæœ‰ _roles_names_ ä¸­åŒ…å« admin çš„ç”¨æˆ·ï¼Œå³ç®¡ç†å‘˜ç”¨æˆ·ï¼Œæ‰æœ‰æƒé™ä½¿ç”¨ Logto ä¸­çš„ã€Œç®¡ç†æ§åˆ¶å°ã€å’Œã€Œç®¡ç† APIã€ã€‚

:::

ä½ ç›®å‰è¿˜ä¸èƒ½é€šè¿‡ã€Œç®¡ç†æ§åˆ¶å°ã€æ›´æ–°ç”¨æˆ·çš„ _role_names_ã€‚

#### application_id

[_application_id_](../applications/#åº”ç”¨-id) çš„å€¼æ¥è‡ªç”¨æˆ·é¦–æ¬¡ç™»å½•çš„åº”ç”¨ç¨‹åºã€‚å¯èƒ½ä¸º `null`ã€‚

#### last_signed_in_at

_last_signed_in_at_ å³ç”¨æˆ·ä¸Šæ¬¡ç™»å½•æ—¶çš„å¸¦æ—¶åŒºçš„æ—¶é—´æˆ³ã€‚

#### password_encrypted

_password_encrypted_ å³åŠ å¯†åçš„ç”¨æˆ·å¯†ç ã€‚

è¯¥å€¼é€šå¸¸æ¥è‡ªäºç”¨æˆ·é¦–æ¬¡æ³¨å†Œæ—¶ä½¿ç”¨çš„å¯†ç ã€‚å¯èƒ½ä¸º `null`ã€‚
å¦‚æœè¯¥å€¼éç©ºï¼ŒåŠ å¯†å‰çš„åŸå§‹å€¼å¿…é¡»åŒ…å«è‡³å°‘ 6 ä¸ªå­—ç¬¦ã€‚

#### password_encryption_method

_password_encryption_method_ å³ç”¨æˆ·å¯†ç çš„åŠ å¯†æ–¹å¼ã€‚
è¯¥å€¼åœ¨ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç æ³¨å†Œæ—¶åˆå§‹åŒ–ã€‚å¯èƒ½ä¸º `null`ã€‚

Logto é»˜è®¤ä½¿ç”¨ [Argon2](https://en.wikipedia.org/wiki/Argon2) çš„å®ç° [node-argon2](https://github.com/ranisalt/node-argon2) ä½œä¸ºåŠ å¯†æ–¹å¼ï¼›å¦‚æœä½ æœ‰å…´è¶£ï¼Œå¯ä»¥å‚é˜…é“¾æ¥çš„èµ„æ–™ä»¥äº†è§£ç»†èŠ‚ã€‚

_password_encrypted_ å’Œ _password_encryption_method_ çš„ç¤ºä¾‹ï¼Œæ˜æ–‡å¯†ç ä¸º `123456`ï¼š

```json
{
  "password_encryption_method": "Argon2i",
  "password_encrypted": "$argon2i$v=19$m=4096,t=10,p=1$aZzrqpSX45DOo+9uEW6XVw$O4MdirF0mtuWWWz68eyNAt2u1FzzV3m3g00oIxmEr0U"
}
```

### custom_data

_custom data_ å³è‡ªå®šä¹‰æ•°æ®ï¼Œå¯ä»¥åœ¨è¿™ä¸ªå¯è‡ªå®šä¹‰çš„å±æ€§ä¸­ä¿å­˜é¢å¤–çš„ç”¨æˆ·ä¿¡æ¯ã€‚
ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ _custom data_ æ¥åšä»¥ä¸‹è¿™äº›äº‹æƒ…ï¼š

- è®°å½•ç”¨æˆ·æ˜¯å¦æ‰§è¡Œè¿‡ç‰¹å®šçš„æ“ä½œï¼Œä¾‹å¦‚ç”¨æˆ·æ˜¯å¦å·²ç»çœ‹è¿‡æ¬¢è¿é¡µé¢ã€‚
- åœ¨ç”¨æˆ·èµ„æ–™ä¸­ä¿å­˜å…³äºç‰¹å®šåº”ç”¨çš„æ•°æ®ï¼Œä¾‹å¦‚ç”¨æˆ·åœ¨æŸä¸ªåº”ç”¨ä¸‹çš„é¦–é€‰è¯­è¨€å’Œå¤–è§‚ã€‚

æ¥è‡ª Logto ç®¡ç†å‘˜ç”¨æˆ·çš„ _custom data_ ç¤ºä¾‹ï¼š

```json
{
  "adminConsolePreferences": {
    "language": "en",
    "appearanceMode": "system",
    "experienceNoticeConfirmed": true
  }
}
```

æ¯ä¸ªç”¨æˆ·çš„ _custom data_ éƒ½ä¿å­˜åœ¨ä¸€ä¸ªå•ç‹¬çš„ JSON å¯¹è±¡ä¸­ã€‚

:::caution ä¸è¦å°†æ•æ„Ÿæ•°æ®æ”¾åˆ° _custom data_ ä¸­

ä½ å¯ä»¥é€šè¿‡ã€Œç®¡ç† APIã€è·å–åŒ…å« _custom data_ åœ¨å†…çš„å®Œæ•´ç”¨æˆ·èµ„æ–™ï¼Œå¹¶å°†å…¶å‘é€åˆ°å‰ç«¯åº”ç”¨ç¨‹åºæˆ–å¤–éƒ¨åç«¯æœåŠ¡ã€‚
å› æ­¤ï¼Œå°†æ•æ„Ÿæ•°æ®æ”¾åœ¨ _custom data_ ä¸­å¯èƒ½ä¼šå¯¼è‡´æ•æ„Ÿæ•°æ®æ³„éœ²ã€‚

å¦‚æœä½ è¿˜æ˜¯æƒ³å°†æ•æ„Ÿæ•°æ®æ”¾åˆ° _custom data_ ä¸­ï¼Œæˆ‘ä»¬å»ºè®®å…ˆå¯¹å…¶è¿›è¡ŒåŠ å¯†ã€‚
ä»…åœ¨ä½ çš„åç«¯æœåŠ¡ç­‰å—ä¿¡ä»»æ–¹ä¸­å¯¹å…¶è¿›è¡ŒåŠ å¯†/è§£å¯†æ“ä½œï¼Œå¹¶é¿å…åœ¨å‰ç«¯åº”ç”¨ç¨‹åºä¸­è¿›è¡Œè¿™äº›æ“ä½œã€‚
é‚£ä¹ˆå°±ç®—ä½ å› ç–å¿½æ³„æ¼äº†ç”¨æˆ·çš„ _custom data_ï¼Œä»¥ä¸Šæªæ–½ä¹Ÿå°†æœ€å¤§é™åº¦åœ°é™ä½ä½ çš„æŸå¤±ã€‚

:::

You can update the user's _custom data_ using
[Admin Console](../../../docs/recipes/manage-users/using-admin-console#view-and-update-user-profile) or
[Management API](../../../docs/recipes/manage-users/using-management-api),
such as <a href="/api/#tag/Users/paths/~1api~1users~1:userId/patch" target="_blank">`PATCH /api/users/:userId`</a>.

:::caution å°å¿ƒè°¨æ…åœ°æ›´æ–°

æ›´æ–°ç”¨æˆ·çš„ _custom data_ å°†è¦†ç›–ï¼ˆè€Œä¸æ˜¯åˆå¹¶ï¼‰å…¶åœ¨å­˜å‚¨ä¸­çš„åŸå§‹å†…å®¹ã€‚

:::

### identities
