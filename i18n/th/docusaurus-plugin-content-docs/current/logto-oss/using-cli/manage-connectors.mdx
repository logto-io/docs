---
description: จัดการตัวเชื่อมต่อ (Connectors) ด้วย Logto CLI
sidebar_position: 2
---

import Admonition from '@theme/Admonition';
import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

# จัดการตัวเชื่อมต่อ (Connectors)

:::note

สำหรับแต่ละคำสั่ง คุณสามารถเพิ่ม `--path /your/path/to/logto` (หรือ `-p`) เพื่อระบุเส้นทางของอินสแตนซ์ Logto ได้

:::

หากไดเรกทอรีที่ทำงานอยู่เป็น root ของโปรเจกต์ Logto คุณสามารถข้ามการใช้ตัวเลือก `--path` ได้ เพราะ CLI จะตรวจจับโดยอัตโนมัติ

## แสดงรายการตัวเชื่อมต่อที่มีอยู่ \{#list-existing-connectors}

ใช้คำสั่งด้านล่างเพื่อแสดงรายการตัวเชื่อมต่อที่ถูกเพิ่มไว้ในอินสแตนซ์ Logto ของคุณ:

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto connector list
```

  </TabItem>
  <TabItem value="local" label="Local">

```bash
npm run cli connector list
```

  </TabItem>
  
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli connector list
```

  </TabItem>

</Tabs>

ตัวอย่างผลลัพธ์:

```bash
OFFICIAL
  @logto/connector-alipay-native
  @logto/connector-aliyun-dm
  @logto/connector-aliyun-sms
  @logto/connector-apple
  @logto/connector-azuread

3RD-PARTY
  connector-some-third-party
```

## เพิ่มตัวเชื่อมต่อ \{#add-connectors}

### ตัวเชื่อมต่ออย่างเป็นทางการ \{#official-connectors}

ตัวเชื่อมต่ออย่างเป็นทางการทั้งหมดจะแสดงใน [@logto/connectors](https://github.com/logto-io/logto/tree/master/packages/connectors) ยกเว้นชื่อที่ขึ้นต้นด้วย `connector-mock-` สำหรับการทดสอบ

<Admonition type="tip" title="ขอเชิญร่วมพัฒนา!">

ตัวเชื่อมต่อทุกตัวถือเป็น [Tier 1 Bounty Hunter issue](https://github.com/logto-io/logto/issues/1861) โดยอัตโนมัติ คุณสามารถแสดงความคิดเห็นหรือสร้าง issue ที่เกี่ยวข้องใน GitHub เพื่อแจ้งความประสงค์หากสนใจ

</Admonition>

หากคุณใช้ Logto เวอร์ชันทางการ (Docker image, Docker Compose, ดาวน์โหลดจากหน้า GitHub release หรือ init ผ่าน CLI) ไม่จำเป็นต้องเพิ่มตัวเชื่อมต่ออย่างเป็นทางการด้วยตนเอง

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto connector add --official
```

  </TabItem>
  <TabItem value="local" label="Local">

```bash
npm run cli connector add --official
```

  </TabItem>
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli connector add --official
```

  </TabItem>

</Tabs>

### ตัวเชื่อมต่อจากบุคคลที่สาม \{#third-party-connectors}

ตัวเชื่อมต่อจากบุคคลที่สามคือตัวเชื่อมต่อที่สร้างขึ้นสำหรับ Logto แต่ **ไม่ได้อยู่ใน** [@logto/connectors](https://github.com/logto-io/logto/tree/master/packages/connectors)

ตัวเชื่อมต่อที่ต้องการเพิ่มต้องเป็นแพ็กเกจ NPM ที่ถูกต้อง และชื่อแพ็กเกจต้องขึ้นต้นด้วย `connector-` หรือ `@some-org/connector-` เช่น:

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto connector add service-a connector-service-b @org/service-c
# เท่ากับ
logto connector add connector-service-a connector-service-b @org/connector-service-c
```

  </TabItem>
  <TabItem value="local" label="Local">

```bash
npm run cli connector add service-a connector-service-b @org/service-c
# เท่ากับ
npm run cli connector add connector-service-a connector-service-b @org/connector-service-c
```

  </TabItem>
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli connector add service-a connector-service-b @org/service-c
# เท่ากับ
npx @logto/cli connector add connector-service-a connector-service-b @org/connector-service-c
```

  </TabItem>

</Tabs>

:::caution
ตัวเชื่อมต่อคือโค้ดที่สามารถรันได้! ควรตรวจสอบและรีวิวโค้ดที่ถูกคอมไพล์ (เนื้อหาที่ดาวน์โหลดจาก NPM) อย่างละเอียดมาก ๆ เพื่อหลีกเลี่ยงปัญหาด้านความปลอดภัยหากคุณจะใช้ตัวเชื่อมต่อจากบุคคลที่สาม
:::

:::note
อย่าลืมรีสตาร์ทอินสแตนซ์ Logto ของคุณเพื่อให้การเปลี่ยนแปลงมีผล
:::

### ลิงก์ตัวเชื่อมต่อภายในเครื่อง \{#link-local-connectors}

Logto มาพร้อมกับชุดตัวเชื่อมต่อที่สร้างไว้ล่วงหน้าใน `<logto-root>/packages/connectors` ของไดเรกทอรีอินสแตนซ์ Logto ของคุณ โดยจะถูกลิงก์กับ core service โดยอัตโนมัติ ซึ่งคุณสามารถลิงก์ใหม่ด้วยตนเองเพื่ออัปเดต (เช่น เพิ่มตัวเชื่อมต่อภายในเครื่องใหม่)

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto connector link
```

  </TabItem>
  <TabItem value="local" label="Local">

```bash
npm run cli connector link
```

  </TabItem>
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli connector link
```

  </TabItem>

</Tabs>

คำสั่งนี้จะสร้าง symbolic link ของตัวเชื่อมต่อทุกตัวใน `<logto-root>/packages/connectors` ไปยัง `<logto-root>/packages/core/connectors` หากมีตัวเชื่อมต่อชื่อเดียวกันอยู่ใน `packages/core/connectors` จะถูกลบออกก่อน

## ลบตัวเชื่อมต่อ \{#remove-connectors}

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto connector remove connector-service-a @org/connector-service-b
```

  </TabItem>
  <TabItem value="local" label="Local">

```bash
npm run cli connector remove connector-service-a @org/connector-service-b
```

  </TabItem>
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli connector remove connector-service-a @org/connector-service-b
```

  </TabItem>

</Tabs>

:::note
อย่าลืมรีสตาร์ทอินสแตนซ์ Logto ของคุณเพื่อให้การเปลี่ยนแปลงมีผล
:::
