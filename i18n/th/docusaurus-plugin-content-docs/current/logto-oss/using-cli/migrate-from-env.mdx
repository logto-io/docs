---
sidebar_position: 6
---

import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

# ย้ายการตั้งค่าจาก env

:::note
คุณสามารถข้ามหน้านี้ได้หาก Logto ของคุณมีเวอร์ชันมากกว่าหรือเท่ากับ `v1.0.0-beta.11`
:::

การจัดการตัวแปรสภาพแวดล้อมจำนวนมากไม่สะดวกและไม่ยืดหยุ่น และยากที่จะรักษาแหล่งข้อมูลที่เป็นจริงเพียงหนึ่งเดียวเมื่อคุณมีหลายคอนเทนเนอร์ที่กำลังทำงานอยู่

ดังนั้นเราจึงตัดสินใจย้ายการตั้งค่าทางเทคนิคทั้งหมดที่เป็นไปได้ไปยังฐานข้อมูล รวมถึงคีย์ที่เกี่ยวข้องกับ OIDC ด้วย

เพื่อให้กระบวนการนี้ราบรื่น โปรดตรวจสอบให้แน่ใจว่าคุณมีไฟล์ `.env` ต้นฉบับ หรือรันคำสั่งในสภาพแวดล้อมที่มีตัวแปรดังต่อไปนี้:

```bash
OIDC_PRIVATE_KEYS=some_secret_key # หรือ OIDC_PRIVATE_KEY_PATHS
OIDC_COOKIE_KEYS=key1,key2
DB_URL=postgresql://localhost:5432/logto
```

จากนั้นให้รันคำสั่งด้านล่างนี้:

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto db seed oidc
# หรือ
logto db seed oidc --env /your/path/to/.env
```

  </TabItem>
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli db seed oidc
# หรือ
npx @logto/cli db seed oidc --env /your/path/to/.env
```

  </TabItem>

</Tabs>

หากทุกอย่างเป็นไปด้วยดี คุณจะเห็นข้อความประมาณนี้:

```bash
[info] อ่าน config oidc.privateKeys จาก env
[info] อ่าน config oidc.cookieKeys จาก env
[info] สร้าง config oidc.refreshTokenReuseInterval
[info] ✔ Seed OIDC config
```

จากนี้ไป คุณสามารถลบ `OIDC_PRIVATE_KEYS` และ `OIDC_COOKIE_KEYS` ออกจากตัวแปรสภาพแวดล้อมได้อย่างปลอดภัย อย่าลืมรีสตาร์ทอินสแตนซ์ Logto ของคุณเพื่อให้การเปลี่ยนแปลงมีผล
