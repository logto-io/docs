import Api from '@site/src/assets/api.svg';
import OrgTemplate from '@site/src/assets/authorization.svg';
import Jwt from '@site/src/assets/gear-plus.svg';
import Guides from '@site/src/assets/guides.svg';
import Role from '@site/src/assets/role.svg';
import Security from '@site/src/assets/security.svg';
import Users from '@site/src/assets/users.svg';

# การอนุญาต (Authorization)

[การอนุญาต (Authorization)](https://auth.wiki/authorization) ใน Logto กำหนดว่า **ผู้ใช้และแอปสามารถทำอะไรได้บ้างหลังการยืนยันตัวตน**: API, ทรัพยากร หรือการกระทำใดที่อนุญาตสำหรับแต่ละอัตลักษณ์

Logto มอบการอนุญาตแบบยืดหยุ่นโดยใช้โทเค็น สำหรับแอป SaaS และ AI สมัยใหม่ คุณสามารถปกป้องทรัพยากร API ได้ทั้งในระดับโกลบอล หรือในบริบทของแต่ละองค์กร การจัดการสิทธิ์ทั้งหมดทำผ่าน [การควบคุมการเข้าถึงตามบทบาท (RBAC)](/authorization/role-based-access-control) พร้อมรองรับแอปหลายผู้เช่า (multi-tenant) ขั้นสูงด้วย [เทมเพลตองค์กร](/authorization/organization-template)

## แนวคิดหลัก \{#core-concepts}

- **การควบคุมการเข้าถึงตามบทบาท (RBAC):** Logto ใช้ RBAC เป็นรากฐานในการกำหนดสิทธิ์ให้กับผู้ใช้ ไคลเอนต์ และบริการ [เรียนรู้เพิ่มเติมเกี่ยวกับ RBAC](/authorization/role-based-access-control)
- **ทรัพยากร API:** บริการ backend หรือ endpoint ใด ๆ ที่คุณต้องการปกป้อง (ทั้งแบบโกลบอลหรือเฉพาะองค์กร)
- **บทบาท (Role):** กลุ่มของสิทธิ์ (เช่น ผู้ดูแลระบบ, ผู้ชม, ผู้แก้ไข)
- **สิทธิ์ (Permission; ขอบเขต):** การกระทำที่อนุญาตเฉพาะเจาะจง (เช่น `read:report`, `invite:member`)
- **องค์กร (Organization):** แทนผู้เช่า, พื้นที่ทำงาน หรือ ลูกค้าในแอปของคุณ **แตกต่างจาก Logto tenant ซึ่งหมายถึงโปรเจกต์หรืออินสแตนซ์ Logto โดยรวมของคุณ**
- **เทมเพลตองค์กร (Organization template):** สำหรับแอปหลายผู้เช่า กำหนดชุดบทบาทและสิทธิ์ที่นำกลับมาใช้ซ้ำได้ในทุกองค์กร [ดูวิธีการทำงานของเทมเพลตองค์กร](/authorization/organization-template)
- **โทเค็นการเข้าถึง / โทเค็นองค์กร (Access token / organization token):** โทเค็นที่มีการอ้างสิทธิ์ (claims) สำหรับสิทธิ์ระดับโกลบอลหรือในขอบเขตองค์กร

## รูปแบบการอนุญาต \{#authorization-scenarios}

ใน Logto มีรูปแบบการอนุญาตหลัก 3 แบบ เลือกตามความต้องการของคุณ:

| รูปแบบ                             | ใช้เมื่อไร                                                               | ประเภทโทเค็น     | การตั้งค่าบทบาท                             | เรียนรู้เพิ่มเติม                                                                 |
| ---------------------------------- | ------------------------------------------------------------------------ | ---------------- | ------------------------------------------- | --------------------------------------------------------------------------------- |
| **สิทธิ์ทรัพยากร API ระดับโกลบอล** | ปกป้องทรัพยากร API ที่ใช้ร่วมกันใน Logto tenant ทั้งหมด (ไม่เฉพาะองค์กร) | โทเค็นการเข้าถึง | กำหนดบทบาท/สิทธิ์ระดับโกลบอล                | [ปกป้องทรัพยากร API ระดับโกลบอล](/authorization/global-api-resources)             |
| **สิทธิ์องค์กร (ไม่ใช่ API)**      | ควบคุมการกระทำเฉพาะองค์กร, ฟีเจอร์ UI หรือ business logic (ไม่ใช่ API)   | โทเค็นองค์กร     | กำหนดบทบาท/สิทธิ์องค์กรสำหรับการควบคุมแอป   | [ปกป้องสิทธิ์องค์กร (ไม่ใช่ API)](/authorization/organization-permissions)        |
| **สิทธิ์ทรัพยากร API ระดับองค์กร** | ปกป้องทรัพยากร API ที่เข้าถึงได้ในแต่ละองค์กร                            | โทเค็นองค์กร     | กำหนดบทบาท/สิทธิ์องค์กรสำหรับ API ขององค์กร | [ปกป้องทรัพยากร API ระดับองค์กร](/authorization/organization-level-api-resources) |

Logto สร้างโมเดลทรัพยากร API ตาม [RFC 8707](https://auth.wiki/resource-indicator) โดยใช้พารามิเตอร์ `resource` ใน OAuth 2.0 authorization flow ช่วยให้ปกป้องหลาย API หรือ microservices ได้ง่าย และรองรับมาตรฐานอื่น ๆ

:::tip
ต้องการการอ้างสิทธิ์แบบกำหนดเองหรือการควบคุมการเข้าถึงขั้นสูง? ดู [Custom token claims](/developers/custom-token-claims)
:::

## การทำงานของการอนุญาตใน Logto \{#how-logto-authorization-works}

- **ใช้โทเค็นเป็นหลัก:** ทุกการเข้าถึงได้รับอนุญาตผ่านโทเค็นการเข้าถึงที่ปลอดภัยและลงลายเซ็นต์ Backend ของคุณจะตรวจสอบโทเค็นและบังคับใช้สิทธิ์ (ขอบเขต)
- **สิทธิ์ (ขอบเขต) ระดับโกลบอล vs. องค์กร:**

  - _สิทธิ์ (ขอบเขต) ระดับโกลบอล:_ ควบคุมการเข้าถึงทรัพยากร API ทั่วทั้ง Logto tenant ของคุณ
  - _สิทธิ์ (ขอบเขต) ระดับองค์กร:_ ควบคุมทั้ง business logic (ฟีเจอร์แอป) และทรัพยากร API ในบริบทขององค์กร สิทธิ์องค์กรสามารถใช้กับฟีเจอร์ที่ไม่ใช่ API (เช่น UI หรือ workflow) และ/หรือ endpoint API ที่อยู่ในขอบเขตองค์กร

- **บทบาทและสิทธิ์ (ขอบเขต):** บทบาทคือกลุ่มของสิทธิ์ (ขอบเขต) กำหนดบทบาทให้ผู้ใช้หรือไคลเอนต์ในระดับโกลบอลหรือในองค์กร ขึ้นอยู่กับรูปแบบการใช้งานของคุณ

## ขั้นตอนถัดไป \{#next-steps}

พร้อมไปต่อหรือยัง? เริ่มลงมือจริง สำรวจคู่มือสถานการณ์จริง หรือเจาะลึกความเข้าใจ:

<DocCardList
  items={[
    {
      type: 'link',
      label: 'การควบคุมการเข้าถึงตามบทบาท',
      href: '/authorization/role-based-access-control',
      description: 'เชี่ยวชาญการจัดการบทบาทและสิทธิ์เพื่อควบคุมการเข้าถึงอย่างละเอียด',
      customProps: {
        icon: <Role />,
      },
    },
    {
      type: 'link',
      label: 'เทมเพลตองค์กร',
      href: '/authorization/organization-template',
      description: 'เรียนรู้วิธีตั้งค่าบทบาทและสิทธิ์ที่นำกลับมาใช้ซ้ำสำหรับแอปหลายผู้เช่า',
      customProps: {
        icon: <OrgTemplate />,
      },
    },
    {
      type: 'link',
      label: 'ปกป้องทรัพยากร API ระดับโกลบอล',
      href: '/authorization/global-api-resources',
      description:
        'รักษาความปลอดภัย API ที่ใช้ร่วมกันใน Logto tenant ด้วยบทบาทและสิทธิ์ระดับโกลบอล',
      customProps: {
        icon: <Api />,
      },
    },
    {
      type: 'link',
      label: 'ปกป้องสิทธิ์องค์กร (ไม่ใช่ API)',
      href: '/authorization/organization-permissions',
      description: 'ควบคุมการกระทำและฟีเจอร์ UI เฉพาะองค์กรด้วยบทบาทองค์กร',
      customProps: {
        icon: <Users />,
      },
    },
    {
      type: 'link',
      label: 'ปกป้องทรัพยากร API ระดับองค์กร',
      href: '/authorization/organization-level-api-resources',
      description: 'รักษาความปลอดภัย API ที่เข้าถึงได้ในแต่ละองค์กรด้วยบทบาทองค์กร',
      customProps: {
        icon: <Api />,
      },
    },
    {
      type: 'link',
      label: 'วิธีตรวจสอบโทเค็นการเข้าถึง',
      href: '/authorization/validate-access-tokens',
      description: 'เรียนรู้วิธีตรวจสอบโทเค็น Logto ใน backend ของคุณเพื่อรักษาความปลอดภัย API',
      customProps: {
        icon: <Security />,
      },
    },
    {
      type: 'link',
      label: 'ปรับแต่งการอ้างสิทธิ์ในโทเค็น',
      href: '/developers/custom-token-claims',
      description:
        'เรียนรู้วิธีเพิ่มการอ้างสิทธิ์แบบกำหนดเองสำหรับสถานการณ์ควบคุมการเข้าถึงขั้นสูง',
      customProps: {
        icon: <Jwt />,
      },
    },
  ]}
/>

## กรณีการใช้งาน \{#use-cases}

มองหาตัวอย่างจริงและสถานการณ์ในโลกจริง? ดูคู่มือต่อไปนี้:

<DocCardList
  items={[
    {
      type: 'link',
      label: 'RBAC ในทางปฏิบัติ: สร้างการอนุญาตที่ปลอดภัยสำหรับแอปของคุณ',
      href: '/use-cases/authorization/rbac-in-practice',
      description: 'ดูตัวอย่างจริงทีละขั้นตอนของการอนุญาตที่ปลอดภัยด้วย RBAC',
      customProps: {
        icon: <Guides />,
      },
    },
    {
      type: 'link',
      label: 'สร้างแอป SaaS หลายผู้เช่า: คู่มือครบถ้วนตั้งแต่การออกแบบถึงการใช้งาน',
      href: '/use-cases/multi-tenancy/build-multi-tenant-saas-application',
      description: 'ติดตามคู่มือสถาปัตยกรรมและการใช้งานแอป SaaS หลายผู้เช่าแบบครบวงจร',
      customProps: {
        icon: <OrgTemplate />,
      },
    },
  ]}
/>

## อ่านเพิ่มเติม \{#further-reading}

<Url href="https://blog.logto.io/rbac-and-abac">
  RBAC และ ABAC: โมเดลการควบคุมการเข้าถึงที่คุณควรรู้
</Url>
<Url href="https://blog.logto.io/when-should-i-use-jwts">ควรใช้ JWTs เมื่อไร?</Url>
<Url href="https://blog.logto.io/api-authorization-methods">วิธีการอนุญาต API</Url>
