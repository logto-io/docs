---
slug: /integrations/http-sms
sidebar_label: HTTP SMS
sidebar_custom_props:
  description: ส่ง SMS ผ่านการเรียก HTTP
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# ตั้งค่าการยืนยัน SMS ด้วย HTTP SMS

ตัวเชื่อมต่อ Logto อย่างเป็นทางการสำหรับ HTTP SMS

<GuideTip />

## เริ่มต้นใช้งาน \{#get-started}

ตัวเชื่อมต่อ HTTP SMS ช่วยให้คุณสามารถส่งข้อความ SMS ผ่านการเรียก HTTP ได้ ในการใช้งานตัวเชื่อมต่อนี้ คุณต้องมีบริการ SMS ของคุณเองที่เปิดเผย HTTP API สำหรับการส่งข้อความ SMS Logto จะเรียก API นี้เมื่อจำเป็นต้องส่ง SMS ตัวอย่างเช่น เมื่อผู้ใช้ลงทะเบียน Logto จะเรียก HTTP API เพื่อส่ง SMS ยืนยัน

## ตั้งค่าตัวเชื่อมต่อ HTTP SMS \{#set-up-http-sms-connector}

ในการใช้งานตัวเชื่อมต่อ HTTP SMS คุณต้องตั้งค่า HTTP endpoint ที่ Logto สามารถเรียกได้ และสามารถตั้งค่าโทเค็นการอนุญาตสำหรับ endpoint ได้ตามต้องการ

:::tip

โปรดทราบว่าเพื่อป้องกันข้อผิดพลาดใน flow การยืนยันตัวตน (authentication) `endpoint` ที่ตั้งค่าต้องส่งกลับ response 2xx หลังจากได้รับ webhook เพื่อแจ้งให้ Logto ทราบว่าได้รับการแจ้งเตือนให้ส่ง SMS แล้ว

ในขณะเดียวกัน ในกรณีนี้ คุณต้องตรวจสอบบริการ SMS เพื่อให้แน่ใจว่าการส่ง SMS สำเร็จ หรือคุณสามารถเพิ่มการมอนิเตอร์ให้กับ API ส่ง SMS ของคุณเพื่อให้ตรวจพบความล้มเหลวในการส่ง SMS ได้อย่างรวดเร็ว

:::

## Payload \{#payload}

ตัวเชื่อมต่อ HTTP SMS จะส่ง payload ดังต่อไปนี้ไปยัง endpoint เมื่อจำเป็นต้องส่ง SMS:

```json
{
  "to": "+1234567890",
  "type": "SignIn",
  "payload": {
    "code": "123456"
  }
}
```

คุณสามารถดูประเภททั้งหมดได้ที่ [SMS templates](/connectors/sms-connectors/sms-templates) และดู type definition แบบเต็มของ `SendMessageData` ได้ที่ [connector-kit](https://github.com/logto-io/logto/tree/master/packages/toolkit/connector-kit/src/types/passwordless.ts)
