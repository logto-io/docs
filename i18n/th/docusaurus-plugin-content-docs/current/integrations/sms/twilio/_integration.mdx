## ลงทะเบียนบัญชี Twilio \{#register-twilio-account}

สร้างบัญชีใหม่บน [Twilio](https://www.twilio.com) (ข้ามไปขั้นตอนถัดไปหากคุณมีบัญชีอยู่แล้ว)

## ตั้งค่าเบอร์โทรศัพท์ผู้ส่ง \{#set-up-senders-phone-numbers}

ไปที่ [หน้า Twilio console](https://console.twilio.com/) และลงชื่อเข้าใช้ด้วยบัญชี Twilio ของคุณ

ซื้อหมายเลขโทรศัพท์ที่ "Phone Numbers" -> "Manage" -> "Buy a number"

:::tip
บางครั้งคุณอาจพบว่าบริการ SMS ไม่รองรับในบางประเทศหรือพื้นที่ ให้เลือกหมายเลขจากภูมิภาคอื่นเพื่อข้ามข้อจำกัดนี้
:::

เมื่อคุณได้หมายเลขที่ใช้งานได้แล้ว ให้ไปที่ "Messaging" -> "Services" สร้าง Message Service ใหม่โดยคลิกปุ่ม

ตั้งชื่อบริการให้ง่ายต่อการจดจำ และเลือก _Notify my users_ เป็นวัตถุประสงค์ของบริการ
ในขั้นตอนถัดไป เลือก `Phone Number` เป็น _Sender Type_ และเพิ่มหมายเลขโทรศัพท์ที่เพิ่งซื้อมาเป็นผู้ส่งในบริการนี้

:::note
แต่ละหมายเลขโทรศัพท์สามารถเชื่อมโยงกับบริการส่งข้อความได้เพียงหนึ่งบริการเท่านั้น
:::

## รับข้อมูลบัญชี \{#get-account-credentials}

เราจะต้องใช้ข้อมูล API credentials เพื่อให้ตัวเชื่อมต่อทำงาน ไปที่ [หน้า Twilio console](https://console.twilio.com/)

คลิกที่เมนู "Account" มุมขวาบน จากนั้นไปที่หน้า "API keys & tokens" เพื่อรับ `Account SID` และ `Auth token` ของคุณ

กลับไปที่หน้า "Messaging" -> "Services" จากแถบด้านข้าง แล้วค้นหา `Sid` ของบริการของคุณ

## สร้าง JSON ตัวเชื่อมต่อ \{#compose-the-connector-json}

กรอกข้อมูลในช่อง _accountSID_, _authToken_ และ _fromMessagingServiceSID_ ด้วย `Account SID`, `Auth token` และ `Sid` ของบริการส่งข้อความที่เกี่ยวข้อง

คุณสามารถเพิ่มเทมเพลตตัวเชื่อมต่อ SMS ได้หลายแบบสำหรับแต่ละกรณี ตัวอย่างเช่นการเพิ่มเทมเพลตเดียว:

- กรอกช่อง `content` ด้วยข้อความใด ๆ ที่เป็น string และอย่าลืมเว้นที่ว่าง `{{code}}` สำหรับรหัสยืนยันแบบสุ่ม
- กรอกช่อง `usageType` ด้วยค่า `Register`, `SignIn`, `ForgotPassword`, `Generic` ตามกรณีการใช้งาน เพื่อให้ครอบคลุมทุก flow ของผู้ใช้ จำเป็นต้องมีเทมเพลตที่มี usageType เป็น `Register`, `SignIn`, `ForgotPassword` และ `Generic`

### ทดสอบตัวเชื่อมต่อ Twilio SMS \{#test-twilio-sms-connector}

คุณสามารถกรอกหมายเลขโทรศัพท์แล้วคลิก "Send" เพื่อตรวจสอบว่าการตั้งค่าสามารถใช้งานได้ก่อนกด "Save and Done"

เรียบร้อยแล้ว อย่าลืม <MainSiteUrl href="/connectors/sms-connectors/#enable-phone-number-sign-up-or-sign-in">เปิดใช้งานตัวเชื่อมต่อในประสบการณ์การลงชื่อเข้าใช้</MainSiteUrl>

### ประเภทของการตั้งค่า \{#config-types}

| ชื่อ                    | ประเภท      |
| ----------------------- | ----------- |
| accountSID              | string      |
| authToken               | string      |
| fromMessagingServiceSID | string      |
| templates               | Templates[] |

| คุณสมบัติของเทมเพลต | ประเภท      | ค่าที่เป็นไปได้                                      |
| ------------------- | ----------- | ---------------------------------------------------- |
| content             | string      | N/A                                                  |
| usageType           | enum string | 'Register' / 'SignIn' / 'ForgotPassword' / 'Generic' |
