---
slug: /integrations/smtp
sidebar_label: SMTP
sidebar_custom_props:
  description: SMTP เป็นโปรโตคอลมาตรฐานอินเทอร์เน็ตสำหรับการส่งอีเมล
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# ตั้งค่าการยืนยันอีเมลด้วย SMTP

ตัวเชื่อมต่อ Logto อย่างเป็นทางการสำหรับ SMTP

<GuideTip />

## เริ่มต้นใช้งาน \{#get-started}

SMTP (Simple Mail Transfer Protocol) เป็นโปรโตคอลมาตรฐานอินเทอร์เน็ตสำหรับการส่งอีเมล เซิร์ฟเวอร์อีเมลและตัวแทนถ่ายโอนข้อความอื่น ๆ ใช้ SMTP เพื่อส่งและรับข้อความ

## ตั้งค่าตัวเชื่อมต่อ SMTP \{#set-up-smtp-connector}

SMTP เป็นโปรโตคอลสำหรับการส่งข้อมูลที่ไม่ได้จำกัดเฉพาะผู้ให้บริการอีเมลรายใดรายหนึ่ง แต่สามารถใช้งานร่วมกับผู้ให้บริการทุกรายได้

ขณะนี้เรามีคู่มือการใช้งานตัวเชื่อมต่อ SMTP เพื่อส่งอีเมลกับผู้ให้บริการต่อไปนี้ เพื่อให้คุณเข้าใจได้ง่ายขึ้น:

- _Gmail_ เป็นผู้ให้บริการอีเมลที่ได้รับความนิยมมากที่สุดในโลก
- _Aliyun direct mail_ และ _SendGrid mail_ บางท่านอาจคุ้นเคยกับผู้ให้บริการอีเมลสองรายนี้ เพราะทีม Logto ได้จัดเตรียมตัวเชื่อมต่อที่เกี่ยวข้องไว้แล้ว คุณจึงน่าจะมีภาพรวมเกี่ยวกับพวกเขา

เราหวังว่าคุณจะสามารถตั้งค่ากับผู้ให้บริการอีเมลรายอื่น ๆ ได้จากตัวอย่างต่อไปนี้ :rocket:

### ตั้งค่าสำหรับการใช้งาน Gmail \{#set-up-for-gmail-use}

คุณสามารถสมัครบัญชี Gmail ใหม่ได้ที่ [Gmail](https://mail.google.com/) หรือใช้บัญชีที่มีอยู่แล้วก็ได้

[โพสต์อย่างเป็นทางการของ Gmail](https://support.google.com/a/answer/176600) แสดงวิธีการกำหนดค่าคุณสมบัติที่จำเป็นในการใช้งาน Gmail ผ่านตัวเชื่อมต่อ SMTP

### เชื่อมต่อกับ SendGrid SMTP API \{#integrate-with-sendgrid-smtp-api}

ในเบื้องต้น สมมติว่าคุณมีบัญชี SendGrid อยู่แล้ว หากยังไม่มี ให้สมัครบัญชีใหม่ที่ [เว็บไซต์ SendGrid](https://app.sendgrid.com/)

คุณสามารถดูคู่มือทีละขั้นตอนที่ ["Integrating with the SMTP API"](https://docs.sendgrid.com/for-developers/sending-email/integrating-with-the-smtp-api)

นักพัฒนาสามารถดูรายละเอียด _sender_ ได้ที่ ["Sender Management"](https://mc.sendgrid.com/senders)

### ตั้งค่ากับบัญชี Aliyun direct mail \{#configure-with-aliyun-direct-mail-account}

เข้าสู่ระบบที่ [เว็บไซต์ Aliyun](https://cn.aliyun.com/) หากยังไม่มีบัญชี ให้สมัครใหม่

ทำตาม [คู่มือการส่งอีเมลด้วย SMTP](https://www.alibabacloud.com/help/en/directmail/latest/send-emails-using-smtp) และดำเนินการตาม 'ภารกิจ' เหล่านั้นเพื่อรับการตั้งค่าและข้อมูลที่จำเป็น

คุณสามารถไปที่ [หน้าที่อยู่บริการ SMTP](https://www.alibabacloud.com/help/en/directmail/latest/smtp-service-address) เพื่อเลือกโฮสต์และหมายเลขพอร์ตของบริการ SMTP ที่เหมาะสม

หากต้องการตรวจสอบ "Sender Addresses" คุณสามารถเข้าได้จากแถบนำทางด้านซ้ายใน [DirectMail console](https://dm.console.aliyun.com/) คุณควรเห็น `Sender address` และ `SMTP Password` ที่นี่

:::note
ตัวอย่างเทมเพลตที่ให้ไว้ในแต่ละกรณีมีเพียงแบบเดียวเพื่อความเรียบง่าย คุณควรเพิ่มเทมเพลตสำหรับกรณีการใช้งานอื่น ๆ ด้วย
คุณควรเปลี่ยนค่าที่อยู่ใน "\<" และ ">" ให้ตรงกับการตั้งค่าบัญชี Gmail, SendGrid หรือ Aliyun ของคุณ และเลือกเก็บฟิลด์อื่น ๆ ที่ไม่มี "\<" และ ">" ไว้
เพิ่ม `{{code}}` เป็นตัวแทนในเนื้อหาเทมเพลตเพื่อแสดงรหัสยืนยันแบบสุ่มในอีเมลที่ส่ง
:::

### ทดสอบตัวเชื่อมต่อ SMTP \{#test-smtp-connector}

คุณสามารถกรอกที่อยู่อีเมลและคลิก "Send" เพื่อดูว่าการตั้งค่าสามารถใช้งานได้หรือไม่ ก่อนจะ "Save and Done"

เรียบร้อยแล้ว อย่าลืม <MainSiteUrl href="/connectors/email-connectors/#enable-email-sign-up-or-sign-in">เปิดใช้งานตัวเชื่อมต่อในประสบการณ์การลงชื่อเข้าใช้</MainSiteUrl>

### ประเภทของการตั้งค่า \{#config-types}

| ชื่อ      | ประเภท     |
| --------- | ---------- |
| host      | string     |
| port      | string     |
| fromEmail | string     |
| templates | Template[] |

| คุณสมบัติของ Template | ประเภท      | ค่าที่เป็นไปได้                                      |
| --------------------- | ----------- | ---------------------------------------------------- |
| subject               | string      | N/A                                                  |
| content               | string      | N/A                                                  |
| usageType             | enum string | 'Register' / 'SignIn' / 'ForgotPassword' / 'Generic' |
| contentType           | enum string | 'text/plain' / 'text/html'                           |

**ตัวเลือกการยืนยันตัวตนด้วยชื่อผู้ใช้และรหัสผ่าน**

| ชื่อ | ประเภท                 | ค่าที่เป็นไปได้ |
| ---- | ---------------------- | --------------- |
| user | string                 | N/A             |
| pass | string                 | N/A             |
| type | enum string (OPTIONAL) | 'login'         |

คุณยังสามารถตั้งค่า [OAuth2 Auth Options](https://nodemailer.com/smtp/oauth2/) และการตั้งค่าขั้นสูงอื่น ๆ ได้ ดูรายละเอียดเพิ่มเติม [ที่นี่](https://nodemailer.com/smtp/)

เราได้ให้ตัวอย่าง config ที่มีพารามิเตอร์ที่ตั้งค่าได้ทั้งหมดในกล่องข้อความเพื่อช่วยให้คุณตั้งค่าการกำหนดค่าของคุณเอง (คุณต้องรับผิดชอบต่อการตั้งค่าเอง ค่าบางอย่างเป็นเพียงตัวอย่างและอาจไม่เหมาะกับกรณีของคุณ)
