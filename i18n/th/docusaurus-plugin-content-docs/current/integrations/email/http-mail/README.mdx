---
slug: /integrations/http-email
sidebar_label: HTTP Email
sidebar_custom_props:
  description: ส่งอีเมลผ่านการเรียก HTTP (Send email via HTTP call).
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# ตั้งค่าการยืนยันอีเมลด้วยการเรียก HTTP

ตัวเชื่อมต่อ Logto อย่างเป็นทางการสำหรับ HTTP email

<GuideTip />

## เริ่มต้นใช้งาน \{#get-started}

ตัวเชื่อมต่อ HTTP email ช่วยให้คุณสามารถส่งอีเมลผ่านการเรียก HTTP ได้ ในการใช้งานตัวเชื่อมต่อนี้ คุณต้องมีบริการอีเมลของคุณเองที่เปิดเผย HTTP API สำหรับการส่งอีเมล Logto จะเรียก API นี้เมื่อจำเป็นต้องส่งอีเมล ตัวอย่างเช่น เมื่อผู้ใช้ลงทะเบียน Logto จะเรียก HTTP API เพื่อส่งอีเมลยืนยัน

## ตั้งค่าตัวเชื่อมต่อ HTTP email \{#set-up-http-email-connector}

ในการใช้งานตัวเชื่อมต่อ HTTP email คุณต้องตั้งค่า HTTP endpoint ที่ Logto สามารถเรียกได้ และสามารถตั้งค่าโทเค็นการอนุญาต (authorization token) สำหรับ endpoint ได้ตามต้องการ

## Payload \{#payload}

ตัวเชื่อมต่อ HTTP email จะส่ง payload ไปยัง endpoint เมื่อมีการทริกเกอร์ส่งอีเมล โดยจะประกอบด้วยอีเมลผู้รับ (`to`), [ประเภทการใช้งานอีเมล](/connectors/email-connectors/email-templates#email-template-types) ที่ระบุขั้นตอนการยืนยันตัวตน (`type`), `payload` ที่มี [ตัวแปร](/connectors/email-connectors/email-templates#email-template-variables) ที่ใช้ได้ (เช่น รหัสยืนยัน, ลิงก์, ข้อมูลแอปพลิเคชัน, ข้อมูลองค์กร, ข้อมูลผู้ใช้) และ [locale](/connectors/email-connectors/email-templates#email-template-localization) ของผู้ใช้ และฟิลด์ `ip` ที่เป็นตัวเลือกซึ่งเก็บ IP address ของลูกค้า (ถ้ามี)

ตัวอย่าง:

```json
{
  "to": "foo@logto.io",
  "type": "SignIn",
  "payload": {
    "code": "123456",
    "locale": "de"
  },
  "ip": "192.168.1.1"
}
```

ฟิลด์ `ip` สามารถนำไปใช้สำหรับการจำกัดอัตรา (rate limiting), การตรวจจับการฉ้อโกง หรือการบันทึกข้อมูลขั้นสูง

คุณสามารถใช้ข้อมูลเหล่านี้เพื่อปรับแต่งเทมเพลตอีเมลในผู้ให้บริการส่งอีเมลของคุณ

สำหรับประเภททั้งหมดที่มี ดูที่ [Email template](/connectors/email-connectors/email-templates#email-template-types) และนิยามประเภท `SendMessageData` แบบเต็มอยู่ใน [connector-kit](https://github.com/logto-io/logto/tree/master/packages/toolkit/connector-kit/src/types/passwordless.ts)
