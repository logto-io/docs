## ตั้งค่า Microsoft Azure AD ใน Azure Portal \{#set-up-microsoft-azure-ad-in-the-azure-portal}

- ไปที่ [Azure Portal](https://portal.azure.com/#home) และลงชื่อเข้าใช้ด้วยบัญชี Azure ของคุณ คุณต้องมีการสมัครใช้งานที่ใช้งานอยู่เพื่อเข้าถึง Microsoft Azure AD
- คลิก **Azure Active Directory** จากบริการที่มีให้ และคลิก **App Registrations** จากเมนูด้านซ้าย
- คลิก **New Registration** ที่ด้านบน กรอกคำอธิบาย เลือก **access type** ของคุณ และเพิ่ม **Redirect URI** ซึ่งจะเปลี่ยนเส้นทางผู้ใช้ไปยังแอปพลิเคชันหลังจากเข้าสู่ระบบ ในกรณีนี้จะเป็น `${your_logto_endpoint}/callback/${connector_id}` เช่น `https://foo.logto.app/callback/${connector_id}` โดยสามารถดู `connector_id` ได้ที่แถบด้านบนของหน้ารายละเอียดตัวเชื่อมต่อใน Logto Admin Console คุณสามารถคัดลอก `Callback URI` ในส่วนการตั้งค่าได้
- เลือก Web เป็น Platform

## กรอกค่าการตั้งค่าใน Logto \{#fill-in-the-configuration-in-logto}

| Name          | Type   |
| ------------- | ------ |
| clientId      | string |
| clientSecret  | string |
| tenantId      | string |
| cloudInstance | string |

### Client ID \{#client-id}

คุณสามารถค้นหา **Application (client) ID** ได้ในส่วน **Overview** ของแอปพลิเคชันที่คุณสร้างใหม่ใน Azure Portal

### Client Secret \{#client-secret}

- ในแอปพลิเคชันที่คุณสร้างใหม่ ให้คลิก **Certificates & Secrets** เพื่อรับ client secret และคลิก **New client secret** ที่ด้านบน
- กรอกคำอธิบายและวันหมดอายุ
- ระบบจะแสดง client secret ของคุณเพียงครั้งเดียว ให้นำ **value** ไปกรอกในค่าการตั้งค่าตัวเชื่อมต่อ Logto และบันทึกไว้ในที่ปลอดภัย

### Cloud Instance \{#cloud-instance}

โดยปกติจะเป็น `https://login.microsoftonline.com/` ดูข้อมูลเพิ่มเติมได้ที่ [Azure AD authentication endpoints](https://learn.microsoft.com/en-us/azure/active-directory/develop/authentication-national-cloud#azure-ad-authentication-endpoints)

### Tenant ID \{#tenant-id}

Logto จะใช้ฟิลด์นี้เพื่อสร้าง authorization endpoints ค่านี้ขึ้นอยู่กับ **access type** ที่คุณเลือกตอนสร้างแอปพลิเคชันใน Azure Portal

- หากคุณเลือก **Accounts in this organizational directory only** สำหรับ access type ให้กรอก **\{TenantID}** ของคุณ โดยสามารถดู tenant ID ได้ในส่วน **Overview** ของ Azure Active Directory ของคุณ
- หากคุณเลือก **Accounts in any organizational directory** สำหรับ access type ให้กรอก **organizations**
- หากคุณเลือก **Accounts in any organizational directory or personal Microsoft accounts** สำหรับ access type ให้กรอก **common**
- หากคุณเลือก **Personal Microsoft accounts only** สำหรับ access type ให้กรอก **consumers**
