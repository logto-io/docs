---
slug: /integrations/github-app
sidebar_label: GitHub (GitHub App)
sidebar_custom_props:
  darkLogoFilename: 'github-dark.svg'
  description: GitHub เป็นชุมชนออนไลน์สำหรับการพัฒนาซอฟต์แวร์และการควบคุมเวอร์ชัน
tutorial_config_name: GitHub (GitHub App)
---

import GuideTip from '../../fragments/_guide-tip.mdx';

import Integration from './_integration.mdx';

# ตั้งค่าการเข้าสู่ระบบโซเชียลด้วย GitHub ผ่าน GitHub App (Set up social login with GitHub via GitHub App)

ผสาน GitHub App เพื่อเปิดใช้งานการลงชื่อเข้าใช้ด้วย GitHub, การเชื่อมโยงบัญชี, และการเข้าถึง GitHub API อย่างปลอดภัยด้วยสิทธิ์แบบละเอียด (fine-grained permissions) และโทเค็นรีเฟรช (refresh tokens)

<GuideTip />

## GitHub App กับ OAuth App \{#github-app-vs-oauth-app}

GitHub มีแอปสองประเภทสำหรับการยืนยันตัวตนและการเข้าถึง API: **GitHub Apps** และ **OAuth Apps** ต่อไปนี้คือการเปรียบเทียบเพื่อช่วยให้คุณเลือก:

| คุณสมบัติ                                   | GitHub App                                                                | OAuth App                                              |
| ------------------------------------------- | ------------------------------------------------------------------------- | ------------------------------------------------------ |
| **สิทธิ์ (Permissions)**                    | สิทธิ์แบบละเอียด — ขอเข้าถึงเฉพาะทรัพยากรที่ต้องการเท่านั้น               | ขอบเขตกว้าง — มักให้สิทธิ์มากเกินความจำเป็น            |
| **การจัดการสิทธิ์ (Permission management)** | กำหนดในแดชบอร์ด GitHub เท่านั้น; ช่อง `Scope` ของ Logto สามารถเว้นว่างได้ | กำหนดผ่าน scopes ในตัวเชื่อมต่อ Logto                  |
| **โทเค็นรีเฟรช (Refresh tokens)**           | ออกให้เสมอระหว่าง OAuth flow                                              | ไม่รองรับ — โทเค็นจะไม่มีวันหมดอายุเว้นแต่จะถูกเพิกถอน |
| **อายุโทเค็น (Token expiration)**           | โทเค็นการเข้าถึงหมดอายุหลัง 8 ชั่วโมง; โทเค็นรีเฟรชใช้ได้ 6 เดือน         | โทเค็นการเข้าถึงไม่มีวันหมดอายุ                        |
| **การควบคุมโดยผู้ใช้ (User control)**       | ผู้ใช้เลือกได้ว่าแอปจะเข้าถึง repository ใดบ้าง                           | เข้าถึง repository ทั้งหมดที่ผู้ใช้เข้าถึงได้          |
| **ขีดจำกัดอัตรา (Rate limits)**             | ขีดจำกัดอัตราสูงขึ้นและปรับตามจำนวนการติดตั้ง                             | ขีดจำกัดอัตราต่ำกว่า (5,000 คำขอ/ชั่วโมง/ผู้ใช้)       |
| **การติดตั้ง (Installation)**               | ติดตั้งบนบัญชี/องค์กรพร้อมการเข้าถึง repository แบบละเอียด                | อนุญาตโดยผู้ใช้ด้วยการเข้าถึงแบบกว้าง                  |
| **Webhooks**                                | รองรับ webhook แบบศูนย์กลางในตัว                                          | ต้องตั้งค่าแยกสำหรับแต่ละ repository                   |
| **การทำงานอิสระ (Acting independently)**    | สามารถทำงานแทนตัวเอง (server-to-server)                                   | ทำงานแทนผู้ใช้เสมอ                                     |

**ควรใช้ GitHub App เมื่อ:**

- คุณต้องการควบคุมสิทธิ์และการเข้าถึง repository อย่างละเอียด
- คุณต้องการโทเค็นรีเฟรชสำหรับการเข้าถึง API ระยะยาวและปลอดภัยยิ่งขึ้น
- คุณต้องการขีดจำกัดอัตรา API ที่สูงขึ้น
- คุณต้องการดำเนินงานอัตโนมัติที่ไม่ขึ้นกับเซสชันของผู้ใช้

**ควรใช้ OAuth App เมื่อ:**

- ต้องการผสานการลงชื่อเข้าใช้ง่าย ๆ โดยเข้าถึง API น้อยที่สุด
- คุณต้องการโทเค็นที่ไม่มีวันหมดอายุ (สำหรับการผสานระบบแบบเก่า)
- คุณต้องการเข้าถึงทรัพยากรระดับองค์กร (GitHub Apps ยังไม่รองรับสิทธิ์ระดับองค์กร)

:::tip
GitHub แนะนำให้ใช้ GitHub Apps แทน OAuth Apps ในกรณีส่วนใหญ่ เนื่องจากมีความปลอดภัยสูงกว่าและสิทธิ์แบบละเอียด ศึกษาเพิ่มเติมเกี่ยวกับ [ความแตกต่างระหว่าง GitHub Apps และ OAuth Apps](https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/differences-between-github-apps-and-oauth-apps)
:::

## เริ่มต้นใช้งาน \{#get-started}

ตัวเชื่อมต่อ GitHub App ช่วยให้ผสาน OAuth 2.0 เพื่อให้แอปของคุณสามารถ:

- เพิ่มการยืนยันตัวตน “ลงชื่อเข้าใช้ด้วย GitHub”
- เชื่อมโยงบัญชีผู้ใช้กับตัวตน GitHub
- ซิงค์ข้อมูลโปรไฟล์ผู้ใช้จาก GitHub
- เข้าถึง GitHub API ผ่านการจัดเก็บโทเค็นอย่างปลอดภัยใน Logto Secret Vault สำหรับงานอัตโนมัติ (เช่น สร้าง issue บน GitHub, จัดการ repository จากแอปของคุณ)
- ใช้ **โทเค็นรีเฟรช (refresh tokens)** (GitHub Apps จะออกให้เสมอ) เพื่อรักษาการเข้าถึง API ระยะยาวโดยไม่ต้องให้ผู้ใช้ยืนยันตัวตนซ้ำ

ในการตั้งค่าฟีเจอร์การยืนยันตัวตนเหล่านี้ ให้สร้างตัวเชื่อมต่อ GitHub ใน Logto ก่อน:

1. ไปที่ <CloudLink to="/connectors/social">Logto console > Connector > Social connector</CloudLink>
2. คลิก **Add social connector** เลือก **GitHub App** คลิก **Next** และทำตามขั้นตอนในบทช่วยสอนเพื่อผสานระบบให้เสร็จสมบูรณ์

<Integration />

## ใช้งานตัวเชื่อมต่อ GitHub \{#utilize-the-github-connector}

เมื่อคุณสร้างตัวเชื่อมต่อ GitHub และเชื่อมต่อกับ GitHub แล้ว คุณสามารถนำไปใช้ใน flow ของผู้ใช้ปลายทางได้ เลือกตัวเลือกที่ตรงกับความต้องการของคุณ:

### เปิดใช้งาน “ลงชื่อเข้าใช้ด้วย GitHub” \{#enable-sign-in-with-github}

1. ใน Logto Console ไปที่ <CloudLink to="/sign-in-experience/sign-up-and-sign-in">Sign-in experience > Sign-up and sign-in</CloudLink>
2. เพิ่มตัวเชื่อมต่อ GitHub ในส่วน **Social sign-in** เพื่อให้ผู้ใช้ยืนยันตัวตนด้วย GitHub

เรียนรู้เพิ่มเติมเกี่ยวกับ [ประสบการณ์การลงชื่อเข้าใช้โซเชียล](/end-user-flows/sign-up-and-sign-in/social-sign-in)

### เชื่อมโยงหรือยกเลิกการเชื่อมโยงบัญชี GitHub \{#link-or-unlink-a-github-account}

ใช้ Account API เพื่อสร้างศูนย์บัญชี (Account Center) แบบกำหนดเองในแอปของคุณ ให้ผู้ใช้ที่ลงชื่อเข้าใช้เชื่อมโยงหรือยกเลิกการเชื่อมโยงบัญชี GitHub ของตน [ดูบทช่วยสอน Account API](/end-user-flows/account-settings/by-account-api#link-a-new-social-connection)

:::tip
สามารถเปิดใช้งานตัวเชื่อมต่อ GitHub เฉพาะสำหรับการเชื่อมโยงบัญชีและการเข้าถึง API โดยไม่ต้องเปิดใช้งานสำหรับการลงชื่อเข้าใช้โซเชียลก็ได้
:::

### เข้าถึง GitHub API และดำเนินการต่าง ๆ \{#access-github-apis-and-perform-actions}

แอปของคุณสามารถดึงโทเค็น GitHub ที่จัดเก็บไว้จาก Secret Vault เพื่อเรียกใช้ GitHub API และดำเนินงาน backend อัตโนมัติ (เช่น สร้าง issue, จัดการ repository หรือทำงานอัตโนมัติอื่น ๆ) ดูคู่มือการดึงโทเค็นที่จัดเก็บไว้เพื่อเข้าถึง API

เนื่องจาก GitHub Apps จะออกโทเค็นรีเฟรชเสมอระหว่าง OAuth flow Logto จะจัดเก็บทั้งโทเค็นการเข้าถึง (access tokens) และโทเค็นรีเฟรช (refresh tokens) โทเค็นการเข้าถึงจะหมดอายุหลัง 8 ชั่วโมง แต่ Logto จะใช้โทเค็นรีเฟรช (มีอายุ 6 เดือน) เพื่อขอโทเค็นใหม่โดยอัตโนมัติ ทำให้การเข้าถึง API ต่อเนื่องไม่สะดุด

## จัดการตัวตน GitHub ของผู้ใช้ \{#manage-user-s-github-identity}

หลังจากผู้ใช้เชื่อมโยงบัญชี GitHub แล้ว ผู้ดูแลระบบสามารถจัดการการเชื่อมต่อนี้ได้ใน Logto Console:

1. ไปที่ <CloudLink to="/users">Logto console > User management</CloudLink> และเปิดโปรไฟล์ของผู้ใช้
2. ในส่วน **Social connections** ค้นหารายการ GitHub แล้วคลิก **Manage**
3. ในหน้านี้ ผู้ดูแลระบบสามารถจัดการการเชื่อมต่อ GitHub ของผู้ใช้ ดูข้อมูลโปรไฟล์ทั้งหมดที่ได้รับและซิงค์จากบัญชี GitHub รวมถึงตรวจสอบสถานะโทเค็นการเข้าถึงและโทเค็นรีเฟรช

:::note
ต่างจาก OAuth Apps ที่ใช้ scopes, GitHub Apps ใช้สิทธิ์แบบละเอียดที่กำหนดในแดชบอร์ด GitHub โทเค็นการเข้าถึงของผู้ใช้จะถูกจำกัดตามสิทธิ์ที่ทั้งแอปของคุณและผู้ใช้มีร่วมกัน Logto ไม่สามารถแสดงรายการสิทธิ์ได้โดยตรง แต่แอปของคุณจะเข้าถึงได้ตามที่กำหนดไว้ใน GitHub App settings
:::

## อ้างอิง \{#reference}

<Url href="https://docs.github.com/en/apps/creating-github-apps/about-creating-github-apps/about-creating-github-apps">
  เอกสารนักพัฒนา GitHub - เกี่ยวกับ GitHub Apps
</Url>

<Url href="https://docs.github.com/en/apps/creating-github-apps/registering-a-github-app/registering-a-github-app">
  เอกสารนักพัฒนา GitHub - การลงทะเบียน GitHub App
</Url>

<Url href="https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/generating-a-user-access-token-for-a-github-app">
  เอกสารนักพัฒนา GitHub - การสร้าง user access tokens
</Url>

<Url href="https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/refreshing-user-access-tokens">
  เอกสารนักพัฒนา GitHub - การรีเฟรช user access tokens
</Url>

<Url href="https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/differences-between-github-apps-and-oauth-apps">
  GitHub Apps vs OAuth Apps
</Url>
