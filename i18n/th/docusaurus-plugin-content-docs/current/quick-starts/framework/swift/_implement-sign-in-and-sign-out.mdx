import ConfigureRedirectUri from '../../fragments/_configure-redirect-uri.mdx';
import SignInNote from '../../fragments/_sign-in-note.mdx';
import SignInFlowSummary from '../../fragments/_web-sign-in-flow-summary.mdx';

<SignInFlowSummary />

#### กำหนดค่า Redirect URI \{#configure-redirect-uri}

<ConfigureRedirectUri
  figureSrc="/img/assets/ios-redirect-uri.png"
  redirectUri="io.logto://callback"
/>

:::info
Redirect URI ใน iOS SDK ใช้สำหรับการทำงานภายในเท่านั้น _ไม่จำเป็นต้อง_ เพิ่ม [Custom URL Scheme](https://developer.apple.com/documentation/xcode/defining-a-custom-url-scheme-for-your-app) จนกว่าจะมีตัวเชื่อมต่อร้องขอ
:::

#### การลงชื่อเข้าใช้และออกจากระบบ \{#sign-in-and-sign-out}

<SignInNote calling=".signInWithBrowser(redirectUri:)" />

คุณสามารถใช้ `client.signInWithBrowser(redirectUri:)` เพื่อให้ผู้ใช้ลงชื่อเข้าใช้ และ `client.signOut()` เพื่อออกจากระบบ

ตัวอย่างเช่น ในแอป SwiftUI:

```swift title="ContentView.swift"
struct ContentView: View {
  @State var isAuthenticated: Bool

  init() {
    isAuthenticated = client.isAuthenticated
  }

  var body: some View {
    VStack {
      if isAuthenticated {
        Button("Sign Out") {
          Task { [self] in
            await client.signOut()
            isAuthenticated = false
          }
        }
      } else {
        Button("Sign In") {
          Task { [self] in
            do {
              try await client.signInWithBrowser(redirectUri: "${
                props.redirectUris[0] ?? 'io.logto://callback'
              }")
              isAuthenticated = true
            } catch let error as LogtoClientErrors.SignIn {
              // เกิดข้อผิดพลาดระหว่างการลงชื่อเข้าใช้
            } catch {
              // ข้อผิดพลาดอื่น ๆ
            }
          }
        }
      }
    }
  }
}
```
