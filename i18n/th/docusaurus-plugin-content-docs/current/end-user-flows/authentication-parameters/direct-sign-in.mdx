---
sidebar_position: 2
---

# การลงชื่อเข้าใช้โดยตรง

การลงชื่อเข้าใช้โดยตรง (Direct sign-in) เป็น [พารามิเตอร์การยืนยันตัวตน](/end-user-flows/authentication-parameters) เฉพาะของ Logto ที่ช่วยให้คุณเริ่มต้นการลงชื่อเข้าใช้โซเชียลหรือ Enterprise SSO ได้โดยตรง โดยข้ามหน้าลงชื่อเข้าใช้ Logto แบบสากล

ฟีเจอร์นี้มีประโยชน์อย่างยิ่งหากคุณมีหน้าลงชื่อเข้าใช้แบบกำหนดเองหรือจุดเริ่มต้นเข้าสู่ระบบ IdP ฝังอยู่ในเว็บไซต์ของคุณ (ดูกรณีการใช้งาน) ด้วยการใช้ direct sign-in คุณสามารถเปลี่ยนเส้นทางผู้ใช้ไปยังหน้าลงชื่อเข้าใช้ของ IdP ได้โดยตรง

```mermaid
sequenceDiagram
    actor user as ผู้ใช้
    participant app as แอปพลิเคชันไคลเอนต์
    participant logto as Logto
    participant idp as ผู้ให้บริการข้อมูลระบุตัวตน (IdP)

    user->>app: คลิกที่ลิงก์ลงชื่อเข้าใช้โดยตรง
    app->>logto: ส่งคำขอการยืนยันตัวตนพร้อมพารามิเตอร์ direct sign-in
    logto->>idp: ข้ามหน้าลงชื่อเข้าใช้และเริ่มต้นการลงชื่อเข้าใช้ Social หรือ Enterprise SSO โดยตรง
    idp->>logto: ส่งโทเค็นการยืนยันตัวตนหรือ assertion
    logto->>app: เปลี่ยนเส้นทางผู้ใช้กลับไปยังแอปพลิเคชันไคลเอนต์พร้อมข้อมูลการยืนยันตัวตน
```

## การลงชื่อเข้าใช้โซเชียล \{#social-sign-in}

ส่งพารามิเตอร์ `direct_sign_in` พร้อมค่า `social:<idp-name>` เพื่อเริ่มต้นกระบวนการลงชื่อเข้าใช้โซเชียลโดยตรง

### วิธีค้นหาชื่อตัวเชื่อมต่อ IdP \{#where-to-find-the-connector-idp-name}

1. ไปที่ <CloudLink to="/connectors/social">Console > ตัวเชื่อมต่อ > ตัวเชื่อมต่อโซเชียล</CloudLink>
2. คลิกที่ [ตัวเชื่อมต่อโซเชียล](/connectors/social-connectors) ที่คุณต้องการใช้
3. ค้นหาชื่อผู้ให้บริการข้อมูลระบุตัวตน (IdP) ที่ด้านบนของหน้าการตั้งค่าตัวเชื่อมต่อ

<img src="/img/assets/direct-sign-in-social-name.png" alt="ชื่อ IdP ของตัวเชื่อมต่อโซเชียล" />

### ตัวอย่าง \{#example}

สร้าง URL คำขอการยืนยันตัวตนของคุณเองพร้อมพารามิเตอร์ `direct_sign_in`:

```sh
curl --location \
  --request GET 'https://[tenant-id].logto.app/oidc/auth?client_id=1234567890&...&direct_sign_in=social:google'
```

ใน Logto SDK ที่รองรับ คุณสามารถตั้งค่าพารามิเตอร์ `directSignIn` เมื่อเรียกใช้เมธอด `signIn`:

```javascript
const authResult = await logto.signIn({
  redirectUri: 'https://your-app.com/callback',
  directSignIn: 'social:google',
});
```

## Enterprise SSO \{#enterprise-sso}

ส่งพารามิเตอร์ `direct_sign_in` พร้อมค่า `sso:<connector-id>` เพื่อเริ่มต้นกระบวนการลงชื่อเข้าใช้ Enterprise SSO โดยตรง

### วิธีค้นหา Enterprise SSO connector ID \{#where-to-find-the-enterprise-sso-connector-id}

1. ไปที่ <CloudLink to="/enterprise-sso">Console > Enterprise SSO</CloudLink>
2. คลิกที่ [ตัวเชื่อมต่อองค์กร](/connectors/enterprise-connectors) ที่คุณต้องการใช้
3. ค้นหา connector ID ที่ด้านบนของหน้าการตั้งค่าตัวเชื่อมต่อ

<img src="/img/assets/direct-sign-in-enterprise-sso.png" alt="Enterprise SSO connector ID" />

### ตัวอย่าง \{#example-1}

สร้าง URL คำขอการยืนยันตัวตนของคุณเองพร้อมพารามิเตอร์ `direct_sign_in`:

```sh
curl --location \
  --request GET 'https://[tenant-id].logto.app/oidc/auth?client_id=1234567890&...&direct_sign_in=sso:1234567890'
```

ใน Logto SDK ที่รองรับ คุณสามารถตั้งค่าพารามิเตอร์ `directSignIn` เมื่อเรียกใช้เมธอด `signIn`:

```javascript
logtoClient.signIn({
  redirectUri: 'https://your-app.com/callback',
  directSignIn: 'sso:1234567890',
});
```

## กลับไปยังหน้าลงชื่อเข้าใช้ (Fallback) \{#fallback-to-the-sign-in-page}

หากกระบวนการลงชื่อเข้าใช้โดยตรงล้มเหลว เช่น ไม่พบตัวเชื่อมต่อหรือไม่ได้เปิดใช้งาน ผู้ใช้จะถูกเปลี่ยนเส้นทางไปยังหน้าลงชื่อเข้าใช้มาตรฐาน

:::note
เรากำลังทยอยเพิ่มการรองรับพารามิเตอร์ direct_sign_in ให้กับ Logto SDK ทั้งหมด หากคุณไม่พบใน SDK ของคุณ โปรดแจ้งปัญหาหรือ ติดต่อเรา
:::

## คำถามที่พบบ่อย \{#faqs}

<details>
  <summary>

### Direct sign-in เหมือนกับการยืนยันตัวตนผ่าน API หรือไม่? \{#is-direct-sign-in-the-same-as-api-authentication}

</summary>

ไม่ใช่ การลงชื่อเข้าใช้โดยตรงเป็นพารามิเตอร์ของ user flow ที่ช่วยให้คุณข้ามหน้าลงชื่อเข้าใช้ Logto แบบปกติและเปลี่ยนเส้นทางผู้ใช้ไปยังหน้าลงชื่อเข้าใช้ของผู้ให้บริการโซเชียลหรือ Enterprise SSO โดยตรง แตกต่างจากการยืนยันตัวตนผ่าน API ผู้ใช้ยังคงต้องถูกเปลี่ยนเส้นทางไปยัง endpoint การยืนยันตัวตนของ Logto ก่อนเพื่อเริ่มกระบวนการลงชื่อเข้าใช้

</details>
