---
id: webhooks-events
title: เหตุการณ์ Webhook
sidebar_label: เหตุการณ์ Webhook
sidebar_position: 3
---

# เหตุการณ์ Webhook

คู่มือนี้จะแสดงรายการเหตุการณ์ webhook ของ Logto ที่แตกต่างกันและอธิบายว่าแต่ละเหตุการณ์เกิดขึ้นเมื่อใด

## เหตุการณ์ hook จากการโต้ตอบของผู้ใช้ \{#user-interaction-hook-events}

| ประเภทเหตุการณ์   | คำอธิบาย                                                  |
| ----------------- | --------------------------------------------------------- |
| PostRegister      | ผู้ใช้สร้างบัญชีใหม่สำเร็จผ่านอินเทอร์เฟซ UI              |
| PostSignIn        | ผู้ใช้ลงชื่อเข้าใช้สำเร็จผ่านอินเทอร์เฟซ UI               |
| PostResetPassword | รหัสผ่านของผู้ใช้ถูกรีเซ็ตสำเร็จผ่านขั้นตอน "ลืมรหัสผ่าน" |

## เหตุการณ์ hook จากการเปลี่ยนแปลงข้อมูล \{#data-mutation-hook-events}

### ผู้ใช้ \{#user}

| ประเภทเหตุการณ์               | คำอธิบาย                                                                          |
| ----------------------------- | --------------------------------------------------------------------------------- |
| User.Created                  | มีการสร้างบัญชีผู้ใช้ใหม่                                                         |
| User.Deleted                  | มีการลบบัญชีผู้ใช้ออก                                                             |
| User.Data.Updated             | ข้อมูลโปรไฟล์ผู้ใช้ถูกอัปเดต เช่น อีเมล, อวาตาร์, custom.data, ตัวระบุโซเชียล ฯลฯ |
| User.SuspensionStatus.Updated | สถานะการระงับบัญชีผู้ใช้ถูกเปลี่ยน (ระงับหรือเปิดใช้งานใหม่)                      |

### บทบาท (Role) \{#role}

| ประเภทเหตุการณ์     | คำอธิบาย                                                             |
| ------------------- | -------------------------------------------------------------------- |
| Role.Created        | มีการสร้างบทบาทใหม่                                                  |
| Role.Deleted        | มีการลบบทบาทออก                                                      |
| Role.Data.Updated   | ข้อมูลของบทบาทถูกอัปเดต เช่น ชื่อบทบาท, คำอธิบาย, สถานะบทบาทเริ่มต้น |
| Role.Scopes.Updated | มีการเพิ่มหรือลบสิทธิ์ (permissions) ที่กำหนดให้กับบทบาท             |

### สิทธิ์ (ขอบเขต; Permission / Scope) \{#permission-scope}

| ประเภทเหตุการณ์    | คำอธิบาย                                          |
| ------------------ | ------------------------------------------------- |
| Scope.Created      | มีการสร้างสิทธิ์ API ใหม่                         |
| Scope.Deleted      | มีการลบสิทธิ์ API ออก                             |
| Scope.Data.Updated | ข้อมูลของสิทธิ์ API ถูกอัปเดต เช่น คำอธิบายสิทธิ์ |

### องค์กร (Organization) \{#organization}

| ประเภทเหตุการณ์                 | คำอธิบาย                                                            |
| ------------------------------- | ------------------------------------------------------------------- |
| Organization.Created            | มีการสร้างองค์กรใหม่                                                |
| Organization.Deleted            | มีการลบองค์กรออก                                                    |
| Organization.Data.Updated       | ข้อมูลขององค์กรถูกอัปเดต เช่น ชื่อองค์กร, คำอธิบาย, custom.data ฯลฯ |
| Organization.Membership.Updated | มีการเพิ่มหรือลบสมาชิกในองค์กร                                      |

### บทบาทขององค์กร (Organization role) \{#organization-role}

| ประเภทเหตุการณ์                 | คำอธิบาย                                                      |
| ------------------------------- | ------------------------------------------------------------- |
| OrganizationRole.Created        | มีการสร้างบทบาทขององค์กรใหม่                                  |
| OrganizationRole.Deleted        | มีการลบบทบาทขององค์กรออก                                      |
| OrganizationRole.Data.Updated   | ข้อมูลของบทบาทองค์กรถูกอัปเดต เช่น ชื่อบทบาทองค์กรและคำอธิบาย |
| OrganizationRole.Scopes.Updated | มีการเพิ่มหรือลบสิทธิ์ที่กำหนดให้กับบทบาทขององค์กร            |

### สิทธิ์ขององค์กร (ขอบเขต; Organization permission / scope) \{#organization-permission-scope}

| ประเภทเหตุการณ์                | คำอธิบาย                                                       |
| ------------------------------ | -------------------------------------------------------------- |
| OrganizationScope.Created      | มีการสร้างสิทธิ์ขององค์กรใหม่                                  |
| OrganizationScope.Deleted      | มีการลบสิทธิ์ขององค์กรออก                                      |
| OrganizationScope.Data.Updated | ข้อมูลของสิทธิ์ขององค์กรถูกอัปเดต เช่น คำอธิบายสิทธิ์ขององค์กร |

### เหตุการณ์ที่ถูกกระตุ้นโดย Management API \{#management-api-triggered-events}

| API endpoint                                               | เหตุการณ์                                                   |
| ---------------------------------------------------------- | ----------------------------------------------------------- |
| POST /users                                                | User.Created                                                |
| DELETE /users/:userId                                      | User.Deleted                                                |
| PATCH /users/:userId                                       | User.Data.Updated                                           |
| PATCH /users/:userId/custom-data                           | User.Data.Updated                                           |
| PATCH /users/:userId/profile                               | User.Data.Updated                                           |
| PATCH /users/:userId/password                              | User.Data.Updated                                           |
| PATCH /users/:userId/is-suspended                          | User.SuspensionStatus.Updated                               |
| POST /roles                                                | Role.Created, (Role.Scopes.Update)                          |
| DELETE /roles/:id                                          | Role.Deleted                                                |
| PATCH /roles/:id                                           | Role.Data.Updated                                           |
| POST /roles/:id/scopes                                     | Role.Scopes.Updated                                         |
| DELETE /roles/:id/scopes/:scopeId                          | Role.Scopes.Updated                                         |
| POST /resources/:resourceId/scopes                         | Scope.Created                                               |
| DELETE /resources/:resourceId/scopes/:scopeId              | Scope.Deleted                                               |
| PATCH /resources/:resourceId/scopes/:scopeId               | Scope.Data.Updated                                          |
| POST /organizations                                        | Organization.Created                                        |
| DELETE /organizations/:id                                  | Organization.Deleted                                        |
| PATCH /organizations/:id                                   | Organization.Data.Updated                                   |
| PUT /organizations/:id/users                               | Organization.Membership.Updated                             |
| POST /organizations/:id/users                              | Organization.Membership.Updated                             |
| DELETE /organizations/:id/users/:userId                    | Organization.Membership.Updated                             |
| POST /organization-roles                                   | OrganizationRole.Created, (OrganizationRole.Scopes.Updated) |
| DELETE /organization-roles/:id                             | OrganizationRole.Deleted                                    |
| PATCH /organization-roles/:id                              | OrganizationRole.Data.Updated                               |
| POST /organization-scopes                                  | OrganizationScope.Created                                   |
| DELETE /organization-scopes/:id                            | OrganizationScope.Deleted                                   |
| PATCH /organization-scopes/:id                             | OrganizationScope.Data.Updated                              |
| PUT /organization-roles/:id/scopes                         | OrganizationRole.Scopes.Updated                             |
| POST /organization-roles/:id/scopes                        | OrganizationRole.Scopes.Updated                             |
| DELETE /organization-roles/:id/scopes/:organizationScopeId | OrganizationRole.Scopes.Updated                             |

### เหตุการณ์ที่ถูกกระตุ้นโดย Experience API \{#experience-api-triggered-events}

| การกระทำของผู้ใช้                 | เหตุการณ์         |
| --------------------------------- | ----------------- |
| การเชื่อมโยงอีเมล/โทรศัพท์ผู้ใช้  | User.Data.Updated |
| การเชื่อมโยง MFA ของผู้ใช้        | User.Data.Updated |
| การเชื่อมโยงโซเชียล/SSO ของผู้ใช้ | User.Data.Updated |
| การรีเซ็ตรหัสผ่านผู้ใช้           | User.Data.Updated |
| การลงทะเบียนผู้ใช้                | User.Created      |

## เหตุการณ์ hook ข้อยกเว้น \{#exception-hook-events}

### ความปลอดภัย \{#security}

| ประเภทเหตุการณ์    | คำอธิบาย                                                                                                                                                                                                                          |
| ------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Identifier.Lockout | บัญชีผู้ใช้ถูกล็อกเนื่องจากพยายามยืนยันตัวตนล้มเหลวติดต่อกัน สามารถถูกกระตุ้นในขั้นตอนต่อไปนี้:<br /><ul><li>การตรวจสอบรหัสผ่านล้มเหลว</li><li>การตรวจสอบรหัสยืนยันล้มเหลว</li><li>การตรวจสอบโทเค็นแบบครั้งเดียวล้มเหลว</li></ul> |

## คำถามที่พบบ่อย \{#faqs}

<details>
<summary>

### ความแตกต่างระหว่าง `PostRegister` กับ `User.Created` คืออะไร? \{#whats-the-difference-between-postregister-and-usercreated}

</summary>

`PostRegister` จะถูกกระตุ้นเมื่อผู้ใช้สร้างบัญชีใหม่สำเร็จผ่านขั้นตอนการสมัครของผู้ใช้; `User.Created` จะถูกกระตุ้นเมื่อมีการสร้างบัญชีผู้ใช้ใหม่ผ่าน Management API

</details>
