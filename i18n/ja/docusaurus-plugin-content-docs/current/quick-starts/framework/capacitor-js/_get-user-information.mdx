import ClaimsNeedNetworkRequest from '../../fragments/_claims-need-network-request.mdx';
import FindUserInfoMissing from '../../fragments/_find-user-info-missing.mdx';
import ScopesAndClaims from '../../fragments/_scopes-and-claims.mdx';
import ScopesAndClaimsIntroduction from '../../fragments/_scopes-claims-introduction.md';

import FetchUserinfoCode from './_fetch-userinfo-code.md';
import ScopesAndClaimsCode from './_scopes-and-claims-code.md';

### ユーザー情報の表示

ユーザーの情報を表示するには、`getIdTokenClaims()` メソッドを使用できます。例えば、Capacitor アプリで：

```tsx
const userClaims = await logtoClient.getIdTokenClaims();
console.log(userClaims);
```

### 追加のクレーム (Claims) のリクエスト

<FindUserInfoMissing method="client.getIdTokenClaims()" />

<ScopesAndClaimsIntroduction />

追加のスコープ (Scopes) をリクエストするには、クライアントを初期化する際に `LogtoConfig` オブジェクトにスコープ (Scopes) を渡すことができます。例えば：

```tsx
const logtoConfig = {
  scopes: ['email', 'phone', 'custom_data', 'organizations'],
};
```

その後、`client.getIdTokenClaims()` の戻り値で追加のクレーム (Claims) にアクセスできます：

<ClaimsNeedNetworkRequest
  type="method"
  method="client.fetchUserInfo()"
  codeSnippet={<FetchUserinfoCode />}
/>

### スコープ (Scopes) とクレーム (Claims)

<ScopesAndClaims configScopesCode={<ScopesAndClaimsCode />} />
