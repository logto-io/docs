---
sidebar_position: 4
---

# 認証 (Authentication) パラメーター

標準的な OIDC サインインフローでは、クライアントアプリケーションが認証リクエストを開始し、ユーザーを Logto がホストするユニバーサルサインイン体験のウェブページにリダイレクトします。サインイン体験の設定に基づき、ユーザーはさまざまな識別子、認証方法、サードパーティのソーシャルまたはエンタープライズ SSO コネクターを使ってサインインまたはサインアップできます。

Logto は、以下のような標準 OIDC オプションパラメーターもサポートしています：

- `login_hint`: ユーザー識別子のヒントを提供（例：メールアドレス / ユーザー名の事前入力）
- [`ui_locales`](/end-user-flows/authentication-parameters/ui-locales): サインイン UI や関連メールを含む、現在のインタラクションの実行時言語を制御

標準の [OIDC 認証 (Authentication) パラメーター](https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest) に加えて、Logto 独自のカスタム認証 (Authentication) パラメーターもいくつか導入しており、エンドユーザー向けのサインイン体験を柔軟にカスタマイズできます。

これは、異なるユーザーセグメントごとに特定のサインインフローを強制したい場合などに特に便利です。以下のようなシナリオが含まれますが、これらに限定されません：

### 新規ユーザーの直接サインアップ \{#direct-sign-up-for-new-users}

ターゲットを絞った登録キャンペーンでは、新規ユーザーをデフォルトのサインインフォームをスキップして直接サインアップページに誘導し、シームレスなオンボーディング体験を提供したい場合があります。

**使用例**：[First screen](/end-user-flows/authentication-parameters/first-screen) パラメーター → `first_screen=register`

### ホームページからメール事前入力サインアップ \{#email-prefilled-sign-up-from-homepage}

ホームページのヒーローセクションにメールサインアップ入力欄が目立つように表示され、素早いユーザー登録を促すケースがよくあります。ユーザーがメールアドレスを入力し「今すぐ始める」ボタンをクリックすると、これらのパラメーターによってサインアップページにメール欄が事前入力された状態でリダイレクトでき、登録プロセスを効率化します。

この方法は、サブスクリプションフォームやその他のメール収集シナリオでも、サインアップフローの摩擦を減らしたい場合に有効です。

**使用例**：[First screen](/end-user-flows/authentication-parameters/first-screen) パラメーター → `first_screen=identifier:sign_up&identifier=email&login_hint=foo@gmail.com`

<img
  src="/img/assets/embedded-email-sign-up-field-on-homepage.png"
  alt="ホームページに埋め込まれたメールサインアップ欄"
/>

### パスワードリセットページへの直接リンク \{#direct-password-reset-link}

新規ユーザーが新しいパスワードを設定する必要がある場合、直接リンクを送信し、メール欄が事前入力された状態でパスワードリセットページにリダイレクトできます。

**使用例**：[First screen](/end-user-flows/authentication-parameters/first-screen) パラメーター → `first_screen=reset_password`

### 即時ソーシャルログイン \{#instant-social-login}

サイト上にソーシャルメディアサインインボタンを直接配置している場合、これらのパラメーターを使ってデフォルトのサインインフォームをスキップし、ユーザーが選択したソーシャルプロバイダーで直接認証 (Authentication) できます。

**使用例**：[Direct sign-in](/end-user-flows/authentication-parameters/direct-sign-in#social-sign-in) パラメーター → `direct_sign_in=social:google`

### エンタープライズ顧客向けの直接 SSO サインイン \{#direct-sso-sign-in-for-enterprise-customers}

複数のエンタープライズクライアント向けのプロダクトでは、これらのパラメーターを使って、各組織専用の SSO ボタンを表示し、ユニバーサルサインインフォームをスキップして特定の SSO プロバイダーでユーザーをサインインさせることができます。

**使用例**：[Direct sign-in](/end-user-flows/authentication-parameters/direct-sign-in#enterprise-sso) パラメーター → `direct_sign_in=sso:1234567890`

### ウェブサイトやダイアログへのサインアップフォーム埋め込み \{#embedded-sign-up-form-on-website-or-in-a-dialog}

シームレスなユーザー体験のため、認証 (Authentication) フォーム全体をウェブサイトやモーダルダイアログに直接埋め込み、適切なタイミングで自然にサインアップやサインインへ誘導できます。

- ユーザーがソーシャルサインインボタン（例：「Google で続ける」）をクリックした場合、[direct sign-in](/end-user-flows/authentication-parameters/direct-sign-in) パラメーターを使って即座にソーシャルプロバイダーへリダイレクトします。
- ユーザーがメールアドレスを入力しサインアップボタンをクリックした場合、[first screen](/end-user-flows/authentication-parameters/first-screen) パラメーターを使ってメール事前入力状態でサインアップページへリダイレクトします。

上記の認証 (Authentication) パラメーターを組み合わせることで、Logto の安全な認証 (Authentication) 基盤を活用しつつ、ウェブサイトのコンテキストやブランディングを維持し、スムーズでプロフェッショナルなユーザー体験を実現できます。

<img
  src="/img/assets/embedded-sign-up-form.png"
  alt="ウェブサイトやダイアログに埋め込まれたサインアップフォーム"
/>

### サイトごとに異なるサインイン方法の表示 \{#custom-sign-in-methods-displayed-for-different-sites}

プロダクトが社内チームと一般消費者、または異なる組織の両方に提供されている場合、サインイン体験を用途に応じてカスタマイズできます。例：

- 社内ツールでは、メール / ユーザー名とパスワードによるサインインのみを表示
- 一般向けページでは、Google ログインを含むすべてのサインインオプションを提供

**使用例**：ウェブサイトの種類に応じて異なる [first screen](/end-user-flows/authentication-parameters/first-screen) または [direct sign-in](/end-user-flows/authentication-parameters/direct-sign-in) 設定を利用

引き続き、[first screen](/end-user-flows/authentication-parameters/first-screen) のカスタマイズや [direct sign-in](/end-user-flows/authentication-parameters/direct-sign-in) 体験の有効化に役立つ認証 (Authentication) パラメーターについて詳しく学んでください。

## 関連リソース \{#related-resources}

<Url href="https://blog.logto.io/embed-login-or-registration-forms-securely-on-your-site">
  ログインまたは登録フォームを安全にサイトへ埋め込む方法
</Url>

<Url href="https://blog.logto.io/authentication-parameters">
  顧客のオンボーディング体験を向上させるちょっとした工夫
</Url>
