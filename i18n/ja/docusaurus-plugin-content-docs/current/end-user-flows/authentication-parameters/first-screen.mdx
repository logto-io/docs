---
sidebar_position: 2
---

# ファーストスクリーンパラメーター

エンドユーザー向けの最初の画面体験をカスタマイズできる認証 (Authentication) パラメーターのセットです。

- `first_screen`: ユーザーが最初に見る画面を指定します。
- `identifier`: サインインまたはサインアップフォームで受け付ける識別子タイプを指定します。
- `login_hint`: ユーザーのメールアドレスまたはユーザー名で識別子フィールドを自動入力します。（これは OIDC 標準パラメーターです）

## first_screen \{#first_screen}

`first_screen` パラメーターは、ユーザーが Logto のサインインページにリダイレクトされたときに最初に表示される画面を決定する主要なパラメーターです。デフォルトでは、ユニバーサルサインインフォームが表示されます。このパラメーターを使用して、アプリケーションの要件に応じて最初の画面をカスタマイズできます。サポートされている値は以下の通りです：

- `sign_in`: サインインフォームを表示します。（デフォルト）
- `register`: サインアップフォームを表示します。
- `reset_password`: パスワードリセットフォームを表示します。
- `single_sign_on`: エンタープライズ SSO サインインフォームを表示します。（有効な SSO プロバイダーを判定するためにメールアドレスが求められます）
- `identifier:sign-in`: 識別子タイプを指定したサインインフォームを表示します。識別子タイプは `identifier` パラメーターで指定できます。複数の識別子サインイン方法が有効な場合に便利です。
- `identifier:register`: 識別子タイプを指定したサインアップフォームを表示します。識別子タイプは `identifier` パラメーターで指定できます。複数の識別子サインアップ方法が有効な場合に便利です。

<img src="/img/assets/first-screen-parameter.png" alt="ファーストスクリーンパラメーター" />

例えば、ユーザーを直接エンタープライズ SSO サインインフォームに遷移させる場合：

```sh
curl --location \
--request GET 'https://<your-tenant>.logto.app/oidc/auth?client_id=<client_id>&...&first_screen=single_sign_on'
```

## identifier \{#identifier}

`identifier` パラメーターは、サインインまたはサインアップフォームで受け付ける識別子タイプを指定するために使用します。このパラメーターは、`first_screen` パラメーターが `identifier:sign-in`、`identifier:register`、または `reset_password` に設定されている場合のみ有効です。サポートされている値は `username`、`email`、`phone` です。複数の識別子タイプを許可する場合は、空白で区切って指定します。

例えば、ユーザーをメールアドレスまたは電話番号のサインアップページに直接遷移させる場合：

```sh
curl --location \
--request GET 'https://<your-tenant>.logto.app/oidc/auth?client_id=<client_id>&...&first_screen=identifier:register&identifier=email phone'
```

このパラメーターで指定したすべての識別子タイプは、Logto コンソールのサインインまたはサインアップ設定で有効化されている必要があります。

サポートされていない、または無効化されている識別子タイプは無視されます。すべての指定識別子がサポートされていない場合は、デフォルトのサインイン体験設定が使用されます。

## login_hint \{#login_hint}

`login_hint` パラメーターは、標準の [OpenID Connect 仕様](https://openid.net/specs/openid-connect-core-1_0.html#AuthorizationEndpoint) で定義されており、サインインフォームにユーザーの識別子（メールアドレス、電話番号、ユーザー名など）を事前入力するために使用します。Logto では、他のサインイン画面パラメーターと組み合わせてユーザー体験を向上させることができます。特に、カスタムの事前認証フォームでユーザーの識別子を事前に収集し、サインイン時の再入力を省略したい場合に便利です。

例えば、収集済みのメールアドレスをサインインフォームに事前入力する場合：

```sh
curl --location \
--request GET 'https://<your-tenant>.logto.app/oidc/auth?client_id=<client_id>&...&first_screen=identifier:sign_in&identifier=email&login_hint=example@logto.io
```

## SDK サポート \{#sdk-support}

対応する Logto SDK では、`signIn` メソッドを呼び出す際にこれらのパラメーターを設定できます：

```javascript
logtoClient.signIn({
  redirectUri: 'https://your-app.com/callback',
  firstScreen: 'identifier:register',
  identifier: ['email', 'phone'],
  loginHint: 'example@logto.io',
});
```

:::note
`first_screen`、`identifier`、`login_hint` パラメーターへの対応は、順次すべての Logto SDK に追加されています。SDK にこれらが見当たらない場合は、Issue を立てるかお問い合わせください。

[Logto OSS](/logto-oss) ユーザーの場合、これらのパラメーターはバージョン 1.15.0 以降でサポートされています。古いバージョンをお使いの場合は、[最新版へアップグレード](/logto-oss/upgrading-oss-version) してください。
:::
