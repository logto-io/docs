---
id: built-in-email-service
title: Logto 内蔵メールサービス
sidebar_label: Logto 内蔵メールサービス
sidebar_position: 2
---

Logto は、以下のシナリオで便利な内蔵メールサービスを提供しています：

1. Logto のメールログイン体験を迅速に探索またはテストする。
2. オンライン製品に直接使用する。主に `logto.email` を送信者のメールドメインとして使用することに抵抗のない新しいスタートアップ向けです。

Logto メールサービスの特徴：

- **無料で使用可能**：完全に無料で、日々のメール使用制限がなく、コストを節約できます。
- **手間いらず**：サードパーティのメールサービスプロバイダーとの設定は不要です。メールテンプレートの基本的なブランディング情報をカスタマイズするだけです。まだ独自のブランディング情報がない場合は、数回のクリックで使用を開始できます。
- **配信保証**：Logto のメールサービスに基づいて、安定したサービスと信頼性のあるメール配信を受けることができ、ユーザーが製品にアクセスできるようにします。

ただし、便利である一方で、注意すべき制限があります：

1. メールは固定アドレス `no-reply@logto.email` から送信されます。
2. メールにリンクやその他のカスタムコンテンツを追加することはできません。

ビジネスニーズの進化に応じて、後で他のメールサービスプロバイダーを使用することを選択できます。さまざまな [すぐに使えるメールサービスコネクター](/connectors/email-connectors#popular-email-providers) を提供しており、[SMTP](/integrations/smtp)、[HTTP](/integrations/http-email)、および [Webhook](/developers/webhooks) トリガーを使用してメールを送信することもサポートしているため、常に適した方法を見つけることができます。

:::note
Logto 内蔵の無料メールサービスは現在、[Cloud](https://cloud.logto.io/) ユーザーのみが利用可能です。オープンソースサービスのユーザーは、メールログインのためにメールサービスプロバイダーを設定する柔軟性があります。
:::

## 設定手順

Logto メールサービスを設定するには、次の手順に従ってください：

{/* eslint-disable-next-line prettier/prettier */}
1. <CloudLink to="/connectors/passwordless">Connector > Email and SMS connectors</CloudLink> に移動します。
2. 新しい Email コネクターを追加するには、「**Set up**」ボタンをクリックし、「**Logto email service**」コネクターを選択します。
3. 「Logto email service」コネクターが正常に作成されたら、メールテンプレートに表示される基本的なブランディング情報をカスタマイズできます。
4. これらの変更を行った後、変更を保存する前に、テストメールテンプレートを自分のメールアドレスに送信することを忘れないでください。

カスタマイズオプション：

- **From email**：送信者のメールは `no-reply@logto.email` に設定されており、変更できません。
- **Sender name**：送信者名としてブランド名を設定し、ユーザーの認識を確保します。
- **Company information**：会社名、住所、または郵便番号を表示して、ユーザーの信頼を高め、コンプライアンス要件を満たします。_URL は許可されていないことに注意してください。_
- **App logo**：アプリのブランドロゴをアップロードして、ユーザーが受け取るメールでアプリのブランド価値を示すことができます。

## 統一されたメールテンプレート

Logto メールサービスは、特定の認証 (Authentication) シナリオに合わせた統一されたメールテンプレートを使用します：

| 使用法                   | シナリオ                                                                                                                                                                                                                                                                                              |
| ------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Register                 | ユーザーがメールを使用してアカウントを作成し、Logto から送信された確認コードを入力して確認します。                                                                                                                                                                                                    |
| SignIn                   | ユーザーがメールを使用してサインインし、パスワードを入力する代わりに確認コードを入力して確認します。                                                                                                                                                                                                  |
| ForgotPassword           | ユーザーがログイン中にパスワードを忘れた場合、Logto ですでに確認済みのメールを使用して本人確認を行うことができます。                                                                                                                                                                                  |
| Generic                  | このテンプレートは、コネクター設定のテストなど、さまざまなシナリオで一般的なバックアップオプションとして使用できます。                                                                                                                                                                                |
| OrganizationInvitation   | このテンプレートを使用して、ユーザーに組織に参加するための招待リンクを送信します。                                                                                                                                                                                                                    |
| UserPermissionValidation | アプリの使用中に、銀行振込、使用中のリソースの削除、メンバーシップのキャンセルなど、追加のユーザー確認が必要な高リスク操作や比較的リスクの高い操作が発生する場合があります。`UserPermissionValidation` テンプレートを使用して、これらの状況でユーザーが受け取るメール確認コードの内容を定義できます。 |
| BindNewIdentifier        | ユーザーがプロファイルを変更する際に、現在のアカウントにメールアドレスをバインドする場合があります。この場合、`BindNewIdentifier` テンプレートを使用して確認メールの内容をカスタマイズできます。                                                                                                      |

カスタムブランド情報を使用した「Register」使用タイプのメールテンプレートの例：

![Logto 内蔵メールサービスサンプル](../assets/logto-email-service-template-sample.png)

カスタムブランド情報が提供されていない場合でも、メールテンプレートはデフォルトの表示とレイアウトで使用できます：

![Logto 内蔵メールサービスサンプル（ブランディングなし）](../assets/logto-email-service-template-sample-without-branding.png)

## よくある質問

<details>
<summary>

### Logto メールサービスにカスタム CSS または HTML を追加することは可能ですか？

</summary>

Logto の内蔵メールサービスはカスタム CSS または HTML をサポートしていません。一般的なブランディング要素のみを変更できます。この制限は、すべてのテナントが同じ IP アドレスと送信者アドレスを共有するため、内蔵メールサービスの安定性を維持するために設けられています。詳細については、「[メール配信を改善する要因](https://blog.logto.io/verification-email-delivery#factors-to-improve-email-delivery)」を参照してください。

メールテンプレートをカスタマイズするには、AWS Direct Mail、SendGrid、Mailgun、Postmark、または SMTP などの他のメールコネクターを使用することをお勧めします。

</details>
