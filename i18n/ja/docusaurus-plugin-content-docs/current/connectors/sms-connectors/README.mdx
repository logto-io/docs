---
id: sms-connectors
title: SMS コネクター
sidebar_label: SMS コネクター
sidebar_position: 1
---

# SMS コネクター

SMS コネクターを設定すると、ユーザーの電話番号に [ワンタイムパスワード (OTP)](https://auth.wiki/otp) を送信できます。このパスワードレス認証 (Authentication) メカニズムは、[サインアップ](/end-user-flows/sign-up-and-sign-in/sign-up)、[サインイン](/end-user-flows/sign-up-and-sign-in/sign-in)、[パスワードを忘れた場合](/end-user-flows/sign-up-and-sign-in/reset-password)、[アカウント連携プロセス](/end-user-flows/sign-up-and-sign-in/social-sign-in#account-linking)、[メンバー招待](/end-user-flows/organization-experience/invite-organization-members)、[ユーザーの本人確認](/end-user-flows/security-verification) など、さまざまなシナリオで利用できます。ユーザー認証 (Authentication) を簡素化し、パスワード関連の侵害リスクを最小限に抑えることでセキュリティを強化します。

## SMS コネクターを選択する \{#choose-your-sms-connector}

Logto のステップバイステップガイドを使って、お好みの SMS サービスプロバイダーと連携できます。

以下の SMS サービスプロバイダーに対して、すぐに使える公式サポートを提供しています：

```mdx-code-block
import DocCardList from '@theme/DocCardList';
import Twilio from '@site/docs/connectors/assets/icons/twilio.svg';
import SmsAero from '@site/docs/connectors/assets/icons/smsaero.svg';
import Gateway from '@site/docs/connectors/assets/icons/gateway.svg';
import AliyunSms from '@site/docs/connectors/assets/icons/aliyun-sms.svg';
import TencentSms from '@site/docs/connectors/assets/icons/tencent-sms.svg';
import Vonage from '@site/docs/connectors/assets/icons/vonage.svg';
import Http from '@site/docs/connectors/assets/icons/http.svg';

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Twilio SMS',
      href: '/integrations/twilio-sms',
      description: 'Twilio ショートメッセージサービス用の公式 Logto コネクターです。',
      customProps: {
        icon: <Twilio />,
      }
    },
    {
      type: 'link',
      label: 'SMS Aero',
      href: '/integrations/smsaero',
      description: 'SMSAero ショートメッセージサービス用の公式 Logto コネクターです。',
      customProps: {
        icon: <SmsAero />,
      }
    },
    {
      type: 'link',
      label: 'GatewayAPI SMS',
      href: '/integrations/gatewayapi',
      description: 'GatewayAPI SMS 用の公式 Logto コネクターです。',
      customProps: {
        icon: <Gateway />,
      }
    },
    {
      type: 'link',
      label: 'Vonage SMS',
      href: '/integrations/vonage-sms',
      description: 'Vonage SMS 用の公式 Logto コネクターです。',
      customProps: {
        icon: <Vonage />,
      }
    },
    {
      type: 'link',
      label: 'Aliyun SMS',
      href: '/integrations/aliyun-sms',
      description: 'Aliyun ショートメッセージサービス用の公式 Logto コネクターです。',
      customProps: {
        icon: <AliyunSms />,
      }
    },
    {
      type: 'link',
      label: 'Tencent SMS',
      href: '/integrations/tencent-sms',
      description: 'Tencent ショートメッセージサービス用の公式 Logto コネクターです。',
      customProps: {
        icon: <TencentSms />,
      }
    },
  ]}
/>
```

他の SMS プロバイダーを利用する場合は、HTTP SMS コネクターを使って HTTP API を持つ任意のサービスと連携できます。

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'HTTP SMS',
      href: '/integrations/http-sms',
      description: 'HTTP コールで SMS を送信します。',
      customProps: {
        icon: <Http />,
      }
    },
  ]}
/>
```

標準コネクターで要件を満たせない場合は、[お問い合わせ](https://logto.productlane.com/roadmap) ください。OSS ユーザーの場合、要件が緊急の場合は [独自コネクターの実装 (OSS)](/logto-oss/develop-your-connector/implement-connectors#build-a-passwordless-connector) も可能です。常に [コントリビューション](/logto-oss/contribution) を歓迎しています。あなたの取り組みが同じニーズを持つ他のコミュニティメンバーの助けになるかもしれません。

## 設定手順 \{#configuration-steps}

SMS コネクターを追加するには、以下の手順に従ってください：

1. <CloudLink to="/connectors/passwordless">
     コンソール > コネクター > メールおよび SMS コネクター
   </CloudLink>
   に移動します。
2. 新しい SMS コネクターを追加するには、「セットアップ」ボタンをクリックし、希望する SMS プロバイダーを選択します。
3. 選択したプロバイダーの README ドキュメントを確認します。
4. 「パラメーター設定」セクションで必要な項目を入力します。
5. JSON エディターを使って SMS テンプレートをカスタマイズします。
6. 「Generic」テンプレートを使って、ご自身の電話番号に認証コードを送信し、設定をテストします。
7. 「保存して完了」をクリックして終了します。

## SMS コネクターの変更 \{#change-sms-connector}

別の SMS コネクターに変更するには：

- コネクター詳細ページにアクセスし、右上の「コネクターを変更」をクリックします
- または、既存のコネクターを削除して新しいコネクターを作成します

注意：_SMS コネクター_ は 1 つだけ有効にできます。

すでに SMS コネクターがある場合、「SMS コネクターを変更」しか選択できません。この操作はコンソールで保存すると即時反映されるため、保存前に必ず設定をテストしてください。

サービスの安定性を確保するため、Cloud ユーザーは開発環境用に [dev テナント](/logto-cloud/tenant-settings#development) を作成できます。開発環境で設定をテストした後、[本番環境](/logto-cloud/tenant-settings#production) に「移行」し、セットアップを保存してください。

## エンドユーザーフローで電話番号を有効化する \{#enable-phone-number-for-end-user-flows}

SMS コネクターを追加・設定した後、電話番号ベースの認証 (Authentication) フローを有効化できます：

- [**サインアップ方法の設定**](/end-user-flows/sign-up-and-sign-in/sign-up)：<CloudLink to="/sign-in-experience/sign-up-and-sign-in">サインイン体験 > サインアップとサインイン</CloudLink> に移動します。サインアップセクションで「電話番号」または「メールアドレスまたは電話番号」を識別子として追加します。注意：サインアップ時の電話番号認証は必須です。
- [**サインイン方法の設定**](/end-user-flows/sign-up-and-sign-in/sign-in)：サインインセクションで「電話番号」をサインイン方法として追加します。認証方法としてパスワードまたは SMS 認証コードを選択できます。「別の方法を追加」をクリックして追加オプションを設定できます。
- [**パスワードを忘れた場合の設定**](/end-user-flows/sign-up-and-sign-in/reset-password)：サインインセクションでパスワードサインインが有効な場合、「パスワードを忘れた場合」設定が表示されます。「電話認証コード」を有効にすると、SMS でパスワードリセットが可能になります。
- [**MFA 用 SMS 設定**](/end-user-flows/mfa/sms-mfa)：<CloudLink to="/mfa">サインイン体験 > 多要素認証 (MFA)</CloudLink> に移動します。「SMS 認証コード」を第 2 要素として有効化し、セキュリティを強化します。
- [**アカウント設定のセットアップ**](/end-user-flows/account-settings/by-account-api#manage-phone)：[Account API](/end-user-flows/account-settings/by-account-api) を利用してアカウントセンターをカスタマイズし、ユーザーが電話番号を管理できるようにします。

:::warning
設定は即時反映されるため、既存の SMS コネクターを削除すると、エンドユーザーの通常のログインや登録プロセスに影響を与える可能性があります。

例えば、サインイン識別子に「電話番号 + 認証コード」の組み合わせが含まれている場合、既存の SMS コネクターを削除すると、ユーザーはメールで認証コードを受け取れなくなり、サインインフローでエラーが発生します。

コネクターの操作時はリスクにご注意ください。
:::

## よくある質問 (FAQs) \{#faqs}

<details>
<summary>

### Logto に使いたい SMS コネクターがありません。どうすればいいですか？ \{#logto-doesnt-have-the-sms-connector-i-want-to-use-what-should-i-do}

</summary>

さらに多くのコネクターを開発中です。追加のオプションが必要な場合は、Discord でご要望をお知らせいただき、[GitHub](https://github.com/logto-io/logto/issues) でフィーチャーリクエストを提出してください。さらにサポートが必要な場合は、[メールでお問い合わせ](mailto:contact@logto.io) いただくことも可能です。

オープンソース版 Logto ユーザー向けには、シナリオに応じて [独自コネクターをカスタマイズ](/logto-oss/develop-your-connector) できる拡張しやすいコネクター作成方法を提供しています。Logto へのプルリクエストも常に歓迎していますので、コミュニティの他の方々にもご貢献いただけます。

</details>
