---
id: sms-templates
title: SMS テンプレート
sidebar_label: SMS テンプレート
sidebar_position: 2
---

Logto では、SMS コンテンツをカスタマイズするための 4 種類のテンプレートが用意されています。これらは利用用途ごとに Register、SignIn、ForgotPassword、Generic に分類されています。さまざまなユースケースごとに異なるテンプレートを使用することを強く推奨します。そうしないとレートリミットに達し、一時的にサービスが利用できなくなる可能性があります。

## SMS テンプレートの種類と例 \{#sms-template-types-and-examples}

以下は参考用の例です：

| usageType                | シナリオ                                                                                                                                                                                                                                                                                                             | テンプレート例                                                         |
| ------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------- |
| SignIn                   | ユーザーが [電話番号でサインイン](/end-user-flows/sign-up-and-sign-in/sign-in) し、パスワードの代わりに SMS 認証コードを入力して認証 (Authentication) します。                                                                                                                                                       | Logto サインイン認証コード: `{{code}}`。有効期限は 10 分です。         |
| Register                 | ユーザーが [電話番号でアカウントを作成](/end-user-flows/sign-up-and-sign-in/sign-up) し、Logto から送信された認証コードを入力して電話番号を認証 (Authentication) します。                                                                                                                                            | Logto サインアップ認証コード: `{{code}}`。有効期限は 10 分です。       |
| ForgotPassword           | ユーザーがログイン時にパスワードを忘れた場合、まず電話番号で本人確認を行い [パスワードをリセット](/end-user-flows/sign-up-and-sign-in/reset-password) できます。                                                                                                                                                     | Logto パスワードリセット認証コード: `{{code}}`。有効期限は 10 分です。 |
| Generic                  | このテンプレートは、コネクター設定のテストや [サインイン後の電話番号認証や連携](/end-user-flows/account-settings/by-management-api#email-and-phone-number-verification) など、さまざまなシナリオの汎用バックアップオプションとして利用できます。                                                                     | Logto 認証コード: `{{code}}`。有効期限は 10 分です。                   |
| OrganizationInvitation   | このテンプレートは、[ユーザーに組織への招待リンクを送信](/end-user-flows/organization-experience/invite-organization-members#configure-your-email-connector) する際に使用します。                                                                                                                                    | Logto 組織招待認証コード: `{{code}}`。有効期限は 10 分です。           |
| UserPermissionValidation | アプリ利用中に、銀行振込や利用中リソースの削除、会員解約など [追加のユーザー認証が必要な高リスク操作](/end-user-flows/account-settings/by-account-api#verify-by-sending-a-verification-code-to-the-users-email-or-phone) の際に、この `UserPermissionValidation` テンプレートで SMS 認証コードの内容を定義できます。 | Logto 認証コード: `{{code}}`。有効期限は 10 分です。                   |
| BindNewIdentifier        | ユーザーがプロフィールを変更する際に [電話番号を現在のアカウントに連携](/end-user-flows/account-settings/by-account-api#manage-phone) する場合、この `BindNewIdentifier` テンプレートで認証 SMS の内容をカスタマイズできます。                                                                                       | Logto アカウント連携認証コード: `{{code}}`。有効期限は 10 分です。     |
| MfaVerification          | [SMS 多要素認証 (MFA)](/end-user-flows/mfa/sms-mfa) が有効な場合、多要素認証プロセス中にユーザーへ認証コードを送信する際にこのテンプレートが使用されます。                                                                                                                                                           | Logto 2段階認証コード: `{{code}}`。有効期限は 10 分です。              |
| BindMfa                  | [SMS 多要素認証 (MFA)](/end-user-flows/mfa/sms-mfa) が有効な場合、MFA 用の SMS 認証コードを設定する際にこのテンプレートが使用されます。ユーザーがアカウントの MFA 要素として電話番号を連携または設定する際に、この認証コードを受け取ります。                                                                         | Logto 2段階認証追加コード: `{{code}}`。有効期限は 10 分です。          |

これらのパラメーターについて理解しておくことが重要です：

- 認証コードの有効期限は 10 分です。現時点では有効期限のカスタマイズはサポートしていません。
- Logto は SMS テンプレート内の `{{code}}` プレースホルダーを認証コードに置き換えます。そのため、テンプレートに必ずプレースホルダーを確保してください。

:::note
一部の国や地域では、コンプライアンス要件により承認されていない内容の SMS 送信が許可されていない場合があります。SMS テンプレートは、利用前に SMS プロバイダーで登録・承認が必要です。その場合、テンプレート ID で内容がインデックスされ、対応するテンプレートが使用されます。
:::
