---
id: enterprise-connectors
title: エンタープライズコネクター
sidebar_label: エンタープライズコネクター
sidebar_position: 4
---

import MicrosoftEntraId from './assets/icons/sso-entra-id.svg';
import GoogleWorkspace from './assets/icons/sso-google-workspace.svg';
import Oidc from './assets/icons/sso-oidc.svg';
import Okta from './assets/icons/sso-okta.svg';
import Saml from './assets/icons/sso-saml.svg';

Logto の [シングルサインオン (SSO) ソリューション](/end-user-flows/enterprise-sso) は、エンタープライズクライアントのアクセス管理を簡素化します。エンタープライズ SSO コネクターは、さまざまなエンタープライズクライアントのために SSO を有効にするために重要です。

これらのコネクターは、サービスとエンタープライズのアイデンティティプロバイダー (IdP) 間の認証 (Authentication) プロセスを容易にします。Logto は、[SP-initiated SSO](/end-user-flows/enterprise-sso/sp-initiated-sso) と [IdP-initiated SSO](/end-user-flows/enterprise-sso/idp-initiated-sso) の両方をサポートしており、組織メンバーが既存の会社の資格情報を使用してサービスにアクセスできるようにし、セキュリティと生産性を向上させます。

## エンタープライズコネクター

Logto は、人気のあるエンタープライズアイデンティティプロバイダーのための事前構築されたコネクターを提供し、迅速な統合を可能にします。カスタムニーズに対しては、[OpenID Connect (OIDC)](https://auth.wiki/openid-connect) および [SAML](https://auth.wiki/saml) プロトコルを介した統合をサポートしています。

### 人気のあるエンタープライズコネクター

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Microsoft Entra ID (OIDC)',
      href: '/integrations/entra-id-oidc',
      customProps: {
        icon: <MicrosoftEntraId />,
      },
    },
    {
      type: 'link',
      label: 'Microsoft Entra ID (SAML)',
      href: '/integrations/entra-id-saml',
      customProps: {
        icon: <MicrosoftEntraId />,
      },
    },
    {
      type: 'link',
      label: 'Google Workspace (OIDC)',
      href: '/integrations/google-workspace',
      customProps: {
        icon: <GoogleWorkspace />,
      },
    },
    {
      type: 'link',
      label: 'Okta (OIDC)',
      href: '/integrations/okta',
      customProps: {
        icon: <Okta />,
      },
    },
  ]}
/>

### エンタープライズコネクターのカスタマイズ

<DocCardList
  items={[
    {
      type: 'link',
      label: 'OIDC (enterprise)',
      href: '/integrations/oidc-sso',
      customProps: {
        icon: <Oidc />,
      },
    },
    {
      type: 'link',
      label: 'SAML (enterprise)',
      href: '/integrations/saml-sso',
      customProps: {
        icon: <Saml />,
      },
    },
  ]}
/>

標準のコネクターが特定の要件を満たさない場合は、お気軽にお問い合わせください。

## エンタープライズコネクターの設定

1. 次に移動します：<CloudLink to="/enterprise-sso">Console > Enterprise SSO</CloudLink>。
2. 「エンタープライズコネクターを追加」ボタンをクリックし、コネクタータイプを選択します。
3. 一意の名前を指定します（例：Okta for Acme Company）。
4. 「接続」タブで IdP との接続を設定します。各コネクタータイプのガイドを確認してください。
5. 「体験」タブで SSO 体験と **メールドメイン** をカスタマイズします。
6. SAML エンタープライズコネクターの場合、「IdP-initiated SSO」タブで IdP-initiated SSO を有効にすることはオプションです。詳細はガイドを参照してください。
7. 変更を保存します。

次の設定に注意してください：

- **メールドメイン**：ユーザーが入力したメールのメールドメインが、いくつかのエンタープライズ SSO コネクターの「エンタープライズメールドメイン」フィールドにある場合、ユーザーはその SSO コネクターの対応するサインイン URL にリダイレクトされます。

  :::note
  SSO コネクターで関連するメールドメインを設定した後、これらのドメインに属するメールでサインインするユーザーは [SSO サインイン](/end-user-flows/enterprise-sso) を強制されることに注意してください。

  言い換えれば、SSO コネクターで設定されていないドメインのメールのみが「メール + 認証コード」または「メール + パスワード」サインインを使用できます（これらのサインイン方法がサインイン体験で有効になっている場合）。
  :::

- **ユーザープロファイルの同期**：ユーザープロファイル情報（例：アバター、名前）をいつ同期するかを選択します。デフォルトの動作は「最初のサインイン時のみ同期」です。「各サインイン時に常に同期」はこのフィールドの別の選択肢ですが、カスタムユーザーデータの上書きにつながる可能性があります。
- **表示情報**：オプションで、コネクターの表示名とロゴをカスタマイズできます。これは、同じメールドメインに複数のコネクターが関連付けられている場合に非常に便利です。ユーザーは、IdP ログインページにリダイレクトされる前に、SSO コネクターボタンのリストから希望する IdP を選択します。

## エンタープライズ SSO の有効化

1. 次に移動します：<CloudLink to="/sign-in-experience/sign-up-and-sign-in">Console > Sign-in experience > Sign-up and sign-in</CloudLink>。
2. 「エンタープライズ SSO」トグルを有効にします。
3. 変更を保存します。

有効にすると、サインインページに「シングルサインオン」ボタンが表示されます。SSO が有効なメールドメインを持つエンタープライズユーザーは、エンタープライズアイデンティティプロバイダー (IdP) を使用してサービスにアクセスできます。SSO ユーザー体験の詳細については、ユーザーフロー：[エンタープライズ SSO](/end-user-flows/enterprise-sso) を参照してください。

## 組織へのジャストインタイム

Logto では、[ジャストインタイム (JIT) プロビジョニング](https://auth.wiki/jit-provisioning) は、ユーザーが初めてシステムにサインインする際に、組織のメンバーシップとロールを自動的に割り当てるためのプロセスです。

Logto は、組織内で SSO コネクター JIT プロビジョニングを設定するためのエントリーポイントを提供しています。詳細は [リファレンス](/organizations/just-in-time-provisioning) を参照してください。

## よくある質問

<details>
<summary>

### エンタープライズ SSO コネクターの変更後の既存ユーザーへの影響は？

</summary>

- SSO の追加：メールが一致する場合、SSO アイデンティティは既存のアカウントにリンクされます。
- SSO の削除：アカウントにリンクされた SSO アイデンティティを削除しますが、ユーザーアカウントは保持され、代替の認証方法を設定するようにユーザーに促します。

</details>

## 関連リソース

<Url href="https://blog.logto.io/idp-vs-sp-initiated-sso">IdP-initiated SSO & SP-initiated SSO</Url>
<Url href="https://blog.logto.io/differences-between-saml-and-oidc">SAML vs. OpenID Connect</Url>
