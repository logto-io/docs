### Tencent Cloud アカウントの作成 \{#create-an-tencent-cloud-account}

[Tencent Cloud のウェブサイト](https://cloud.tencent.com/) にアクセスし、アカウントをお持ちでない場合は登録してください。

### Tencent Cloud SMS の有効化と設定 \{#enable-and-configure-tencent-cloud-sms}

1. [Tencent Cloud のウェブサイト](https://cloud.tencent.com/) でアカウントにサインインし、[SMS サービスコンソールページ](https://cloud.tencent.com/product/sms) に移動します。
2. SMS サービスページで「無料試用」(免费试用) ボタンをクリックし、セットアップ手順に従います。
3. 「SMS サービス開通規約」(短信开通服务条款) に同意し、「サービスを有効化」(开通服务) をクリックして進めます。
4. 「[SMS コンソール概要](https://console.cloud.tencent.com/smsv2)」(短信服务控制台概览) で、サイドバーからニーズに応じて「国内メッセージ」(国内消息) または「国際/香港・マカオ・台湾メッセージ」(国际/港澳台消息) を選択します。
5. SMS メッセージ用のシグネチャとテンプレートを追加します。注意点：
   - 「シグネチャ」(签名) を追加する際は、「適用シナリオ」(模版类型) フィールドで「認証コード」(验证码) を選択してください。
   - テンプレートを追加する際は、テンプレートタイプとして「認証コード」を選択してください。
   - テンプレート内容にはプレースホルダー `{1}` を含めてください。これはランダムに生成されたコードに置き換えられます。
   - 複数のプレースホルダーを含むテンプレートはサポートされていません。単一プレースホルダーのテンプレートを使用または作成してください。
6. シグネチャとテンプレートを審査に提出します。提出後：
   - 有効になるまでお待ちください。
   - 「[SMS コンソール概要](https://console.cloud.tencent.com/smsv2)」(短信服务控制台概览) からテスト SMS を送信できます。承認済みのシグネチャとテンプレートはテストに直接使用できます。審査中の場合は提供されているテスト用テンプレートを使用してください。
   - テスト用にアカウント残高が十分であること、およびテスト用電話番号を事前登録して SMS を正常に受信できるようにしてください。

詳細なガイダンスは、SMS コンソール概要の「新手配置指引」(Getting Started Guide) タブをクリックしてください。

## コネクター JSON の作成 \{#compose-the-connector-json}

1. 「[SMS コンソール概要](https://console.cloud.tencent.com/smsv2)」にアクセスし、右上のアバターにカーソルを合わせます。「アクセス管理 > アクセスキー > API キー」へ進み、セキュリティ認証を完了後に `AccessKey ID` と `AccessKey Secret` を生成します。大切に保管してください。
2. 「国内メッセージ」(国内消息) または「国際/香港・マカオ・台湾メッセージ」(国际/港澳台消息) タブから「シグネチャ名」(签名名称) と「テンプレートコード」(模版 CODCE) を取得します。
   - テスト用テンプレートの場合は、「テスト専用テンプレート」(测试专用签名模版) の下の「快速开始」(Getting Started) タブを確認してください。

- Tencent Cloud SMS コネクターを次のフィールドで設定します：
  - `accessKeyId` および `accessKeySecret`：ステップ 1 で取得した認証情報を使用します。
  - `signName`：ステップ 2 で取得したシグネチャ名。すべてのテンプレートに適用されます。
  - 必要に応じて、異なるシナリオ用に複数のテンプレートを追加できます。単一テンプレートの例：
    - `templateCode`：ステップ 2 で取得したテンプレートコード。
    - `usageType`：シナリオに応じて `Register`、`SignIn`、`ForgotPassword`、`Generic` のいずれかを指定します（Logto 固有のプロパティ）。
    - すべてのシナリオ（4 種類）に対してテンプレートが設定されていることを確認してください。
  - `sdkAppId`：「[アプリケーション管理](https://console.cloud.tencent.com/smsv2/app-manage)」(应用管理) で確認できます。
  - `region`：「[送信ドキュメント](https://cloud.tencent.com/document/api/382/52071#.E5.9C.B0.E5.9F.9F.E5.88.97.E8.A1.A8)」(发送文档) からサポートされているリージョンを指定してください。

### Tencent Cloud SMS コネクターのテスト \{#test-tencent-cloud-sms-connector}

電話番号を入力し、「送信」をクリックすることで、「保存して完了」前に設定が機能するかどうかを確認できます。

以上です。<MainSiteUrl href="/connectors/sms-connectors#enable-phone-number-sign-up-or-sign-in">サインイン体験でコネクターを有効化</MainSiteUrl> するのをお忘れなく。

### 設定タイプ \{#config-types}

| 名前            | 型         |
| --------------- | ---------- |
| accessKeyId     | string     |
| accessKeySecret | string     |
| signName        | string     |
| region          | string     |
| sdkAppId        | string     |
| templates       | Template[] |

| テンプレートプロパティ | 型          | 列挙値                                               |
| ---------------------- | ----------- | ---------------------------------------------------- |
| templateCode           | string      | N/A                                                  |
| usageType              | enum string | 'Register' / 'SignIn' / 'ForgotPassword' / 'Generic' |
