---
slug: /integrations/http-sms
sidebar_label: HTTP SMS
sidebar_custom_props:
  description: HTTP コールで SMS を送信します。
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# HTTP SMS を使用してSMS認証を設定する

HTTP SMS 用の公式 Logto コネクターです。

<GuideTip />

## はじめに \{#get-started}

HTTP SMS コネクターを使うと、HTTP コール経由で SMS メッセージを送信できます。HTTP SMS コネクターを利用するには、SMS メッセージ送信用の HTTP API を公開している独自の SMS サービスが必要です。Logto は SMS を送信する必要がある際にこの API を呼び出します。たとえば、ユーザーが登録したとき、Logto は HTTP API を呼び出して認証用 SMS を送信します。

## HTTP SMS コネクターの設定 \{#set-up-http-sms-connector}

HTTP SMS コネクターを利用するには、Logto から呼び出せる HTTP エンドポイントと、オプションでエンドポイント用の認可トークンを設定する必要があります。

:::tip

認証フローでのエラーを防ぐため、設定した `endpoint` は Webhook を受信した後、2xx レスポンスを返して Logto に SMS 送信通知を受け取ったことを知らせる必要があります。

また、このシナリオでは SMS サービスを監視し、SMS 配信が正常に行われているか確認してください。あるいは、SMS 送信 API に監視機能を追加し、SMS 配信失敗を迅速に検知できるようにすることも可能です。

:::

## ペイロード \{#payload}

HTTP SMS コネクターは、SMS を送信する必要がある際に次のペイロードをエンドポイントへ送信します：

```json
{
  "to": "+1234567890",
  "type": "SignIn",
  "payload": {
    "code": "123456"
  }
}
```

すべてのタイプは [SMS テンプレート](/connectors/sms-connectors/sms-templates) で確認でき、`SendMessageData` の完全な型定義は [connector-kit](https://github.com/logto-io/logto/tree/master/packages/toolkit/connector-kit/src/types/passwordless.ts) で確認できます。
