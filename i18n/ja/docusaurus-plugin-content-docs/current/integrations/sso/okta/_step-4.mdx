スコープ (Scopes) は、アプリがユーザーから要求する権限 (Permissions) を定義し、アプリが Okta アカウントからアクセスできるデータを制御します。追加の Okta 権限 (Permissions) を要求するには、両方の側で設定が必要です：

**Okta 管理コンソールで：**

1. **Applications > Applications** に移動し、OIDC アプリケーションを選択します。
2. **Assignments** タブに移動し、アプリが必要なユーザーやグループにアクセスできることを確認します。
3. カスタムスコープ (Scopes) の場合は、**Security > API > Authorization Servers** に移動し、認可サーバーを選択します。
4. 必要に応じてカスタムスコープ (Scopes) を追加します：
   - **Scopes** をクリックし、**Add Scope** を選択
   - `okta.users.read` や `okta.groups.read` など、Okta API へのアクセス用のスコープ名を定義
   - 各スコープ (Scope) の同意要件を設定

利用可能なスコープ (Scopes) とその説明の完全なリストについては、 [Okta OIDC ドキュメント](https://developer.okta.com/docs/api/openapi/okta-oauth/guides/overview/#scopes) を参照してください。

**Logto Okta コネクターで：**

1. Logto は、基本的なユーザーアイデンティティ情報を取得するために `openid`、`profile`、`email` スコープ (Scopes) を自動的に含めます。基本的なユーザー情報のみが必要な場合は、`Scopes` フィールドを空白のままにできます。
2. トークンを保存して永続的な API アクセスを行う場合は、`Scopes` フィールドに `offline_access` を追加します。このスコープ (Scope) で長期間有効な API アクセス用のリフレッシュ トークン (Refresh token) が有効になります。
3. Okta からさらに多くのデータを取得したい場合は、`Scopes` フィールドに追加のスコープ (Scopes) をスペース区切りで入力します。例：`okta.users.read okta.groups.read`

:::tip

アプリがこれらのスコープ (Scopes) を要求して Okta API へアクセスや操作を行う場合は、Logto Okta コネクターで **Store tokens for persistent API access** を有効にしてください。詳細は次のセクションを参照してください。

:::
