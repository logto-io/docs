Microsoft Entra OIDC アプリケーションの作成が完了したら、IdP 設定情報を Logto に提供する必要があります。Logto コンソールの `Connection` タブに移動し、以下の設定を入力してください：

1. **クライアント ID**：Microsoft Entra によって OIDC アプリケーションに割り当てられた一意の識別子です。この識別子は、OIDC フロー中に Logto がアプリケーションを識別し認証するために使用します。アプリケーションの概要ページで `Application (client) ID` として確認できます。

<center>
  <img src="/img/assets/entra_id_oidc_application_details.webp" alt="Application Details" />
</center>

2. **クライアントシークレット**：新しいクライアントシークレットを作成し、その値を Logto にコピーしてください。このシークレットは、OIDC アプリケーションの認証および Logto と IdP 間の通信のセキュリティ確保に使用されます。

<center>
  <img src="/img/assets/entra_id_oidc_create_secret.webp" alt="Create Secret" />
</center>

3. **発行者 (Issuer)**：発行者 URL は、IdP の一意の識別子であり、OIDC アイデンティティプロバイダーの場所を指定します。これは OIDC 設定の重要な部分であり、Logto が必要なエンドポイントを発見するのに役立ちます。

   これらの OIDC エンドポイントを手動で入力する代わりに、Logto は発行者 URL を利用して IdP のディスカバーエンドポイントにアクセスし、必要な設定や IdP エンドポイントを自動的に取得します。

   発行者 URL を取得するには、アプリケーション概要ページの `Endpoints` セクションで確認できます。

   `OpenID Connect metadata document` エンドポイントを見つけ、その URL から **末尾の** `.well-known/openid-configuration` **を除いた部分** をコピーしてください。Logto は OIDC 設定取得時に自動的に `.well-known/openid-configuration` を発行者 URL に付加します。

<center>
  <img src="/img/assets/entra_id_oidc_endpoints.webp" alt="Endpoints" />
</center>

4. **スコープ (Scope)**（任意）：Logto はすべてのリクエストに必要なスコープ（`openid`、`profile`、`email`）を自動的に含めます。アプリケーションが IdP から追加の権限やアクセスレベルを必要とする場合は、スペース区切りで追加のスコープを指定できます。

`保存` をクリックして設定プロセスを完了してください。
