## DingTalk Open Platform で Web アプリを作成する \{#create-a-web-app-in-the-dingtalk-open-platform}

ヒント：すでに完了しているセクションはスキップできます。

### DingTalk 開発者アカウントを登録する \{#register-a-dingtalk-developer-account}

DingTalk 開発者アカウントをお持ちでない場合は、 [DingTalk Open Platform](https://open.dingtalk.com) で登録してください。

### アプリケーションを作成する \{#create-an-application}

1. DingTalk Open Platform の「[アプリケーション開発](https://open-dev.dingtalk.com/fe/app)」>「社内アプリケーション」>「DingTalk アプリケーション」で「アプリケーション作成」をクリック
2. **アプリケーション名** と **説明** を入力し、「保存」をクリック
3. 左側のナビゲーションバーで「開発設定」>「セキュリティ設定」を選択し、「リダイレクト URL」 `${your_logto_origin}/callback/${connector_id}` を設定します。`connector_id` は管理コンソールで該当コネクターを追加後、コネクター詳細ページで確認できます
4. 左側のナビゲーションバーで「基本情報」>「資格情報と基本情報」を選択し、`Client ID` と `Client Secret` を取得します

### 権限を設定する \{#configure-permissions}

「開発設定」>「権限管理」で `Contact.User.Read` および `Contact.User.mobile` 権限を選択し、認可します

### アプリケーションをリリースする \{#release-application}

左側のナビゲーションバーで「アプリケーションリリース」>「バージョン管理とリリース」を選択し、最初のバージョンを作成してリリースし、`Client ID` と `Client Secret` を有効化します

:::note
アプリケーションがバージョンをリリースしない場合、取得した「Client ID」と「Client Secret」は使用できず、リクエストも失敗します。
:::

## コネクターを設定する \{#configure-your-connector}

前セクションで取得した OAuth アプリ詳細ページの _Client ID（旧 AppKey および SuiteKey）_ と _Client Secret（旧 AppKey および SuiteKey）_ を `clientId` および `clientSecret` フィールドに入力します。

`scope` は現在 2 つの値をサポートしています：`openid` および `openid corpid`。`openid` は認可後にユーザーの `userid` を取得でき、`openid corpid` はログイン時に選択したユーザーの `id` と組織の `id` の両方を取得できます。値はスペース区切りで指定してください。注意：URL エンコードが必要です。

### 設定タイプ \{#config-types}

| 名前         | 型     |
| ------------ | ------ |
| clientId     | string |
| clientSecret | string |
| scope        | string |

## DingTalk コネクターをテストする \{#test-dingtalk-connector}

これで完了です。DingTalk コネクターが利用可能になっているはずです。 [サインイン体験でコネクターを有効化](https://docs.logto.io/docs/recipes/configure-connectors/social-connector/enable-social-sign-in/) するのを忘れずに。

DingTalk Web コネクターを有効化したら、アプリに再度サインインして動作を確認できます。

:::note
開発中は DingTalk Open Platform の利用規約および開発ガイドラインを厳守してください。
:::

## サポート \{#support}

ご質問やさらなるサポートが必要な場合は、 [DingTalk 開発者ドキュメント](https://open.dingtalk.com/document/orgapp/obtain-identity-credentials) をご覧いただくか、DingTalk テクニカルサポートまでお問い合わせください。
