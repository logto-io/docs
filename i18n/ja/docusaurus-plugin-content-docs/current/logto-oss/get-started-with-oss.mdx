---
description: Logto オープンソースサービス (OSS) 初期化のクイックスタートガイド。
sidebar_position: 1
---

import LogtoIcon from '@site/src/assets/logto-logo.svg';
import CoolifyIcon from '@site/src/assets/oss-coolify.svg';
import DokployIcon from '@site/src/assets/oss-dokploy.svg';
import EasypanelIcon from '@site/src/assets/oss-easypanel.svg';
import ElestioIcon from '@site/src/assets/oss-elestio.svg';
import RailwayIcon from '@site/src/assets/oss-railway.svg';
import ZeaburIcon from '@site/src/assets/oss-zeabur.svg';
import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

# OSS で始める

## GitPod \{#gitpod}

Logto のオンライン GitPod ワークスペースを開始するには、<a href="https://gitpod.io/#https://github.com/logto-io/demo" target="_blank" rel="noopener">こちらをクリック</a>してください。しばらく待つと、次のようなメッセージが表示されます：

<p>
  <img
    src="/img/assets/gitpod-running.png"
    alt="Gitpod is running"
    width="720px"
    style={{ borderRadius: '4px' }}
  />
</p>

Logto は、コアサービスに `3001` ポート、インタラクティブな管理コンソールに `3002` ポートをデフォルトで使用します。

Logto の利用を続けるには、Ctrl（または Cmd）を押しながら `https://3002-...` で始まるリンクをクリックしてください。お楽しみください！

## ローカル \{#local}

Logto をホスティングするための最小推奨ハードウェア要件は以下の通りです：

- **vCPU**：2
- **メモリ**：8 GiB
- **ディスク**：256 GiB

<Tabs>

<TabItem value="docker-compose" label="Docker Compose">

Docker Compose CLI は通常 [Docker Desktop](https://www.docker.com/products/docker-desktop) に付属しています。

:::caution
本番環境では当社の docker compose コマンドを使用しないでください！現在、`docker-compose.yml` で Logto アプリと一緒に組み込みの Postgres データベースがバンドルされているため、
コマンドを再実行するたびに新しいデータベースインスタンスが作成され、以前に保存されたデータはすべて失われます。
:::

```bash
curl -fsSL https://raw.githubusercontent.com/logto-io/logto/HEAD/docker-compose.yml | docker compose -p logto -f - up
```

正常に構成されると、次のようなメッセージが表示されます：

</TabItem>

<TabItem value="docker" label="Docker">

<h3>ステップ 1</h3>

[PostgreSQL](https://www.postgresql.org/)@^14.0 インスタンスを用意し、[Logto CLI](/logto-oss/using-cli) を使って Logto 用のデータベースを初期化します：

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto db seed
```

  </TabItem>
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli db seed
```

  </TabItem>

</Tabs>

<h3>ステップ 2</h3>

イメージを取得します：

```bash
# ghcr
docker pull ghcr.io/logto-io/logto:latest
# DockerHub
docker pull svhd/logto:latest
```

<h3>ステップ 3</h3>

コンテナのポートを Logto コアおよび管理アプリにマッピングします（例：`3001:3001` および `3002:3002`）。また、以下の環境変数をコンテナに設定します：

```yml
TRUST_PROXY_HEADER: 1 # Logto の前に HTTPS プロキシ（例：Nginx）がある場合は 1 に設定
ENDPOINT: https://<your-logto-domain> # （任意）カスタムドメインを使用する場合は Logto エンドポイント URL に置き換え
ADMIN_ENDPOINT: https://<your-logto-admin-domain> # （任意）カスタムドメインを使用する場合は Logto 管理 URL に置き換え
DB_URL: postgres://username:password@your_postgres_url:port/db_name # Postgres DSN に置き換え
```

上記すべての環境変数を指定してコンテナを実行します：

```bash
docker run \
  --name logto \
  -p 3001:3001 \
  -p 3002:3002 \
  -e TRUST_PROXY_HEADER=1 \
  -e ENDPOINT=https://<your-logto-domain> \
  -e ADMIN_ENDPOINT=https://<your-logto-admin-domain> \
  -e DB_URL=postgres://username:password@your_postgres_url:port/db_name \
  ghcr.io/logto-io/logto:latest
```

:::tip

- Docker Hub を利用する場合は、`ghcr.io/logto-io/logto:latest` の代わりに `svhd/logto:latest` を使用してください。
- `DB_URL` でホスト IP を参照するには `host.docker.internal` または `172.17.0.1` を使用してください。

:::

最後に、次のようなメッセージが表示されます：

</TabItem>

<TabItem value="npm" label="npm-init">

**前提条件**

- [Node.js](https://nodejs.org/) `^18.12.0`
- [PostgreSQL](https://postgresql.org/) `^14.0`

より高いバージョンでも通常は動作しますが、保証はありません。

Logto 専用の新しい空のデータベースを使用することを推奨しますが、必須ではありません。

**ダウンロードと起動**

ターミナルで：

```bash
npm init @logto@latest
```

初期化プロセスを完了し Logto を起動すると、次のようなメッセージが表示されます：

</TabItem>

</Tabs>

```text
Core app is running at http://localhost:3001
Core app is running at https://your-domain-url
Admin app is running at http://localhost:3002
Admin app is running at https://your-admin-domain-url
```

`http://localhost:3002/` にアクセスして Logto の利用を続けてください。お楽しみください！

<details>

<summary>

### ダウンロード用の代替 URL を使用する \{#using-an-alternative-url-for-downloading}

</summary>

Logto の zip ファイルの URL を指定したい場合は、`--download-url` オプションを使用してください。例：

```
npm init @logto@latest -- --download-url=https://github.com/logto-io/logto/releases/download/v1.2.2/logto.tar.gz
```

NPM で引数を渡すためには、追加の `--` が必要です。

</details>

<details>

<summary>

### 設定（オプション） \{#configuration-optional}

</summary>

Logto は環境変数による設定を採用しており、`.env` ファイルにも対応しています。詳細な使い方や全変数リストは [設定](/concepts/core-service/configuration) をご覧ください。

</details>

_より高度な制御やプログラムによる Logto へのアクセスが必要な場合は、[コアサービス](/concepts/core-service) をご確認ください。_

## ホスティングプロバイダー \{#hosting-providers}

これらの信頼できるホスティングプロバイダーは、Logto のワンクリックインストールテンプレートを提供しています。簡単にデプロイ可能なサービスで、Logto を使った CIAM システムを数秒でセットアップし起動できます。

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Logto Cloud',
      href: 'https://cloud.logto.io',
      description: '簡単に認証統合できる無料開発テナント付きのコスト効率の高いクラウドサービス。',
      customProps: {
        icon: <LogtoIcon />,
      },
    },
    {
      type: 'link',
      label: 'Coolify',
      href: 'https://coolify.io/docs/services/logto/',
      description: 'アプリやデータベース管理が簡単なセルフホスト型 Heroku / Netlify 代替。',
      customProps: {
        icon: <CoolifyIcon />,
      },
    },
    {
      type: 'link',
      label: 'Dokploy',
      href: 'https://docs.dokploy.com/docs/core',
      description: '独自インフラ上でアプリをデプロイするための軽量ツール。',
      customProps: {
        icon: <DokployIcon />,
      },
    },
    {
      type: 'link',
      label: 'Easypanel',
      href: 'https://easypanel.io/docs/templates/logto',
      description: 'Docker でクラウドサーバーを管理するための最新コントロールパネル。',
      customProps: {
        icon: <EasypanelIcon />,
      },
    },
    {
      type: 'link',
      label: 'Elestio',
      href: 'https://elest.io/open-source/logto',
      description:
        'コードやオープンソースソフトウェアをデプロイできる完全管理型 DevOps プラットフォーム。',
      customProps: {
        icon: <ElestioIcon />,
      },
    },
    {
      type: 'link',
      label: 'Railway',
      href: 'https://railway.com/template/07_f_Z',
      description: 'アプリのデプロイやインフラ管理を簡素化します。',
      customProps: {
        icon: <RailwayIcon />,
      },
    },
    {
      type: 'link',
      label: 'Zeabur',
      href: 'https://zeabur.com/docs/marketplace/logto',
      description: '開発者向けにアプリのデプロイ・スケーリング・監視を簡素化します。',
      customProps: {
        icon: <ZeaburIcon />,
      },
    },
  ]}
/>

サードパーティサービスプロバイダーに関するカスタマーサポートは提供していません。サポートチャネルをご利用の場合は、[Logto Cloud](https://cloud.logto.io) でデプロイしてください。ご了承ください。

## アカウント作成 \{#create-an-account}

Logto のホスティングが完了したら、ウェルカムページで「アカウント作成」をクリックしてください。オープンソース版 Logto では、初回起動時に 1 アカウントのみ作成可能で、複数アカウントには対応していません。アカウント作成はユーザー名とパスワードの組み合わせのみとなります。

:::tip
Logto OSS（セルフホスト）は複数管理者の設定に対応していません。チームでの共同作業や複数管理者が必要なプロジェクトには、チーム管理機能が充実した [Logto Cloud](https://cloud.logto.io) のご利用をおすすめします。
:::

## 関連リソース \{#related-resources}

<Url href="https://blog.logto.io/local-https">ローカル HTTPS 開発への対応</Url>
