---
sidebar_position: 2
---

# ユーザー管理

## Logto Console で管理する \{#manage-via-logto-console}

### ユーザーの閲覧と検索 \{#browse-and-search-users}

Logto Console でユーザー管理機能にアクセスするには、 <CloudLink to="/users">Console > ユーザー管理</CloudLink> に移動します。そこでは、すべてのユーザーがテーブル形式で表示されます。

テーブルは次の 3 列で構成されています：

- **ユーザー**：ユーザーのアバター、氏名、ユーザー名、電話番号、メールアドレスなどの情報を表示します
- **アプリケーションから**：ユーザーが最初に登録したアプリケーション名を表示します
- **最新のサインイン**：ユーザーの最新サインインのタイムスタンプを表示します。

[`name`](/user-management/user-data#name)、[`id`](/user-management/user-data#id)、[`username`](/user-management/user-data#username)、[`primary-phone`](/user-management/user-data#primary_phone)、[`primary-email`](/user-management/user-data#primary_email) のキーワードマッピングに対応しています。

### ユーザーの追加 \{#add-users}

Console を使用して、開発者はエンドユーザーの新しいアカウントを作成できます。画面右上の「ユーザー追加」ボタンをクリックしてください。

新しいユーザーが作成された後、**入力した識別子（メールアドレス / 電話番号 / ユーザー名）** と **初期パスワード** をコピーして送信できます。これにより、ユーザーはシステムにログインして利用を開始できます。

初期パスワードは一度しか表示されませんが、後で [パスワードをリセット](/end-user-flows/sign-up-and-sign-in/reset-password) できます。

### ユーザープロフィールの表示と更新 \{#view-and-update-the-user-profile}

ユーザーの詳細を表示するには、ユーザーテーブルの該当行をクリックしてください。これにより「**ユーザー詳細**」ページに移動し、ユーザーのプロフィール情報を確認できます：

- **認証 (Authentication) 関連データ**：メールアドレス、電話番号、ユーザー名、パスワード有無、ソーシャル接続、エンタープライズシングルサインオン (SSO) 接続、多要素認証 (MFA)、個人用アクセストークン
- **ユーザープロフィールデータ**：氏名、アバター URL、カスタムデータ、および追加の OpenID Connect 標準クレーム（含まれていないもの）

「ソーシャル接続」セクションには、ユーザーがアカウントにリンクしたソーシャルコネクターの一覧が表示されます。たとえば、ユーザーが Facebook アカウントでサインインした場合、リストに「Facebook」が表示されます。詳細は [ソーシャルアイデンティティ](/user-management/user-data/#social-identities) ドキュメントを参照してください。

氏名、アバター画像 URL、カスタムデータは編集可能ですが、ソーシャル接続は削除でき、その他のプロパティは読み取り専用です。

:::warning

ソーシャル接続を削除する前に、他のソーシャル接続、電話番号、メールアドレス、またはユーザー名＋パスワードなど、ユーザーが代替のサインイン方法を持っていることを必ず確認してください。もし他のサインイン方法がない場合、ソーシャル接続を削除するとアカウントに再度アクセスできなくなります。

:::

### ユーザーアクティビティの表示 \{#view-user-activities}

ユーザーの最近のアクティビティを表示するには、「ユーザー詳細」ページの「ユーザーログ」サブタブに移動します。ここでは、ユーザーが実行したアクション、アクションの結果、関連アプリケーション、アクションの実行時刻など、最近のアクティビティがテーブルで表示されます。

テーブル行をクリックすると、IP アドレス、ユーザーエージェント、生データなど、ユーザーログの詳細を確認できます。

### ユーザーの一時停止 \{#suspend-user}

「ユーザー詳細」ページで「三点リーダー」→「ユーザーを一時停止」ボタンをクリックします。

ユーザーが一時停止されると、アプリへのサインインができなくなり、現在のアクセストークンの有効期限が切れた後は新しいアクセストークンも取得できません。また、このユーザーによる API リクエストもすべて失敗します。

ユーザーを再有効化したい場合は、「三点リーダー」→「ユーザーを再有効化」ボタンをクリックしてください。

### ユーザーの削除 \{#delete-user}

「ユーザー詳細」ページで「三点リーダー」→「削除」ボタンをクリックします。ユーザーの削除は元に戻せません。

### ユーザーパスワードのリセット \{#reset-user-password}

「ユーザー詳細」ページで「三点リーダー」→「パスワードをリセット」ボタンをクリックします。

パスワードをリセットした後は、そのパスワードをコピーしてエンドユーザーに送信してください。「パスワードをリセット」モーダルを閉じるとパスワードは再表示できません。控え忘れた場合は再度リセットできます。

### ユーザーのロール管理 \{#manage-roles-of-users}

ユーザー詳細ページの「ロール」タブで、ロールの割り当てや削除が簡単に行えます。詳細は [ロールベースのアクセス制御 (RBAC)](/authorization/role-based-access-control) を参照してください。

### ユーザーが所属する組織の表示 \{#view-the-organizations-the-user-belongs-to}

Logto は [組織](/organizations/organization-management) をサポートしており、そのメンバー管理が可能です。ユーザー詳細を簡単に確認し、どの組織に所属しているかを確認できます。

## Logto Management API で管理する \{#manage-via-logto-management-api}

[Management API](/concepts/core-service/#management-api) は、Logto バックエンドサービスへのアクセスを提供する API 群です。前述の通り、ユーザー API はこのサービスの重要なコンポーネントであり、さまざまなシナリオをサポートできます。

ユーザー関連の [RESTful](https://en.wikipedia.org/wiki/Representational_state_transfer) API は `/api/users` にマウントされています（ユーザーアクティビティ、すなわちユーザーログ `/api/logs?userId=:userId` を除く）。

Management API を利用して、[高度なユーザー検索](/user-management/advanced-user-search)、[一括アカウント作成](https://openapi.logto.io/operation/operation-createuser)、[招待制サインアップ](/end-user-flows/sign-up-and-sign-in/disable-user-registration) など、さまざまなユースケースでユーザー管理が可能です。

## よくある質問 \{#faqs}

<details>

<summary>

### 特定のユーザーに対して特定のアプリケーションへのアクセスを制限するには？ \{#how-to-restrict-access-to-certain-application-for-specific-users}

</summary>

Logto の [Omni-sign-in](https://logto.io/products/omni-sign-in) の特性上、認証 (Authentication) 前に特定のアプリケーションへのユーザーアクセスを制限する設計にはなっていません。
ただし、アプリケーション固有のユーザーロールや権限を設計し、API リソースを保護することは可能です。ユーザーがサインインした後、API アクセス時に権限を検証してください。
詳細は認可 (Authorization)：[ロールベースのアクセス制御 (RBAC)](/authorization/role-based-access-control) を参照してください。

</details>
