---
id: billing-and-pricing
title: 請求と価格設定
sidebar_position: 5
---

# 請求と価格設定

Logto では、[Pro プラン](https://logto.io/pricing) は完全なセルフサービス型で、透明性を重視しているため、請求内容を簡単に把握・管理できます。

## 構造の理解 \{#understand-the-structure}

基本的な構造は次のようになります：

```math
\begin{align*}
\text{次回の請求額} &= \$16 \text{（基本料金）} \\
&+ \text{アドオン費用（未請求分の利用）} \\
&+ \text{アドオン費用（次回サイクル分の請求）}
\end{align*}
```

コンソールのテナント設定セクションには「次回の請求額」セクションがあり、今後の請求内容を確認・管理できます。

<img src="/img/assets/next-billing-info.png" alt="次回の請求情報" />

## 項目の内訳 \{#item-breakdown}

アドオン構造に含まれる機能は一部のみです。

同時に、Logto では従量課金制および日割り課金モデルも提供しており、サービスを便利に最大限活用できます。

|                                              | 含まれるクォータ                | 追加費用                  |
| -------------------------------------------- | ------------------------------- | ------------------------- |
| **トークン**                                 | 100K                            | $0.08 / 月 / 100 超過ごと |
| **マシン間通信アプリ**                       | 1                               | $8 **_ごと_** / 月        |
| **API リソース**                             | 3                               | $4 **_ごと_** / 月        |
| **エンタープライズシングルサインオン (SSO)** | 0                               | $48 **_ごと_** / 月       |
| **多要素認証 (MFA)**                         | _N/A_                           | $48 / 月                  |
| **組織**                                     | 無制限の組織 & すべての組織機能 | $48 / 月                  |
| **高度なセキュリティバンドル**               | すべての高度なセキュリティ機能  | $48 / 月                  |
| **テナントメンバー**                         | 3                               | $8 **_ごと_** / 月        |

これらの要素を考慮すると、アルゴリズムは次のようになります。

```math
\begin{align*}
\text{次回の請求額} &= \$16 \\
&+ \text{アドオン単価} \times \\
\quad & (\text{追加数} \times \text{作成時の日割り残期間} \\
\quad &- \text{削除数} \times \text{削除時の日割り残期間}) \\
\quad &+ \text{アドオン単価} \times \text{次回サイクル分の数量}
\end{align*}
```

1. **アドオン単価**：このアドオンの単価
2. **追加数**：**_現在_**の請求サイクルで追加したアドオンの数
3. **削除数**：**_現在_**の請求サイクルで削除したアドオンの数
4. **作成時の日割り残期間**：リソースを作成した時点での**_現在_**サイクルの日割り残期間
5. **削除時の日割り残期間**：リソースを削除した時点での**_現在_**サイクルの日割り残期間
6. **次回サイクル分の数量**：**_次回_**サイクルで継続的に請求される数量

2 つの例で仕組みを見てみましょう。

### 例 1: 変更がなければ請求額は一定 \{#example-1-consistent-billing-with-no-changes}

アイテムの追加や削除などの変更を行わなければ、請求額は一定のままです。

例えば、Pro プランで SSO サービスを 2 つ利用している場合、変更がなければ請求額は変わりません。

```math
\text{次回の請求額} = \$ 16 + \$ 48 \times 2 = \$ 112
```

### 例 2: アドオンの追加や変更で請求額が変動 \{#example-2-adding-add-ons-or-making-changes-will-affect-your-upcoming-bills}

ケースによって次回の請求額が少し変わりますが、アルゴリズムは同じです。

**ケース 1: Pro プランにアドオンなしで加入し、エンタープライズシングルサインオン (SSO) を 10 日間だけテストした場合。**

毎月 5 日にサブスクリプションが更新され、20 日にエンタープライズシングルサインオン (SSO) を追加した場合、その月は 15 日間利用したことになります。30 日に削除した場合、実際の利用は 10 日間です。

```math
\$16 + \$48 \times (1 \times 15 / 30) - \$48 \times (1 \times 5 / 30) = \$32
```

**ケース 2: Pro プランにアドオンなしで加入し、API リソースを追加・削除した結果、最終的に 5 つの API リソースを利用した場合**

この場合、請求サイクル中にアドオン機能を更新したため、変更内容は次回の請求に反映されます。変更後の最初の月はやや高くなる場合があります。請求額には $16 の基本料金、未請求分のアドオン費用、次回サイクル分の全額が含まれます。

請求サイクルは毎月 1 日に開始し、最初の 3 つの API リソースは無料で利用しています。今月は次の 2 つの操作を行いました：

1. 5 日に 4 つのリソースを追加
2. 15 日にそのうち 2 つのリソースを削除

結果として、次回サイクルでは 2 つの API リソースが継続的に利用されます。

```math
\$16 + \$8 \times (4 \times 25 - 2 \times 15) / 30 + 2 \times \$8 = \$50.67
```

### アドオン利用時間はどのように決まるのか？ \{#how-is-the-add-on-usage-time-determined}

Logto は従量課金制を採用しており、リソースを頻繁に追加・削除した場合どうなるのか疑問に思うかもしれません。アドオンは、実際にアクティブだった期間のみ利用とみなされます。ご安心ください — Stripe によるシステムが、利用時間を秒単位で計算し、各リソースの利用期間に基づいて正確に請求します。

Pro プランを解約した場合、未使用分のアドオン費用は返金され、最終請求額から差し引かれます。

## アップグレードまたはダウングレード \{#upgrade-or-downgrade}

### Free プランから Pro へのアップグレード \{#free-plan-upgrade-to-pro}

アップグレードやダウングレードは本番テナントのみに適用されます。Free プランからのアップグレードを検討する状況は次の通りです：

1. MAU またはトークン利用量がクォータを超えた場合、適切なタイミングでメール通知をお送りします。
2. プレミアムプラン限定機能を利用したい場合。

### Pro プランから Enterprise へのアップグレード \{#pro-plan-upgrade-to-enterprise}

Pro プランで要件を満たせず、エンタープライズレベルのサポートが必要な場合は、[お問い合わせ](https://logto.io/contact) よりカスタムエンタープライズプランについてご相談ください。

### Pro プランから Free プランへのダウングレード \{#pro-plan-downgrade-to-free-plan}

Pro プランの利用を停止する場合、Free プランへ切り替え可能ですが、Free プランのクォータ内に収まるよう利用状況を調整する必要があります。

## 今後の価格プラン変更について \{#future-pricing-plan-change}

安定的かつ予測可能な請求体験を提供するため、価格変更が発生した場合は現在のプランをそのまま維持（グランドファザー）します。

## よくある質問 \{#faqs}

<details>

<summary>

### トークン消費量と MAU の関係は？ \{#what-is-the-connection-between-token-consumption-and-mau}

</summary>

Logto はトークンベースの認証 (Authentication) を採用しています。1 回のユーザーサインインで、ID トークン、アクセス トークン、リフレッシュ トークンの 2 ～ 3 種類のトークンが消費される場合があります。M2M や組織 (Organization) 機能を利用する場合は、M2M トークンや組織トークンなど追加のトークンも発生します。トークン消費量は、ユーザーのシステム利用状況によって異なります。これを把握できるよう、<CloudLink to="/dashboard">コンソール > ダッシュボード</CloudLink> でリアルタイムのトークン利用状況を確認できます。例えば、Free プランでは 100k トークンが無料で提供されており、約 30k～50k MAU（アクティブユーザー）をサポートできます。

</details>

## 関連リソース

<Url href="https://logto.io/pricing">Logto の詳細な価格表</Url>
