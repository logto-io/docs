---
id: billing-and-pricing
title: 請求と価格設定
sidebar_position: 5
---

# 請求と価格設定

Logto では、[Pro プラン](https://logto.io/pricing) は完全なセルフサーブ型で提供されており、透明性を重視しているため、請求内容を簡単に把握・管理できます。

## 構造の理解 \{#understand-the-structure}

基本的な構造は次のようになります：

```math
\begin{align*}
\text{次回の請求額} &= \$24 \text{（基本料金）} \\
&+ \text{アドオン費用（未請求分の利用）} \\
&+ \text{アドオン費用（次回サイクル分）}
\end{align*}
```

コンソールのテナント設定セクションには「次回の請求額」セクションがあり、今後の請求内容を確認・管理できます。

<img src="/img/assets/next-billing-info.png" alt="次回の請求情報" />

## 項目の内訳 \{#item-breakdown}

アドオン構造に含まれる機能は一部のみであることに注意してください。

同時に、Logto では従量課金および日割り課金モデルも提供しており、便利にサービスを最大限活用できます。

|                                              | 含まれるクォータ                | 追加費用             |
| -------------------------------------------- | ------------------------------- | -------------------- |
| **トークン**                                 | 50,000                          | 100 あたり月額 $0.08 |
| **マシン間通信アプリ**                       | 1                               | 1 つあたり月額 $8    |
| **API リソース**                             | 3                               | 1 つあたり月額 $4    |
| **エンタープライズシングルサインオン (SSO)** | 0                               | 1 つあたり月額 $48   |
| **多要素認証 (MFA)**                         | すべての要素                    | 月額 $48             |
| **組織 (Organization)**                      | 無制限の組織 & すべての組織機能 | 月額 $48             |
| **ロールベースのアクセス制御 (RBAC)**        | 無制限のロールと権限            | 月額 $32             |
| **SAML アプリ**                              | 0                               | 1 つあたり月額 $96   |
| **サードパーティアプリ**                     | 0                               | 1 つあたり月額 $8    |
| **高度なセキュリティバンドル**               | すべての高度なセキュリティ機能  | 月額 $48             |
| **テナントメンバー**                         | 1                               | 1 人あたり月額 $8    |

これらの要素を考慮すると、アルゴリズムは次のようになります。

```math
\begin{align*}
\text{次回の請求額} &= \$24 \\
&+ \text{アドオン単価} \times \\
\quad & (\text{追加数} \times \text{作成時の日割り残存期間} \\
\quad &- \text{削除数} \times \text{削除時の日割り残存期間}) \\
\quad &+ \text{アドオン単価} \times \text{次回サイクル分の残数}
\end{align*}
```

1. **アドオン単価**：このアドオンの単価
2. **追加数**：**_現在_** の請求サイクルで追加したアドオン数
3. **削除数**：**_現在_** の請求サイクルで削除したアドオン数
4. **作成時の日割り残存期間**：リソースを作成した時点での **_現在_** サイクルの日割り残存期間
5. **削除時の日割り残存期間**：リソースを削除した時点での **_現在_** サイクルの日割り残存期間
6. **次回サイクル分の残数**：**_次回_** サイクルで継続請求される必要がある数

2 つの例で仕組みを見てみましょう。

### 例 1: 変更がなければ請求額は一定 \{#example-1-consistent-billing-with-no-changes}

アイテムの追加や削除などの変更を行わなければ、請求額は一定のままです。

例えば、Pro プランで SSO サービスを 2 つ利用している場合、変更がなければ請求額は変わりません。

```math
\text{次回の請求額} = \$ 24 + \$ 48 \times 2 = \$ 120
```

### 例 2: アドオンの追加や変更で請求額が変動 \{#example-2-adding-add-ons-or-making-changes-will-affect-your-upcoming-bills}

ケースによって次回の請求額が少し変動しますが、アルゴリズムは同じです。

**ケース 1: Pro プランにアドオンなしで加入し、エンタープライズシングルサインオン (SSO) を 10 日間だけテストした場合**

毎月 5 日にサブスクリプションが更新され、20 日にエンタープライズ SSO を追加した場合、その月は 15 日間利用したことになります。30 日に SSO を削除した場合、実際の利用は 10 日間です。

```math
\$24 + \$48 \times (1 \times 15 / 30) - \$48 \times (1 \times 5 / 30) = \$40
```

**ケース 2: Pro プランにアドオンなしで加入し、API リソースを追加・削除した結果、5 つの API リソースを利用した場合**

この場合、請求サイクル中にアドオン機能を更新したため、変更内容は次回の請求に反映されます。変更後の最初の月はやや高くなる場合があります。請求額には $24 の基本料金、未請求分のアドオン費用、次回サイクル分の全額が含まれます。

請求サイクルは毎月 1 日に開始し、最初の 3 つの API リソースは無料で利用しています。今月は次の 2 つの操作を行いました：

1. 5 日に 4 つのリソースを追加
2. 15 日にそのうち 2 つのリソースを削除

結果として、次回サイクルには 2 つの API リソースが継続利用されます。

```math
\$24 + \$8 \times (4 \times 25 - 2 \times 15) / 30 + 2 \times \$8 = \$58.67
```

### アドオン利用時間の算出方法 \{#how-is-the-add-on-usage-time-determined}

Logto は従量課金モデルを採用しており、リソースを頻繁に追加・削除した場合どうなるのか疑問に思うかもしれません。アドオンは、実際に有効だった期間のみ利用とみなされます。ご安心ください。Stripe によるシステムが、利用時間を秒単位で計算し、各リソースの利用期間に基づいて正確に請求します。

Pro プランのサブスクリプションを解約した場合、未使用分のアドオン費用は返金され、最終請求額から差し引かれます。

## アップグレードまたはダウングレード \{#upgrade-or-downgrade}

### Free プランから Pro へのアップグレード \{#free-plan-upgrade-to-pro}

Free プランからのアップグレードを検討すべき状況は次の通りです：

1. MAU またはトークンの利用がクォータを超えた場合
2. Pro プランでのみ利用可能な機能を利用したい場合

### 開発テナントから Pro へのアップグレード \{#dev-tenant-upgrade-to-pro}

現在開発テナントを利用していて、本番用の Pro プランに切り替えたい場合も簡単に移行できます：

1. 作業内容の保持：すべての設定、アプリケーション、構成が Pro プランに引き継がれます。
2. 即時アクセス：変換後すぐに Pro プランのすべての機能と高いクォータを利用できます。

開発テナントを Pro プランに変換するには、<CloudLink to="/tenant-settings/settings">コンソール > テナント設定 > 設定</CloudLink> に移動し、「変換」をクリックしてください。

### Pro プランから Enterprise へのアップグレード \{#pro-plan-upgrade-to-enterprise}

Pro プランで要件を満たせず、エンタープライズレベルのサポートが必要な場合は、[お問い合わせ](https://logto.io/contact) よりカスタムエンタープライズプランについてご相談ください。

### Pro プランから Free プランへのダウングレード \{#pro-plan-downgrade-to-free-plan}

Pro プランの利用を停止する場合は、Free プランへ切り替え可能ですが、Free プランのクォータ内に収まるよう利用状況を調整する必要があります。

## 今後の価格プラン変更について \{#future-pricing-plan-change}

安定かつ予測可能な請求体験を確保するため、Logto は価格変更がある場合は必ず事前に通知します。ご利用中のプランや利用状況に応じて、1. 現在のプランを据え置き、または 2. 新プランへの移行猶予期間を設ける場合があります。

Logto はこれらの調整を公平かつ配慮をもって行い、最終的な解釈権を留保します。

## エンタープライズ顧客の価格設定について \{#enterprise-customer-pricing-considerations}

エンタープライズ顧客の場合、価格は契約内容に基づきます。1. 契約外のセルフサービス追加分は Pro プランのアドオン・従量課金構造に従います。2. 契約クォータ超過分は契約で定められたアドオン単価で請求されます。3. 契約に含まれない新機能は最新の Pro プラン価格に従います。

エンタープライズ向けの詳細な価格条件については、[エンタープライズ営業チームまでお問い合わせ](https://logto.io/contact) ください。

## よくある質問 (FAQs) \{#faqs}

<details>

<summary>

### トークン消費と MAU の関係は？ \{#what-is-the-connection-between-token-consumption-and-mau}

</summary>

Logto は OAuth 2.0 および OpenID Connect 標準に準拠した **トークンベースの認証 (Authentication)** を採用しています。各認証 (Authentication) または認可 (Authorization) リクエストごとに、Logto はユーザーの認証 (Authentication) または認可 (Authorization) 状態を表すトークン（アクセス トークン、ID トークン、リフレッシュ トークンなど）を発行します。

請求の観点では、**アクセス トークンのみがカウントされます**（ID トークンおよびリフレッシュ トークンは除外）。

**アクセス トークン** は、次のシナリオで発行・カウントされます：

- **ユーザーサインイン**：ユーザーが正常にサインインした後、不透明トークンが発行されます。このトークンは UserInfo エンドポイントや Logto Account API でアカウント管理に利用できます。
- **バックエンド API 認可 (RBAC)**：ロールベースのアクセス制御 (RBAC) を有効にしてバックエンド API を保護する場合、ユーザーの初回認証 (Authentication) 後、リソースごとの認可 (Authorization) リクエストごとに JWT アクセス トークンが発行されます。詳しくは [RBAC](https://docs.logto.io/authorization/role-based-access-control) や API の [保護](https://docs.logto.io/authorization/global-api-resources) をご覧ください。
- **組織認可 (Authorization)**：組織機能が有効な場合、Logto は組織レベルのアクセス制御を提供し、組織トークンを発行します。組織ごとの認可 (Authorization) リクエストごとに個別の組織トークンが生成されます。組織レベルの [認可 (Authorization)](https://docs.logto.io/authorization/organization-permissions) や API の [保護](https://docs.logto.io/authorization/organization-level-api-resources) もご覧ください。
- **マシン間通信 (M2M) 認可 (Authorization)**：`client_credentials` 認可 (Authorization) リクエストごと（例：Logto Management API へのアクセス時）にアクセス トークンが発行されます。
- **トークン交換**：パーソナルアクセストークン交換やユーザーなりすましトークン交換時に新しいアクセス トークンが発行されます。[パーソナルアクセストークン](https://docs.logto.io/user-management/personal-access-token) や [ユーザーなりすまし](https://docs.logto.io/developers/user-impersonation) もご覧ください。
- **リフレッシュ トークン利用**：`offline_access` が有効な場合、有効なリフレッシュ トークンが前回のトークン失効後に交換されるたびに新しいアクセス トークンが発行されます。

**トークン vs. MAU とトークンベース課金の優位性**

MAU ベース課金は、アクティビティに関係なく月ごとのユニークユーザー数で課金されます。一方、トークンベース課金は実際の利用量、つまり **アクセス トークン** が発行されるたびに課金されます。

トークンベース課金は真の従量課金モデルです。MAU ベースモデルのように利用の有無にかかわらず月額課金されるのではなく、実際の認証 (Authentication)・認可 (Authorization) アクティビティ分だけ支払います。この方式は、たまにしかアクセスしない低頻度ユーザーにとって **コストを抑えやすい** ため、トークン発行数が少なく、MAU 一律課金よりも安価になります。つまり、**Logto は競合他社よりコスト効率が高い** ということです。特に利用頻度が多様なアプリケーションに最適です。

例えば、1 回のサインインで 1 つのアクセス トークンが消費されます。M2M や組織機能を利用すると追加のトークンが発行される場合があります。Logto では <CloudLink to="/tenant-settings/subscription">コンソール > 設定 > プランと請求</CloudLink> で **リアルタイムのトークン利用状況** を確認でき、プロジェクトごとの MAU とトークンの関係を把握しやすくなっています。

</details>

## 関連リソース \{#related-resources}

<Url href="https://logto.io/pricing">Logto の詳細な価格表</Url>
