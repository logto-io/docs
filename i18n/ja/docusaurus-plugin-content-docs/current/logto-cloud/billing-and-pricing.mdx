---
id: billing-and-pricing
title: 請求と価格設定
sidebar_position: 5
---

# 請求と価格設定

Logto では、[Pro プラン](https://logto.io/pricing) は完全にセルフサービスで、透明性を重視して設計されており、請求を簡単に理解し管理できます。

## 構造を理解する

基本的な構造は次のようになります：

```math
\text{次回の請求} = \$16\text{ (基本価格)} + \text{アドオンコスト (未請求の使用量)} + \text{アドオンコスト (次回サイクルの請求)}
```

コンソールでは、テナント設定セクションに「次回の請求」セクションがあり、今後の請求を監視し管理できます。

![次回の請求情報](./assets/next-billing-info.png)

## 項目の内訳

アドオン構造に含まれる機能はごく一部です。

同時に、Logto は従量課金制と日割り計算の価格モデルも提供しており、サービスを便利に最大限に活用できます。

|                          | 無料枠 | 追加コスト                   |
| ------------------------ | ------ | ---------------------------- |
| **トークン**             | 100万  | $80 **_100万_** トークンごと |
| **マシン間通信アプリ**   | 1      | $8 **_各_** 月ごと           |
| **API リソース**         | 3      | $4 **_各_** 月ごと           |
| **エンタープライズ SSO** | 0      | $48 **_各_** 月ごと          |
| **多要素認証 (MFA)**     | _N/A_  | $48 月ごと                   |
| **組織**                 | _N/A_  | $48 月ごと                   |
| **テナントメンバー**     | 3      | $8 **_各_** 月ごと           |

これらの要素を考慮に入れると、アルゴリズムは次のようになります

```math
\begin{align*}
\text{次回の請求} &= \$16 \\
&+ \text{アドオン単価} \times \\
\quad & (\text{追加された数量} \times \text{作成時の残りのプロレート時間} \\
\quad &- \text{削除された数量} \times \text{削除時の残りのプロレート時間}) \\
\quad &+ \text{アドオン単価} \times \text{残りの数量}
\end{align*}
```

1. **アドオン単価**: このアドオンの単価
2. **追加された数量**: **_現在の_** 請求サイクルで追加されたアドオンの量
3. **削除された数量**: **_現在の_** 請求サイクルで削除されたアドオンの量
4. **作成時の残りのプロレート時間**: リソースを作成したときの **_現在の_** サイクルでの残りのプロレート時間
5. **削除時の残りのプロレート時間**: リソースを削除したときの **_現在の_** サイクルでの残りのプロレート時間
6. **残りの数量**: **_次回の_** サイクルでの一貫した請求に必要な量

2つの例を見て、どのように機能するかを確認しましょう。

### 例 1: 変更なしで一貫した請求

アイテムを追加または削除するなどの変更を行わない場合、請求は一貫して維持されます。

例えば、Pro プランを利用していて、2つの SSO サービスを使用している場合、変更を行わない限り、請求は一貫して維持されます。

```math
\text{次回の請求} = \$ 16 + \$ 48 \times 2 = \$ 112
```

### 例 2: アドオンの追加や変更が今後の請求に影響を与える

これは、異なるケースに基づいて今後の請求を少し異なるものにします。アルゴリズムは依然として機能します。

**ケース 1: Pro プランに加入し、エンタープライズ SSO を 10 日間だけテストした場合。**

サブスクリプションが毎月 5 日に更新され、20 日にエンタープライズ SSO を追加した場合、その月に 15 日間使用します。30 日にエンタープライズ SSO を削除した場合、10 日間だけ使用したことになります。

```math
\$16 + \$48 \times (1 \times 15 / 30) - \$48 \times (1 \times 5 / 30) = \$32
```

**ケース 2: Pro プランに加入し、API リソースを追加および削除した後、5 つの API リソースを使用した場合**

この場合、請求サイクル中にアドオン機能を更新したため、変更は次回の請求に反映されます。変更後の最初の月は少し高くなるかもしれません。請求には、$16 の基本価格、未請求の使用量に対するアドオンコスト、および次回の定期サイクルの全額が含まれます。

請求サイクルは毎月 1 日に始まり、最初の 3 つの無料 API リソースを使用しました。この月に、2 つのアクションを実行しました：

1. 5 日に 4 つのリソースを追加しました。
2. 15 日にそのうちの 2 つのリソースを削除しました。

その結果、次回のサイクルで一貫して 2 つの API リソースを利用できるようになります。

```math
\$16 + \$8 \times (4 \times 25 - 2 \times 15) / 30 + 2 \times \$8 = \$50.67
```

### アドオンの使用時間はどのように決定されますか？

従量課金制を採用しており、リソースを頻繁に追加または削除した場合に何が起こるか疑問に思うかもしれません。アドオンは、アクティブである正確な期間に使用されていると見なされます。心配しないでください。Stripe によって強化されたシステムが、各リソースが使用されている正確な時間に基づいて請求を正確に計算します。

Pro プランを解約した場合、未使用のアドオンコストを返金し、その金額は最終請求から差し引かれます。

## アップグレードまたはダウングレード

### 無料プランから Pro へのアップグレード

アップグレードとダウングレードは、プロダクションテナントにのみ適用されます。無料プランからのアップグレードを検討する必要がある状況は次のとおりです：

1. MAU またはトークンの使用量が無料枠を超えた場合、適切なタイミングでアップグレードの必要性を通知するメールアラートを送信します。
2. プレミアムプランでのみ利用可能な機能にアクセスしたい場合。

### Pro プランからエンタープライズへのアップグレード

Pro プランがニーズを満たさず、完全なエンタープライズレベルのサポートをお求めの場合は、カスタムエンタープライズプランについて [お問い合わせ](https://logto.io/contact) ください。

### Pro プランから無料プランへのダウングレード

Pro プランの使用を停止することを選択した場合、無料プランに切り替えることができますが、無料プランのクォータに収まるように使用量を調整する必要があります。

## 将来の価格プランの変更

安定した予測可能な請求体験を提供するために、価格変更が発生した場合、現在のプランを引き継ぎます。
