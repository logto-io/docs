---
sidebar_position: 4
---

# ローカライズ言語

Logto は幅広い事前定義された言語をサポートしており、さらに 113 の追加言語タグを提供しています。この強力なツールにより、サインイン体験をカスタマイズし、独自の言語オプションや翻訳を作成・管理できます。

## Logto コンソールでのカスタマイズ手順 \{#customization-steps-in-logto-console}

Logto コンソールでコーディング不要で簡単に言語設定をカスタマイズできます。

1. **移動先**：<CloudLink to="/sign-in-experience/content">コンソール > サインイン体験 > コンテンツ > 言語</CloudLink>
2. **言語の管理**：「言語を管理」ボタンをクリックして言語ライブラリにアクセスします。
   - **既存言語の編集**：Logto が提供する言語の翻訳をカスタマイズできます。これらの言語は削除できませんが、変更内容がデフォルト値を上書きします。
   - **新しい言語の追加**：「言語を追加」ボタンをクリックし、言語タグを選択、翻訳を入力して保存すると新しい言語が追加されます。
3. **自動検出の有効化**：有効にすると、ユーザーのデバイス設定に基づいてサインインページが自動的にユーザーの優先言語で表示されます。
4. **デフォルト言語の設定**：言語ライブラリからデフォルト言語を選択できます。検出されたユーザー言語が現在の言語ライブラリに含まれていない場合に使用されます。

言語を管理する際に理解しておきたい主な用語は以下の通りです：

| 定義           | 説明                                                                                                                                                                           |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 言語タグ       | 言語タグはコンテンツの言語を識別します。言語タグは言語コード（例：en, fr, zh）と国／地域コード（例：US, UK, KR）をハイフンで区切って構成されます。例：en-US のようになります。 |
| Logto 提供言語 | Logto 提供言語は Logto 公式の言語であり、Logto のオリジナルコードベースに保存されています。                                                                                    |
| 追加言語       | 追加言語はユーザーによって追加された言語です。                                                                                                                                 |
| Logto ソース値 | Logto ソース値は、ユーザーによってカスタマイズされていない Logto から提供された値です。                                                                                        |
| カスタム値     | カスタム値は、ユーザーによってすでにカスタマイズされた値です。Logto ソース値は上書きされます。                                                                                 |

## Management API を使ったカスタマイズ \{#customization-using-management-api}

Management API の [PUT /api/custom-phrases/\{languageTag\}](https://openapi.logto.io/operation/operation-replacecustomphrase) を利用して言語翻訳をカスタマイズできます。API リクエストボディは次のような部分的なロケールオブジェクトです：

```json
{
  "input": { "username": "Username", "password": "Password" },
  "secondary": {
    "social_bind_with": "すでにアカウントをお持ちですか？サインインして {{methods, list(type: disjunction;)}} をソーシャルアイデンティティと連携しましょう。"
  },
  "action": { "sign_in": "サインイン" },
  "error": {
    "general_required": "{{types, list(type: disjunction;)}} は必須です"
  },
  "list": { "or": "または" },
  "user_scopes": {
    "descriptions": { "custom_data": "カスタムデータ" }
  }
}
```

すべてのカスタマイズ可能な内容については [ソースコード](https://github.com/logto-io/logto/blob/master/packages/phrases-experience/src/locales/en/index.ts) を参照してください。

また、[PATCH /api/sign-in-exp](https://openapi.logto.io/group/endpoint-sign-in-experience) API を使って [言語検出ポリシー](https://openapi.logto.io/operation/operation-getsigninexp#operation-getsigninexp-200-body-application-json-languageinfo) を制御することもできます。

## 実行時の言語解決 \{#runtime-language-resolution}

実行時には、サインイン体験の言語は次の優先順位で決定されます：

1. 現在の認証リクエストの `ui_locales` OIDC パラメーター（最初にサポートされているタグが使用されます）。詳しくは [ui_locales](/end-user-flows/authentication-parameters/ui-locales) を参照してください。
2. それ以外の場合、「自動検出」が有効なら、ユーザークライアントの検出された言語（例：HTTP `Accept-Language` ヘッダーから）。
3. それ以外の場合、サインイン体験のテナントのデフォルト言語。

この解決方法は、インタラクションによってトリガーされるメッセージのメールローカライズにも影響します。詳しくは：[メールテンプレートのローカライズ](/connectors/email-connectors/email-templates#email-template-localization) をご覧ください。

## ユースケース \{#use-cases}

追加した言語はエンドカスタマーにどのように表示されますか？

例えば、英語がデフォルト言語で自動検出がオンになっているウェブサイトがあるとします。日本からのユーザーがサイトにアクセスし、アカウントを作成しようとします。もしアプリの言語として日本語を使用していても、Logto がまだその言語をサポートしていなければ、サインイン画面は英語で表示されます。

Logto のサインイン体験 i18n により、カスタマイズした言語が利用可能になります。

`ja` 言語タグをクリックして独自の日本語翻訳を追加してください。

このようにして、日本からアクセスするユーザーは、英語から翻訳した日本語のコンテンツを読むことができます。

## よくある質問 \{#faqs}

<details>
  <summary>

### 追加した言語が Logto 提供言語になった場合はどうなりますか？ \{#what-if-the-language-i-added-becomes-logto-provided-language}

</summary>

左側の言語タグの横に Logto 提供タグが表示され、追加した言語は削除できなくなります。変更した値は引き続き有効で、元の Logto 値を置き換えます。Logto のデフォルト設定値を使用したい場合は、ユーザーが入力した値を消去してください。

</details>

<details>
  <summary>

### 一部のカスタム値だけを追加した場合はどうなりますか？ \{#what-if-i-only-added-a-few-custom-values}

</summary>

最終的にユーザーが目にするのは、2 つのカラムがマージされた結果です。
Logto が提供した元のコンテンツの一部だけを調整したい場合、サインアップ画面と Logto が提供する画面の違いは編集したキーのみとなり、それ以外の内容は変更されません。

</details>

<details>
  <summary>

### サインイン体験でデフォルトの電話番号国コードを設定するには？ \{#how-can-i-set-a-default-phone-number-country-code-for-the-sign-in-experience}

</summary>

[サインイン体験](/end-user-flows/sign-up-and-sign-in/sign-up) の電話番号国コードは、ユーザーのブラウザロケールがデフォルトになります。例えば、ユーザーのブラウザ言語が `fr` の場合、国コードはフランス（+33）になります。

特定のユーザーや地域向けにデフォルト国コードをプログラムで制御したい場合は、[`ui_locales`](/end-user-flows/authentication-parameters/ui-locales) 認証パラメーターを利用できます。例えば、`ui_locales=ja` を設定すると国コードは日本（+81）になります。

</details>

## 関連リソース \{#related-resources}

<Url href="https://blog.logto.io/rtl-language-support">
  アプリケーションでアラビア語や RTL（右から左）言語レイアウトをサポートする
</Url>
