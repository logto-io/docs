## Erste Schritte \{#get-started}

1. Erstelle ein Entwicklerkonto auf der [Xiaomi Open Platform](https://dev.mi.com/)
2. Besuche den [Xiaomi Account Service](https://dev.mi.com/passport/oauth2/applist)
3. Erstelle eine neue Anwendung, falls du noch keine hast

## Xiaomi OAuth-Anwendung konfigurieren \{#configure-xiaomi-oauth-application}

1. Besuche den [Xiaomi Account Service](https://dev.mi.com/passport/oauth2/applist)
2. Konfiguriere die OAuth-Einstellungen:
   - Öffne die Anwendung, die du für die Anmeldung verwenden möchtest, und klicke auf „Callback-URL“ (wenn du die Callback-URL noch nicht bearbeitet hast, wird sie als „Aktiviert“ angezeigt)
   - Füge die Autorisierungs-Callback-URL hinzu: `${your_logto_origin}/callback/${connector_id}`
   - `connector_id` findest du oben auf der Connector-Detailseite in der Logto Console
3. Hole dir `AppID` und `AppSecret` von der Anwendungs-Detailseite
4. Trage die Werte aus Schritt 3 in die Felder `clientId` und `clientSecret` in der Logto Console ein
5. Optionale Konfiguration:
   - `skipConfirm`: Ob die Xiaomi-Autorisierungsbestätigungsseite übersprungen werden soll, wenn der Benutzer bereits bei seinem Xiaomi-Konto angemeldet ist (Standard: false)

## Beschreibung der Berechtigungen (Scopes) \{#scopes-description}

Standardmäßig fordert der Connector die folgende Berechtigung (Scope) an:

- `1`: Benutzerprofil lesen

Verfügbare Berechtigungen:

| Scope-Wert | Beschreibung                                      | API-Schnittstelle |
| ---------- | ------------------------------------------------- | ----------------- |
| 1          | Benutzerprofil abrufen                            | user/profile      |
| 3          | Benutzer open_id abrufen                          | user/openIdV2     |
| 1000       | Xiaomi-Router-Informationen abrufen               | Mi Router         |
| 1001       | Zugriff auf alle Xiaomi-Router-Informationen      | Mi Router         |
| 2001       | Zugriff auf Xiaomi-Cloud-Kalender                 | Mi Cloud          |
| 2002       | Zugriff auf Xiaomi-Cloud-Wecker                   | Mi Cloud          |
| 6000       | Mi Home Smart-Home-Service nutzen                 | Mi Home           |
| 6002       | Drittanbietergeräte zu Mi Home hinzufügen         | Mi Home           |
| 6003       | Alexa steuert Xiaomi-Geräte                       | Mi Home           |
| 6004       | Drittanbieterdienste greifen auf Xiaomi-Geräte zu | Mi Home           |
| 7000       | Yellow Pages Service-Konto folgen                 | Mi Cloud          |
| 11000      | Xiaomi-Cloud-Fotos abrufen                        | Mi Cloud          |
| 12001      | App-Daten in Mi Cloud speichern                   | Mi Cloud          |
| 12005      | Gesundheits-ECG-Service nutzen                    | Health            |
| 16000      | Mi Wallet-Pässe abrufen                           | app/get_pass      |
| 20000      | XiaoAI-Sprachdienst aktivieren                    | XiaoAI            |
| 40000      | Cloud-AI-Service aktivieren                       | Interne Nutzung   |

Mehrere Berechtigungen können durch Leerzeichen getrennt konfiguriert werden, z. B.: `1 3 6000`.

## Xiaomi-Connector testen \{#test-xiaomi-connector}

Das war's. Vergiss nicht, [Soziale Anmeldung aktivieren](https://docs.logto.io/connectors/social-connectors#enable-social-sign-in) in der Anmeldeerfahrung.
