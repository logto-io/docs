Logto bietet eine flexible Möglichkeit, die von IdP zurückgegebenen Benutzerattribute den Benutzerattributen in Logto zuzuordnen. Logto synchronisiert standardmäßig die folgenden Benutzerattribute von IdP:

- id: Der eindeutige Identifikator des Benutzers. Logto liest den `nameID` Anspruch aus der SAML-Antwort als die Benutzer-SSO-Identitäts-ID.
- email: Die E-Mail-Adresse des Benutzers. Logto liest den `email` Anspruch aus der SAML-Antwort standardmäßig als die primäre E-Mail des Benutzers.
- name: Der Name des Benutzers.

Du kannst die Logik der Benutzerattributzuordnung entweder auf der Azure AD-Seite oder auf der Logto-Seite verwalten.

1. Ordne die AzureAD-Benutzerattribute den Logto-Benutzerattributen auf der Logto-Seite zu.

   Besuche den Abschnitt `Attributes & Claims` deiner Azure AD SSO-Anwendung.

   Kopiere die folgenden Attributnamen (mit Namespace-Präfix) und füge sie in die entsprechenden Felder in Logto ein.

   - `http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress`
   - `http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name` (Empfehlung: Aktualisiere diese Attributwertzuordnung auf `user.displayname` für eine bessere Benutzererfahrung)

![Azure AD default attribute mapping.webp](./assets/azure_ad_default_attribute_mapping.webp)

1. Ordne die AzureAD-Benutzerattribute den Logto-Benutzerattributen auf der AzureAD-Seite zu.

   Besuche den Abschnitt `Attributes & Claims` deiner Azure AD SSO-Anwendung.

   Klicke auf `Edit` und aktualisiere die Felder `Additional claims` basierend auf den Logto-Benutzerattribut-Einstellungen:

   - Aktualisiere den Anspruchsnamenwert basierend auf den Logto-Benutzerattribut-Einstellungen.
   - Entferne das Namespace-Präfix.
   - Klicke auf `Save`, um fortzufahren.

   Die Einstellungen sollten folgendermaßen enden:

![Azure AD_Logto attribute mapping.webp](./assets/azure_ad_logto_attribute_mapping.webp)

Du kannst auch zusätzliche Benutzerattribute auf der Azure AD-Seite angeben. Logto wird die ursprünglichen Benutzerattribute, die von IdP zurückgegeben werden, im Feld `sso_identity` des Benutzers aufzeichnen.
