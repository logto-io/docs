### Optional: Benutzerberechtigungsänderungen behandeln \{#optional-handle-user-permission-change}

Benutzerberechtigungen können sich jederzeit ändern. Da Logto JWTs für rollenbasierte Zugangskontrolle (RBAC) ausstellt, erscheinen Berechtigungsänderungen nur in neu ausgestellten Tokens und ändern niemals bestehende JWTs.

:::info Berechtigungs-Subset-Regel
Ein Zugangstoken (Access token) kann nur Berechtigungen (Scopes) enthalten, die im ursprünglichen OAuth-Autorisierungsablauf angefordert wurden.
Selbst wenn ein Benutzer neue Berechtigungen erhält, kann das später ausgestellte Token nur eine Teilmenge der ursprünglich angeforderten Berechtigungen enthalten.
Um auf neu gewährte Berechtigungen zuzugreifen, die nicht Teil der ursprünglichen Anfrage waren, muss der Client einen neuen Autorisierungsablauf durchführen.
:::

#### Reduzierte Berechtigungen \{#downscoped-permissions}

Wenn ein Benutzer Berechtigungen verliert:

- Neu ausgestellte Tokens spiegeln die reduzierten Berechtigungen sofort wider.
- Bestehende JWTs behalten die alten Berechtigungen, bis sie ablaufen.
- Deine API sollte immer die Berechtigungen validieren und sich auf kurze Token-Laufzeiten verlassen.

Wenn du schnellere Reaktionen benötigst, implementiere ein eigenes Signal, das den Clients mitteilt, ihre Tokens zu aktualisieren.

#### Erweiterte Berechtigungen \{#enlarged-permissions}

{props.type === "global" && <p>Für globale API-Ressourcen werden erweiterte Berechtigungen, wenn ein Benutzer neue Berechtigungen erhält, NICHT durch Aktualisierung (Refresh) sichtbar. Der Client muss einen neuen OAuth-Autorisierungsablauf durchführen, um ein Token zu erhalten, das die neuen Berechtigungen enthält. Dies kann still erfolgen, wenn der Benutzer eine aktive Logto-Sitzung hat.</p>}

{props.type === "organization" && <p>Für Organisationstokens werden erweiterte Berechtigungen, wenn ein Benutzer neue Berechtigungen erhält, bei der nächsten Ausstellung (Refresh oder Token-Anfrage) sichtbar. Ein neues Token ist weiterhin erforderlich, aber eine vollständige erneute Authentifizierung ist nicht nötig, es sei denn, die neuen Berechtigungen überschreiten die ursprünglich angeforderte Menge.</p>}

#### Empfehlungen \{#recommendations}

- Validiere die Berechtigungen bei jedem API-Aufruf.
- Halte die Token-Gültigkeit kurz.
- Füge optionale Benachrichtigungen hinzu, wenn du eine sofortige Verbreitung von Berechtigungsänderungen benötigst.
