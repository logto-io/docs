Logto proporciona una forma flexible de mapear los atributos de usuario devueltos por el proveedor de identidad (IdP) a los atributos de usuario en Logto. Logto sincronizará los siguientes atributos de usuario desde el IdP por defecto:

- id: El identificador único del usuario. Logto leerá el reclamo `nameID` de la respuesta SAML como el id de identidad SSO del usuario.
- email: La dirección de correo electrónico del usuario. Logto leerá el reclamo `email` de la respuesta SAML como el correo electrónico principal del usuario por defecto.
- name: El nombre del usuario.

Puedes gestionar la lógica de mapeo de atributos de usuario ya sea en el lado de Azure AD o en el lado de Logto.

1. Mapear los atributos de usuario de AzureAD a los atributos de usuario de Logto en el lado de Logto.

   Visita la sección `Attributes & Claims` de tu aplicación SSO de Azure AD.

   Copia los siguientes nombres de atributos (con prefijo de espacio de nombres) y pégalos en los campos correspondientes en Logto.

   - `http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress`
   - `http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name` (Recomendación: actualiza este mapa de valor de atributo a `user.displayname` para una mejor experiencia de usuario)

![Azure AD default attribute mapping.webp](./assets/azure_ad_default_attribute_mapping.webp)

1. Mapear los atributos de usuario de AzureAD a los atributos de usuario de Logto en el lado de AzureAD.

   Visita la sección `Attributes & Claims` de tu aplicación SSO de Azure AD.

   Haz clic en `Edit`, y actualiza los campos de `Additional claims` basándote en la configuración de atributos de usuario de Logto:

   - actualiza el valor del nombre del reclamo basándote en la configuración de atributos de usuario de Logto.
   - elimina el prefijo de espacio de nombres.
   - haz clic en `Save` para continuar.

   Deberías terminar con la siguiente configuración:

![Azure AD_Logto attribute mapping.webp](./assets/azure_ad_logto_attribute_mapping.webp)

También puedes especificar atributos de usuario adicionales en el lado de Azure AD. Logto mantendrá un registro de los atributos de usuario originales devueltos por el IdP bajo el campo `sso_identity` del usuario.
