import applicationDetails from './assets/entra_id_oidc_application_details.webp';
import createSecret from './assets/entra_id_oidc_create_secret.webp';
import endpoints from './assets/entra_id_oidc_endpoints.webp';

Después de crear con éxito una aplicación Microsoft Entra OIDC, necesitarás proporcionar las configuraciones del IdP de vuelta a Logto. Navega a la pestaña `Connection` en la Consola de Logto y completa las siguientes configuraciones:

1. **Client ID**: Un identificador único asignado a tu aplicación OIDC por Microsoft Entra. Este identificador es utilizado por Logto para identificar y autenticar la aplicación durante el flujo OIDC. Puedes encontrarlo en la página de resumen de la aplicación como `Application (client) ID`.

<center>
  <img src={applicationDetails} alt="Detalles de la Aplicación" />
</center>

2. **Client Secret**: Crea un nuevo secreto de cliente y copia el valor a Logto. Este secreto se utiliza para autenticar la aplicación OIDC y asegurar la comunicación entre Logto y el IdP.

<center>
  <img src={createSecret} alt="Crear Secreto" />
</center>

3. **Emisor (Issuer)**: La URL del emisor, un identificador único para el IdP, que especifica la ubicación donde se puede encontrar el proveedor de identidad OIDC. Es una parte crucial de la configuración OIDC ya que ayuda a Logto a descubrir los endpoints necesarios.

   En lugar de proporcionar manualmente todos estos endpoints OIDC, Logto obtiene automáticamente todas las configuraciones requeridas y los endpoints del IdP. Esto se hace utilizando la URL del emisor que proporcionaste y haciendo una llamada al endpoint de descubrimiento del IdP.

   Para obtener la URL del emisor, puedes encontrarla en la sección `Endpoints` de la página de resumen de la aplicación.

   Localiza el endpoint `OpenID Connect metadata document` y copia la URL **SIN** la ruta final `.well-known/openid-configuration`. Esto se debe a que Logto añadirá automáticamente `.well-known/openid-configuration` a la URL del emisor al obtener las configuraciones OIDC.

<center>
  <img src={endpoints} alt="Endpoints" />
</center>

4. **Alcance (Scope)**: Una lista de cadenas separadas por espacios que define los permisos o niveles de acceso deseados solicitados por Logto durante el proceso de autenticación OIDC. El parámetro de alcance te permite especificar qué información y acceso está solicitando Logto del IdP.

El parámetro de alcance es opcional. Independientemente de la configuración de alcance personalizada, Logto siempre enviará los alcances `openid`, `profile` y `email` al IdP.

Haz clic en `Save` para finalizar el proceso de configuración.
