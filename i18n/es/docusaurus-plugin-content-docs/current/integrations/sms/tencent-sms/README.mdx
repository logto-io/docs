---
slug: /integrations/tencent-sms
sidebar_label: Tencent Short Message
sidebar_custom_props:
  description: Tencent proporciona servicios de computación en la nube para negocios en línea.
  logoFilename: 'tencent.svg'
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# Configura la verificación por SMS con Tencent Short Message Service

El conector oficial de Logto para el servicio de mensajes cortos de Tencent.

<GuideTip />

腾讯云短信服务 Logto 官方连接器 [中文文档](#腾讯云短信连接器)

# 腾讯云短信连接器

腾讯云是亚洲地区一个重要的云服务厂商，提供了包括短信服务在内的诸多云服务。

本连接器是 Logto 官方提供的腾讯云短信连接器，帮助终端用户通过短信验证码进行登录注册。

## 在腾讯云短信服务控制台中配置一个短信服务

> 💡 **Consejo**
>
> Puedes omitir las partes que ya hayas completado.

### 创建腾讯云账号

Dirígete a [腾讯云](https://cloud.tencent.com/) y completa el registro de la cuenta.

### 启用并配置腾讯云短信服务

1. Usa la cuenta que acabas de registrar en [腾讯云](https://cloud.tencent.com/) para iniciar sesión y dirígete a la [consola de servicios de mensajes](https://cloud.tencent.com/product/sms).
2. Haz clic en el botón "Prueba gratuita" en la parte superior izquierda de la página de servicios de mensajes y comienza el proceso de configuración.
3. Lee y acepta los "Términos de servicio de mensajes" y "Activar servicio" para continuar.
4. Ahora estás en la "[Vista general de la consola de servicios de mensajes](https://console.cloud.tencent.com/smsv2)", según tu escenario de usuario, haz clic en "Mensajes nacionales" o "Mensajes internacionales / Hong Kong, Macao y Taiwán" en la barra lateral.
5. Sigue las instrucciones para agregar firmas y plantillas, y proporciona los materiales e información necesarios para la revisión:
   - Nota: Al agregar una **firma**, selecciona "Código de verificación" en la columna "Escenario aplicable", y al agregar una **plantilla**, selecciona "Código de verificación" en "Tipo de plantilla", ya que nuestro objetivo es enviar códigos de verificación. Actualmente no se admiten otros tipos de mensajes de texto.
   - Asegúrate de incluir un marcador de posición `{1}` en el contenido de la plantilla, que será reemplazado por el código de verificación generado aleatoriamente en el mensaje enviado.
   - Actualmente no se admiten **múltiples** marcadores de posición, elige o crea una plantilla con solo un marcador de posición.
6. Después de enviar la solicitud de firma y plantilla de mensajes, debes esperar a que se activen. Mientras tanto, puedes volver a la [Vista general de la consola de servicios de mensajes](https://console.cloud.tencent.com/smsv2) para enviar mensajes de prueba. Si tu firma y plantilla han sido aprobadas, puedes usarlas directamente para probar; si aún no han sido aprobadas, Tencent Cloud también proporciona plantillas de prueba. - Antes de enviar mensajes de prueba, es posible que necesites realizar una pequeña recarga en tu cuenta. - Debes vincular el número de teléfono que usarás para la prueba con anticipación para recibir los mensajes de prueba con éxito. Haz clic en la pestaña "Guía de configuración para principiantes" en la parte superior de la [Vista general de la consola de servicios de mensajes](https://console.cloud.tencent.com/smsv2) para obtener más información.

## 编写连接器的 JSON

1. Dirígete a la [Vista general de la consola de servicios de mensajes](https://console.cloud.tencent.com/smsv2), coloca el cursor sobre el avatar en la esquina superior derecha de la página, ingresa a "Gestión de acceso" y haz clic en "Claves de acceso" y "[Claves API](https://console.cloud.tencent.com/cam/capi)". Después de completar la verificación de seguridad, obtendrás un par de "AccessKey ID" y "AccessKey Secret", guárdalos de manera segura.
2. Dirígete a la pestaña "Mensajes nacionales" o "Mensajes internacionales / Hong Kong, Macao y Taiwán" que visitaste anteriormente, donde podrás encontrar fácilmente el "Nombre de la firma" y el "Código de la plantilla".
   - Si deseas usar la plantilla de firma de prueba, dirígete a la pestaña "Inicio rápido", donde podrás encontrarlas debajo de "Plantilla de firma de prueba".
3. Completa la configuración del conector de servicios de mensajes de Tencent:
   - Usa el par de "AccessKey ID" y "AccessKey Secret" que obtuviste en el paso 1 para completar `accessKeyId` y `accessKeySecret` respectivamente.
   - Usa el "Nombre de la firma" que obtuviste en el paso 2 para completar el campo `signName`. Todas las plantillas compartirán esta firma.
   - Puedes agregar múltiples plantillas de servicios de mensajes para diferentes escenarios de usuario. Aquí se muestra un ejemplo de cómo completar una sola plantilla:
     - El campo `templateCode` es un atributo que puedes usar para controlar el contenido del mensaje enviado. Sus valores se obtienen del "Código de la plantilla" del paso 2.
     - Completa el campo `usageType` con `Register`, `SignIn`, `ForgotPassword` o `Generic` para corresponder a los diferentes escenarios de _registro_, _inicio de sesión_, _olvido de contraseña_ o _genérico_. (`usageType` es un atributo de Logto utilizado para determinar el escenario de uso.) Para poder usar el flujo completo, necesitas configurar plantillas para `usageType` como `Register`, `SignIn`, `ForgotPassword` y `Generic`.
   - Obtén el ID de la aplicación en [Gestión de aplicaciones](https://console.cloud.tencent.com/smsv2/app-manage) y complétalo en el campo `sdkAppId`.
   - En [Documentación de envío](https://cloud.tencent.com/document/api/382/52071#.E5.9C.B0.E5.9F.9F.E5.88.97.E8.A1.A8) puedes obtener las regiones compatibles con el producto de mensajes y completarlas en el campo `region`.

### 测试腾讯云短信连接器

Puedes ingresar un número de teléfono y hacer clic en "Enviar" para probar si la configuración funciona correctamente antes de "Guardar y completar".

¡Todo listo! Ve a [habilitar el inicio de sesión con código de verificación por SMS](/connectors/sms-connectors/#enable-phone-number-sign-up-or-sign-in).

### 配置类型

| Nombre          | Tipo       |
| --------------- | ---------- |
| accessKeyId     | string     |
| accessKeySecret | string     |
| signName        | string     |
| region          | string     |
| sdkAppId        | string     |
| templates       | Template[] |

| Atributo de plantilla | Tipo        | Valores enumerados |
| --------------------- | ----------- | ------------------ | ----------------------------------------- |
| templateCode          | string      | N/A                |
| usageType             | enum string | 'Register' \       | 'SignIn' \| 'ForgotPassword' \| 'Generic' |

## 参考

- [腾讯云 如何实现短信验证码功能](https://cloud.tencent.com/document/product/382/43070)
