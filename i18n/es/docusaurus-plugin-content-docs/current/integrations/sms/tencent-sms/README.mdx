---
slug: /integrations/tencent-sms
sidebar_label: Tencent Short Message
sidebar_custom_props:
  description: Tencent proporciona servicios de computación en la nube para negocios en línea.
  logoFilename: 'tencent.svg'
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# Configura la verificación por SMS con Tencent Short Message Service

El conector oficial de Logto para Tencent Short Message Service.

<GuideTip />

Conector oficial de Logto para el servicio de SMS de Tencent Cloud [Documentación en chino](#tencent-cloud-sms-connector)

# Conector de SMS de Tencent Cloud

Tencent Cloud es un importante proveedor de servicios en la nube en Asia, que ofrece una amplia gama de servicios, incluidos los SMS.

Este conector, proporcionado oficialmente por Logto, permite a los usuarios finales registrarse e iniciar sesión a través de códigos de verificación por SMS.

## Configura un servicio de SMS en la Consola de SMS de Tencent Cloud

> 💡 **Consejo**
>
> Puedes omitir las partes que ya hayas completado.

### Crea una cuenta de Tencent Cloud

Ve a [Tencent Cloud](https://cloud.tencent.com/) y completa el registro de la cuenta.

### Habilita y configura el servicio de SMS de Tencent Cloud

1. Inicia sesión en [Tencent Cloud](https://cloud.tencent.com/) con tu cuenta recién registrada y navega a la [Consola de Servicio de SMS](https://cloud.tencent.com/product/sms).
2. Haz clic en el botón "Prueba gratuita" en la parte superior izquierda de la página del Servicio de SMS para comenzar el proceso de configuración.
3. Acepta los "Términos de uso del servicio de SMS" y habilita el servicio para continuar.
4. Ahora estarás en el "[Resumen de la Consola de Servicio de SMS](https://console.cloud.tencent.com/smsv2)." Dependiendo de tu caso de uso, haz clic en "Mensajes nacionales" o "Mensajes internacionales / Gran China" en la barra lateral.
5. Sigue las indicaciones para agregar una firma y plantillas, proporcionando los materiales necesarios para la aprobación:
   - Nota: Al agregar una **firma**, selecciona "Código de verificación" bajo "Escenario de aplicación." De manera similar, al agregar una **plantilla**, elige "Código de verificación" bajo "Tipo de plantilla," ya que el propósito aquí es enviar códigos de verificación. Actualmente no se admite el envío de otros tipos de mensajes de texto.
   - Asegúrate de que el contenido de tu plantilla incluya un marcador `{1}`, que será reemplazado por un código de verificación generado aleatoriamente cuando se envíe el SMS.
   - Solo se admiten plantillas con un único marcador. Selecciona o crea plantillas con solo un marcador.
6. Después de enviar las solicitudes de firma y plantilla, espera su aprobación. Mientras tanto, puedes regresar al [Resumen de la Consola de Servicio de SMS](https://console.cloud.tencent.com/smsv2) para enviar mensajes de prueba. Si tu firma y plantilla son aprobadas, úsalas directamente para las pruebas. Si no, Tencent proporciona plantillas de prueba.
   - Es posible que necesites recargar tu cuenta con una pequeña cantidad antes de enviar mensajes de prueba.
   - Vincula el número de teléfono que planeas usar para las pruebas con anticipación para asegurar la recepción exitosa de los mensajes de prueba. Haz clic en la pestaña "Guía para principiantes" en la parte superior del [Resumen de la Consola de Servicio de SMS](https://console.cloud.tencent.com/smsv2) para más detalles.

## Escribe la configuración JSON del conector

1. Ve al [Resumen de la Consola de Servicio de SMS](https://console.cloud.tencent.com/smsv2), pasa el cursor sobre tu perfil en la parte superior derecha, navega a "Gestión de acceso" y haz clic en "Claves de acceso" bajo "[API Key](https://console.cloud.tencent.com/cam/capi)." Después de completar la verificación de seguridad, recibirás un "AccessKey ID" y un "AccessKey Secret." Guárdalos de manera segura.
2. Navega de regreso a la pestaña "Mensajes nacionales" o "Mensajes internacionales / Gran China," donde puedes encontrar fácilmente el "Nombre de la firma" y el "Código de la plantilla."
   - Para usar una firma y plantilla específicas de prueba, ve a la pestaña "Inicio rápido" para encontrarlas bajo "Plantilla de firma de prueba."
3. Completa la configuración del Conector de SMS de Tencent Cloud:
   - Rellena `accessKeyId` y `accessKeySecret` con el par que obtuviste en el paso 1.
   - Usa el "Nombre de la firma" del paso 2 para el campo `signName`. Todas las plantillas compartirán esta firma.
   - Agrega múltiples plantillas de SMS para atender diferentes escenarios de usuario. A continuación se muestra un ejemplo de cómo agregar una sola plantilla:
     - Usa el "Código de la plantilla" del paso 2 para el campo `templateCode` para controlar el contenido del SMS.
     - El campo `usageType` debe ser uno de `Register`, `SignIn`, `ForgotPassword`, o `Generic` para corresponder a los escenarios de _Registro_, _Inicio de sesión_, _Olvidó la contraseña_, o _General_. (El atributo `usageType` es específico de Logto y determina el escenario de uso.) Para una configuración completa, configura plantillas para `Register`, `SignIn`, `ForgotPassword`, y `Generic`.
   - Obtén el ID de la aplicación de la sección [Gestión de aplicaciones](https://console.cloud.tencent.com/smsv2/app-manage) y complétalo en el campo `sdkAppId`.
   - Consulta la [Documentación de la API de SMS](https://cloud.tencent.com/document/api/382/52071#.E5.9C.B0.E5.9F.9F.E5.88.97.E8.A1.A8) para las regiones admitidas y complétalo en el campo `region`.

### Prueba el Conector de SMS de Tencent Cloud

Antes de hacer clic en "Guardar y completar," ingresa un número de teléfono y haz clic en "Enviar" para probar si la configuración funciona correctamente.

¡Todo está listo! Procede a [Habilitar el registro o inicio de sesión con número de teléfono](/connectors/sms-connectors/#enable-phone-number-sign-up-or-sign-in).

### Esquema de configuración

| Nombre          | Tipo       |
| --------------- | ---------- |
| accessKeyId     | string     |
| accessKeySecret | string     |
| signName        | string     |
| region          | string     |
| sdkAppId        | string     |
| templates       | Template[] |

| Atributo de plantilla | Tipo        | Valores del enum                                        |
| --------------------- | ----------- | ------------------------------------------------------- |
| templateCode          | string      | N/A                                                     |
| usageType             | enum string | 'Register' \| 'SignIn' \| 'ForgotPassword' \| 'Generic' |

## Referencias

- [Tencent Cloud: Cómo implementar códigos de verificación por SMS](https://cloud.tencent.com/document/product/382/43070)
