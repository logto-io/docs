import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

## Pasos rápidos de preparación \{#quick-preparation-steps}

### Configura recursos y permisos de Logto \{#configure-logto-resources-permissions}

<Tabs groupId="permission-models">
  <TabItem value="global-api-resources" label="Recursos de API globales">

    1. **Crea un recurso de API:** Ve a [Consola → Recursos de API](https://cloud.logto.io/api-resources) y registra tu API (por ejemplo, `https://api.yourapp.com`)
    2. **Define permisos:** Añade alcances como `read:products`, `write:orders` – consulta [Definir recursos de API con permisos](/authorization/role-based-access-control#define-api-resources-with-permissions)
    3. **Crea roles globales:** Ve a [Consola → Roles](https://cloud.logto.io/roles) y crea roles que incluyan los permisos de tu API – consulta [Configurar roles globales](/authorization/role-based-access-control#configure-global-roles)
    4. **Asigna roles:** Asigna roles a usuarios o aplicaciones M2M que necesiten acceso a la API

  </TabItem>
  <TabItem value="organization-permissions" label="Permisos de organización (no API)">

    1. **Define permisos de organización:** Crea permisos de organización que no sean de API como `invite:member`, `manage:billing` en la plantilla de organización
    2. **Configura roles de organización:** Configura la plantilla de organización con roles específicos de la organización y asígnales permisos
    3. **Asigna roles de organización:** Asigna usuarios a roles de organización dentro de cada contexto de organización

  </TabItem>
  <TabItem value="organization-level-api-resources" label="Recursos de API a nivel de organización">

    1. **Crea un recurso de API:** Registra tu recurso de API como antes, pero se usará en el contexto de organización
    2. **Define permisos:** Añade alcances como `read:data`, `write:settings` que estén limitados al contexto de organización
    3. **Configura la plantilla de organización:** Configura roles de organización que incluyan los permisos de tu recurso de API
    4. **Asigna roles de organización:** Asigna usuarios o aplicaciones M2M a roles de organización que incluyan permisos de API
    5. **Configuración multi-tenant:** Asegúrate de que tu API pueda manejar datos y validaciones con alcance de organización

  </TabItem>
</Tabs>

:::tip ¿Nuevo en RBAC?
Comienza con nuestra [Guía de control de acceso basado en roles (RBAC)](/authorization/role-based-access-control) para instrucciones paso a paso.
:::

### Actualiza tu aplicación cliente \{#update-your-client-application}

**Solicita los alcances apropiados en tu cliente:**

- Autenticación de usuario: [Actualiza tu app →](/quick-starts) para solicitar los alcances de tu API y/o el contexto de organización
- Máquina a máquina: [Configura alcances M2M →](/quick-starts/m2m) para acceso de servidor a servidor

El proceso normalmente implica actualizar la configuración de tu cliente para incluir uno o más de los siguientes:

- Parámetro `scope` en los flujos OAuth
- Parámetro `resource` para acceso a recursos de API
- `organization_id` para el contexto de organización

:::tip Antes de programar
Asegúrate de que el usuario o la aplicación M2M que estás probando tenga asignados los roles o roles de organización adecuados que incluyan los permisos necesarios para tu API.
:::
