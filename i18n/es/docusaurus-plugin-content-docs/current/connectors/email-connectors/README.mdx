---
id: email-connectors
title: Conectores de correo electrónico
sidebar_label: Conectores de correo electrónico
sidebar_position: 1
---

# Conectores de correo electrónico

Un conector de correo electrónico integra tu servicio de envío de correos con Logto para habilitar la verificación segura de usuarios a través del correo electrónico. Una vez configurado, puedes enviar [contraseñas de un solo uso (OTPs)](https://auth.wiki/otp) para [registro de usuario](/end-user-flows/sign-up-and-sign-in/sign-up), [inicio de sesión](/end-user-flows/sign-up-and-sign-in/sign-in), [restablecimiento de contraseña](/end-user-flows/sign-up-and-sign-in/reset-password), [vinculación de cuentas](/end-user-flows/sign-up-and-sign-in/social-sign-in#account-linking), [invitaciones de miembros](/end-user-flows/organization-experience/invite-organization-members) y [validación de operaciones de alto riesgo](/end-user-flows/security-verification).

## Elige tu conector de correo electrónico \{#choose-your-email-connector}

Logto ofrece tres tipos de opciones de conectores de correo electrónico:

### Servicio de correo electrónico gratuito de Logto (solo Cloud) \{#free-logto-email-service-cloud-only}

Esta opción de servicio de correo electrónico integrado es ideal para comenzar rápidamente tanto para [pruebas](/logto-cloud/tenant-settings#development) como para [producción](/logto-cloud/tenant-settings#production). Elimina la necesidad de integraciones de terceros y ofrece un envío de correos gratuito y confiable. Simplemente personaliza tu marca básica para las plantillas de correo electrónico prediseñadas.

El conector de Logto Email Service ahora ofrece capacidades de personalización de marca, incluyendo logotipo, información de la empresa y nombre del remitente.

Sin embargo, aunque es conveniente, hay algunas limitaciones que debes tener en cuenta: no puedes personalizar la dirección de correo del remitente, el dominio ni el contenido específico del correo electrónico.

```mdx-code-block
import DocCardList from '@theme/DocCardList';
import LogtoEmailService from '@site/docs/connectors/assets/icons/logto-email-service.svg';
import AwsDm from '@site/docs/connectors/assets/icons/aws-direct-mail.svg';
import SendGrid from '@site/docs/connectors/assets/icons/sendgrid.svg';
import Mailgun from '@site/docs/connectors/assets/icons/mailgun.svg';
import Postmark from '@site/docs/connectors/assets/icons/postmark.svg';
import AliyunDm from '@site/docs/connectors/assets/icons/aliyun-direct-mail.svg';
import Smtp from '@site/docs/connectors/assets/icons/smtp.svg';
import Http from '@site/docs/connectors/assets/icons/http.svg';

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Logto Email Service',
      href: '/connectors/email-connectors/built-in-email-service',
      description: 'Conector oficial para Logto Email Service.',
      customProps: {
        icon: <LogtoEmailService />,
      }
    },
  ]}
/>
```

### Proveedores de correo electrónico populares \{#popular-email-providers}

Conéctate con tu proveedor de servicios de correo electrónico (ESP) preferido utilizando las guías paso a paso de Logto.

Estas opciones te permiten [personalizar completamente tus plantillas de correo electrónico](/connectors/email-connectors/email-templates), el nombre del remitente, agregar variables, etc., para servir mejor a tu marca.

Ofrecemos soporte listo para usar para los siguientes proveedores de servicios de correo electrónico:

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'AWS Direct Mail',
      href: '/integrations/aws-ses',
      description: 'Conector oficial de Logto para AWS para el servicio de correo directo.',
      customProps: {
        icon: <AwsDm />,
      }
    },
    {
      type: 'link',
      label: 'Mailgun',
      href: '/integrations/mailgun',
      description: 'Conector oficial de Logto para el servicio de correo de Mailgun.',
      customProps: {
        icon: <Mailgun />,
      }
    },
    {
      type: 'link',
      label: 'SendGrid Email',
      href: '/integrations/sendgrid-email',
      description: 'Conector oficial de Logto para el servicio de correo de SendGrid.',
      customProps: {
        icon: <SendGrid />,
      }
    },
    {
      type: 'link',
      label: 'Aliyun Direct Mail',
      href: '/integrations/aliyun-dm',
      description: 'Conector oficial de Logto para Aliyun para el servicio de correo directo.',
      customProps: {
        icon: <AliyunDm />,
      }
    },
    {
      type: 'link',
      label: 'Postmark Mail',
      href: '/integrations/postmark',
      description: 'Conector de Logto para el servicio de correo de Postmark.',
      customProps: {
        icon: <Postmark />,
      }
    },
  ]}
/>
```

### Personaliza tu conector de correo electrónico \{#customize-your-email-connector}

Si ninguna de las soluciones anteriores satisface tus necesidades, también puedes optar por conectarte a tu servicio de correo electrónico deseado utilizando Simple Mail Transfer Protocol (SMTP).

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'SMTP',
      href: '/integrations/smtp',
      description: 'Conector oficial de Logto para SMTP.',
      customProps: {
        icon: <Smtp />,
      }
    },
  ]}
/>
```

Si ya tienes tu propio servicio de correo electrónico y no puedes usar una conexión SMTP, también ofrecemos un "conector de correo electrónico HTTP".

Cuando necesita enviar un correo electrónico, realiza una llamada API al `endpoint` configurado para completar el flujo de autenticación dependiente del correo electrónico. Ten en cuenta que, para evitar errores en el flujo de autenticación, el endpoint configurado debe devolver una respuesta 200 después de recibir el WebHook para informar a Logto que ha recibido la notificación para enviar el correo. En este caso, debes monitorear tu propio servicio de correo electrónico para asegurar la entrega exitosa.

```mdx-code-block
<DocCardList
  items={[
    {
      type: 'link',
      label: 'HTTP email connector',
      href: '/integrations/http-email',
      description: 'Conector oficial de Logto para correo electrónico HTTP.',
      customProps: {
        icon: <Http />,
      }
    },
  ]}
/>
```

Si nuestros conectores estándar no cumplen con tus requisitos específicos, no dudes en [contactarnos](https://logto.productlane.com/roadmap). Para usuarios OSS, puedes [implementar tu propio conector (OSS)](/logto-oss/develop-your-connector/implement-connectors#build-a-passwordless-connector) si el requerimiento es urgente. Siempre damos la bienvenida a [contribuciones](/logto-oss/contribution); tu esfuerzo podría ayudar a otros miembros de la comunidad con las mismas necesidades.

## Pasos de configuración \{#configure-steps}

Sigue los siguientes pasos para agregar un conector de correo electrónico:

1. Navega a <CloudLink to="/connectors/passwordless">Consola > Conectores > Conectores de correo electrónico y SMS </CloudLink>.
2. Para agregar un nuevo conector de correo electrónico, haz clic en el botón "Configurar" y selecciona tu proveedor de correo electrónico deseado.
3. Revisa la documentación README y configura tu proveedor elegido paso a paso.
4. Haz clic en "Guardar y listo" para finalizar.

:::note

Para asegurar que los correos críticos (como los códigos de verificación) lleguen de manera confiable a las bandejas de entrada de los usuarios y evitar filtros de spam, concéntrate en dos prioridades:

- **Configura la autenticación de correo electrónico (SPF, DKIM, DMARC)**
  Los proveedores de correo (Gmail, Outlook, etc.) usan estos protocolos para verificar que no eres un spammer. Si faltan estas configuraciones, tus correos pueden ir a spam o ser rechazados.
  - SPF (Sender Policy Framework): Lista los servidores / IPs autorizados para enviar correos para tu dominio.
  - DKIM (DomainKeys Identified Mail): Agrega una firma digital para probar que los correos no han sido alterados.
  - DMARC (Domain-based Message Authentication): Indica a los receptores cómo manejar los correos que fallan SPF / DKIM.
- **Separa correos de autenticación y de marketing**
  Los correos de marketing suelen generar quejas de spam o altas tasas de rebote. Si los correos de autenticación comparten el mismo dominio / IP, su entregabilidad se ve afectada.
  - Usa un dominio dedicado: Envía correos de verificación desde `@auth.tudominio.com`, marketing desde `@marketing.tudominio.com`.
  - IP dedicada: Solicita una IP única para correos de autenticación y caliéntala poco a poco.
  - Coincidencia de dirección "From": Asegúrate de que el dominio del remitente coincida con los registros SPF / DKIM / DMARC.

:::

## Cambiar conector de correo electrónico \{#change-email-connector}

Notarás que solo se puede agregar un conector de correo electrónico.

Cuando ya tienes un conector de correo electrónico, solo puedes seleccionar "Cambiar conector de correo electrónico". Al realizar esta operación en la consola, surte efecto inmediatamente una vez guardado, así que asegúrate de probar tu configuración antes de guardar.

Para asegurar la estabilidad de tu servicio, los usuarios de Cloud pueden crear un [tenant de desarrollo](/logto-cloud/tenant-settings#development) para el entorno de desarrollo. Después de probar la configuración en el entorno de desarrollo, "migra" la configuración a [producción](/logto-cloud/tenant-settings#production) y luego guarda la configuración.

## Habilitar dirección de correo electrónico para flujos de usuario final \{#enable-email-address-for-end-user-flows}

Una vez que agregues y configures el conector de correo electrónico, puedes habilitar flujos de autenticación basados en correo electrónico:

- [**Configura métodos de registro**](/end-user-flows/sign-up-and-sign-in/sign-up): Ve a <CloudLink to="/sign-in-experience/sign-up-and-sign-in">Experiencia de inicio de sesión > Registro e inicio de sesión</CloudLink>. En la sección de registro, agrega "Dirección de correo electrónico" o "Dirección de correo electrónico o número de teléfono" como identificador. Nota: La verificación de correo electrónico es obligatoria durante el registro.
- [**Configura métodos de inicio de sesión**](/end-user-flows/sign-up-and-sign-in/sign-in): En la sección de inicio de sesión, agrega "Dirección de correo electrónico" como método de inicio de sesión. Elige entre contraseña y código de verificación por correo electrónico para la autenticación. Haz clic en "Agregar otro" para opciones adicionales.
- [**Configura olvidé mi contraseña**](/end-user-flows/sign-up-and-sign-in/reset-password): En la sección de inicio de sesión, si el inicio de sesión por contraseña está habilitado, verás la opción "Olvidé mi contraseña". Habilita "Código de verificación por correo electrónico" para permitir restablecimientos de contraseña por correo.
- [**Configura correo electrónico para MFA**](/end-user-flows/mfa/email-mfa): Ve a <CloudLink to="/mfa">Experiencia de inicio de sesión > Autenticación multifactor</CloudLink>. Habilita "Código de verificación por correo electrónico" como segundo factor para mayor seguridad.
- [**Configura ajustes de cuenta**](/end-user-flows/account-settings/by-account-api#update-or-link-new-email): Usa la [Account API](/end-user-flows/account-settings/by-account-api) para personalizar tu Centro de Cuenta y permitir a los usuarios gestionar sus direcciones de correo electrónico.

:::warning
Debido a que nuestras configuraciones surten efecto de inmediato, eliminar el conector de correo electrónico existente puede afectar el proceso normal de inicio de sesión y registro de los usuarios finales.

Por ejemplo, si el identificador de inicio de sesión incluye la combinación "correo electrónico + código de verificación", eliminar el conector de correo electrónico existente impedirá que los usuarios reciban códigos de verificación por correo y resultará en un error en el flujo de inicio de sesión.

Por favor, ten en cuenta los posibles riesgos al operar sobre los conectores.
:::

## Preguntas frecuentes \{#faqs}

<details>
<summary>

### ¿Cómo personalizar el nombre del remitente del correo electrónico? \{#how-to-customize-the-email-sender-name}

</summary>

Seguimos trabajando en más conectores. Si necesitas más opciones, solo háznoslo saber en Discord y crea una solicitud de función en [GitHub](https://github.com/logto-io/logto/issues). Si necesitas más ayuda, también puedes [contactarnos por correo electrónico](mailto:contact@logto.io).

Para los colaboradores, ofrecemos un método de creación de conectores fácil de extender, permitiéndote [personalizar tu propio conector](/logto-oss/develop-your-connector) según tus escenarios específicos. Siempre eres bienvenido a enviar un pull request a Logto, para que otros en la comunidad también se beneficien de tu trabajo.

</details>

<details>
<summary>

### ¿Cómo puedo restringir direcciones IP para solicitudes de correo en los conectores de correo electrónico de Logto? \{#how-can-i-restrict-ip-addresses-for-email-requests-in-logto-email-connectors}

</summary>

Una solución alternativa es usar el conector de correo electrónico HTTP de Logto.

Implementa un endpoint API en tu servidor que llame al servicio de correo correspondiente, y activa este endpoint API a través del [conector de correo electrónico HTTP de Logto](/integrations/http-email). De esta manera, tendrás control total sobre la dirección IP de tu endpoint API y podrás agregar las IP correspondientes a la lista blanca en la configuración del proveedor de correo.

</details>
