---
description: Logto 開源服務（OSS）初始化快速入門指南。
sidebar_position: 1
---

import LogtoIcon from '@site/src/assets/logto-logo.svg';
import CoolifyIcon from '@site/src/assets/oss-coolify.svg';
import DokployIcon from '@site/src/assets/oss-dokploy.svg';
import EasypanelIcon from '@site/src/assets/oss-easypanel.svg';
import ElestioIcon from '@site/src/assets/oss-elestio.svg';
import RailwayIcon from '@site/src/assets/oss-railway.svg';
import ZeaburIcon from '@site/src/assets/oss-zeabur.svg';
import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

# 開始使用 OSS

## GitPod \{#gitpod}

要在線上啟動 Logto 的 GitPod 工作區，<a href="https://gitpod.io/#https://github.com/logto-io/demo" target="_blank" rel="noopener">請點此</a>。稍等片刻，你會看到如下訊息：

<p>
  <img
    src="/img/assets/gitpod-running.png"
    alt="Gitpod is running"
    width="720px"
    style={{ borderRadius: '4px' }}
  />
</p>

Logto 預設使用埠號 `3001` 作為核心服務，`3002` 作為互動式管理主控台。

要繼續你的 Logto 之旅，請按下 Ctrl（或 Cmd）並點擊以 `https://3002-...` 開頭的連結。祝你使用愉快！

## 本地端 \{#local}

建議用於部署 Logto 的最低硬體需求如下：

- **vCPU**：2
- **記憶體**：8 GiB
- **磁碟**：256 GiB

<Tabs>

<TabItem value="docker-compose" label="Docker Compose">

Docker Compose CLI 通常隨 [Docker Desktop](https://www.docker.com/products/docker-desktop) 一同安裝。

:::caution
請勿在生產環境中使用我們的 docker compose 指令！目前我們在 `docker-compose.yml` 中將內建的 Postgres 資料庫與 Logto 應用程式綁定在一起，
每次重新執行指令都會建立新的資料庫實例，先前儲存的資料將會遺失。
:::

```bash
curl -fsSL https://raw.githubusercontent.com/logto-io/logto/HEAD/docker-compose.yml | docker compose -p logto -f - up
```

組合成功後，你會看到如下訊息：

</TabItem>

<TabItem value="docker" label="Docker">

<h3>步驟 1</h3>

準備一個 [PostgreSQL](https://www.postgresql.org/)@^14.0 實例，並使用 [Logto CLI](/logto-oss/using-cli) 為 Logto 初始化資料庫：

<Tabs groupId="cmd">

  <TabItem value="cli" label="CLI">

```bash
logto db seed
```

  </TabItem>
  <TabItem value="npx" label="npx">

```bash
npx @logto/cli db seed
```

  </TabItem>

</Tabs>

<h3>步驟 2</h3>

拉取映像檔：

```bash
# ghcr
docker pull ghcr.io/logto-io/logto:latest
# DockerHub
docker pull svhd/logto:latest
```

<h3>步驟 3</h3>

將容器埠號對應到 Logto 核心與管理應用程式，例如 `3001:3001` 和 `3002:3002`；並設定下列環境變數至容器：

```yml
TRUST_PROXY_HEADER: 1 # 如果 Logto 前方有 HTTPS 代理（如 Nginx），請設為 1
ENDPOINT: https://<your-logto-domain> # （選填）若使用自訂網域，請替換為你的 Logto 端點 URL
ADMIN_ENDPOINT: https://<your-logto-admin-domain> # （選填）若使用自訂網域，請替換為你的 Logto 管理端點 URL
DB_URL: postgres://username:password@your_postgres_url:port/db_name # 請替換為你的 Postgres DSN
```

使用上述所有環境變數啟動容器：

```bash
docker run \
  --name logto \
  -p 3001:3001 \
  -p 3002:3002 \
  -e TRUST_PROXY_HEADER=1 \
  -e ENDPOINT=https://<your-logto-domain> \
  -e ADMIN_ENDPOINT=https://<your-logto-admin-domain> \
  -e DB_URL=postgres://username:password@your_postgres_url:port/db_name \
  ghcr.io/logto-io/logto:latest
```

:::tip

- 若使用 Docker Hub，請將 `ghcr.io/logto-io/logto:latest` 替換為 `svhd/logto:latest`。
- 在 `DB_URL` 中可使用 `host.docker.internal` 或 `172.17.0.1` 指向主機 IP。

:::

最後，你會看到如下訊息：

</TabItem>

<TabItem value="npm" label="npm-init">

**先決條件**

- [Node.js](https://nodejs.org/) `^18.12.0`
- [PostgreSQL](https://postgresql.org/) `^14.0`

較高版本通常可用，但不保證。

建議使用一個全新且專屬於 Logto 的空資料庫，雖然這不是強制要求。

**下載並啟動**

在終端機執行：

```bash
npm init @logto@latest
```

完成初始化流程並啟動 Logto 後，你會看到如下訊息：

</TabItem>

</Tabs>

```text
Core app is running at http://localhost:3001
Core app is running at https://your-domain-url
Admin app is running at http://localhost:3002
Admin app is running at https://your-admin-domain-url
```

前往 `http://localhost:3002/` 繼續你的 Logto 之旅。祝你使用愉快！

<details>

<summary>

### 使用替代下載網址 \{#using-an-alternative-url-for-downloading}

</summary>

如果你想指定 Logto zip 檔案的下載網址，請使用 `--download-url` 參數。例如：

```
npm init @logto@latest -- --download-url=https://github.com/logto-io/logto/releases/download/v1.2.2/logto.tar.gz
```

請注意，NPM 需額外加上 `--` 才能傳遞參數。

</details>

<details>

<summary>

### 設定（選填） \{#configuration-optional}

</summary>

Logto 透過環境變數進行設定，並支援 `.env` 檔案。詳細用法與完整變數列表請參閱 [設定說明](/concepts/core-service/configuration)。

</details>

_若你需要更進階的控制或程式化存取 Logto，請參閱 [核心服務](/concepts/core-service)。_

## 主機服務商 \{#hosting-providers}

這些可靠的主機服務商提供 Logto 一鍵安裝範本。透過簡易部署服務，你可以在數秒內完成 CIAM 系統的建置與啟動。

<DocCardList
  items={[
    {
      type: 'link',
      label: 'Logto Cloud',
      href: 'https://cloud.logto.io',
      description: '具備免費開發租戶的高性價比雲端服務，輕鬆整合驗證 (Authentication)。',
      customProps: {
        icon: <LogtoIcon />,
      },
    },
    {
      type: 'link',
      label: 'Coolify',
      href: 'https://coolify.io/docs/services/logto/',
      description: '可自架的 Heroku/Netlify 替代方案，輕鬆管理應用與資料庫。',
      customProps: {
        icon: <CoolifyIcon />,
      },
    },
    {
      type: 'link',
      label: 'Dokploy',
      href: 'https://docs.dokploy.com/docs/core',
      description: '輕量級工具，讓你在自有基礎設施上部署應用。',
      customProps: {
        icon: <DokployIcon />,
      },
    },
    {
      type: 'link',
      label: 'Easypanel',
      href: 'https://easypanel.io/docs/templates/logto',
      description: '現代化控制面板，透過 Docker 管理雲端伺服器。',
      customProps: {
        icon: <EasypanelIcon />,
      },
    },
    {
      type: 'link',
      label: 'Elestio',
      href: 'https://elest.io/open-source/logto',
      description: '全託管 DevOps 平台，部署你的程式碼與開源軟體。',
      customProps: {
        icon: <ElestioIcon />,
      },
    },
    {
      type: 'link',
      label: 'Railway',
      href: 'https://railway.com/template/07_f_Z',
      description: '簡化應用部署與基礎設施管理。',
      customProps: {
        icon: <RailwayIcon />,
      },
    },
    {
      type: 'link',
      label: 'Zeabur',
      href: 'https://zeabur.com/docs/marketplace/logto',
      description: '協助開發者簡化應用部署、擴展與監控。',
      customProps: {
        icon: <ZeaburIcon />,
      },
    },
  ]}
/>

請注意，我們不提供第三方服務商的客戶支援。如需官方支援，請部署於 [Logto Cloud](https://cloud.logto.io)。感謝你的理解！

## 建立帳號 \{#create-an-account}

當你成功在伺服器上部署 Logto 後，請在歡迎頁點擊「建立帳號」。請注意，Logto 開源版僅允許首次啟動時建立一個帳號，且不支援多帳號。帳號建立僅支援使用者名稱與密碼組合。

:::tip
Logto OSS（自架版）不支援多位管理員設定。若需團隊協作或多管理員專案，建議使用 [Logto Cloud](https://cloud.logto.io)，該服務提供完整團隊管理功能。
:::

## 相關資源 \{#related-resources}

<Url href="https://blog.logto.io/local-https">本地 HTTPS 開發實務</Url>
