---
sidebar_position: 4
---

# 重設密碼

當你已設定有效的 [Email 連接器](/connectors/email-connectors) 或 [SMS 連接器](/connectors/sms-connectors) 時，密碼找回功能會自動啟用。使用者可透過輸入註冊時的電子郵件地址或手機號碼來重設密碼。

## 密碼重設流程 \{#password-reset-flow}

啟用重設密碼功能後，登入表單下方會顯示「忘記密碼」連結按鈕。使用者可點擊「忘記密碼」連結來啟動密碼重設流程。

:::note
沒有看到「忘記密碼」連結？請確認你已設定有效的 **Email** 或 **SMS** 連接器。
:::

1. **造訪登入頁面**：使用者造訪登入頁面。
2. **點擊忘記密碼連結**：使用者點擊「忘記密碼」連結。
3. **輸入電子郵件／手機號碼**：點擊「忘記密碼」後，使用者會被導向新頁面，輸入註冊時的電子郵件地址或手機號碼。
4. **發送驗證碼**：Logto 會將驗證碼發送至使用者提供的電子郵件地址或手機號碼，並導向驗證碼輸入頁面。
5. **輸入驗證碼**：使用者輸入收到的驗證碼。Logto 會驗證該驗證碼及與電子郵件地址或手機號碼關聯的使用者身分。
6. **輸入新密碼**：驗證碼驗證成功後，系統會提示使用者輸入新密碼。
7. **密碼重設成功**：若新密碼符合密碼政策要求，密碼將成功更新。
8. **導向登入頁面**：使用者將被導向登入頁面，使用新密碼登入。

<img src="/img/assets/reset-password.png" alt="重設密碼流程" />

## 已驗證使用者更新密碼 \{#update-password-for-authenticate-users}

已驗證的使用者可在帳號設定頁面更新密碼。詳情請參閱 [帳號設定](/end-user-flows/account-settings/) 以瞭解如何實作使用者帳號設定頁面。

## 自訂密碼政策 \{#custom-password-policy}

自訂密碼長度、字元要求與字詞限制，以兼顧企業安全需求與良好使用體驗。這些設定可於 **安全性 (Security)** 區段進行調整。詳情請參閱 [密碼政策](/security/password-policy)。

## 常見問題 \{#faqs}

<details>
  <summary>

### 密碼重設成功後，如何讓使用者登出？ \{#how-to-sign-out-a-user-after-a-successful-password-reset}

</summary>

訂閱 `PostResetPassword` [Webhook 事件](/developers/webhooks/webhooks-events#user-interaction-hook-events)，即可在使用者成功重設密碼時收到通知。你可以據此觸發 [登出](/end-user-flows/sign-out) 動作，使使用者當前會話失效並導向登入頁面。

</details>

<details>
  <summary>

### 如何在自訂 UI 上實作密碼重設流程？ \{#how-to-implement-the-password-reset-flow-on-my-custom-ui}

</summary>

你可以透過 Logto 的 **Management API** 與 **Account API** 實作自訂密碼重設流程。詳情請參閱 [帳號設定](/end-user-flows/account-settings/)。

</details>

<details>
  <summary>

### 如何將密碼重設連結發送到使用者電子郵件？ \{#how-can-i-send-a-password-reset-link-to-the-users-email}

</summary>

你可以建立自有的密碼重設端點，並利用 Logto SDK 發起登入請求，將 [`first_screen`](/end-user-flows/authentication-parameters/first-screen) 設為 `reset-password`，即可無縫導向使用者至密碼重設頁面。

</details>
