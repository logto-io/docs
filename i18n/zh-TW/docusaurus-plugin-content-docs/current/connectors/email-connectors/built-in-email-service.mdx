---
id: built-in-email-service
title: Logto 內建電子郵件服務
sidebar_label: Logto 內建電子郵件服務
sidebar_position: 2
---

Logto 為你在以下情境中提供內建電子郵件服務：

1. 快速體驗或測試 Logto 的電子郵件登入體驗。
2. 直接用於你的線上產品。這主要適合願意使用 `logto.email` 作為寄件人郵件網域的新創團隊。

Logto 電子郵件服務的特點：

- **免費使用**：完全免費，且無每日郵件發送數量限制，幫你節省成本。
- **無需設定**：無需與任何第三方電子郵件服務供應商進行設定。只需自訂電子郵件範本的基本品牌資訊。如果你暫時沒有自己的品牌資訊，也可以直接點幾下就開始使用。
- **穩定送達**：基於 Logto 的郵件服務，你能獲得穩定的服務與可靠的郵件送達，確保使用者能順利存取你的產品。

然而，雖然方便，仍有一些限制需注意：

1. 郵件將從固定地址 `no-reply@logto.email` 發送。
2. 你無法在郵件中新增連結或其他自訂內容。

隨著業務需求成長，你可以選擇改用其他電子郵件服務供應商。我們提供多種[現成的電子郵件服務連接器](/connectors/email-connectors#popular-email-providers)，同時也支援 [SMTP](/integrations/smtp)、[HTTP](/integrations/http-email) 及 [Webhook](/developers/webhooks) 觸發郵件發送，總有一種方式適合你。

:::note
Logto 內建免費電子郵件服務目前僅提供給 [Cloud](https://cloud.logto.io/) 用戶。開源版用戶則可自由設定自己的郵件服務供應商以支援郵件登入。
:::

## 設定步驟 \{#configuration-steps}

請依下列步驟設定 Logto 電子郵件服務：

1. 前往 <CloudLink to="/connectors/passwordless">連接器 > 電子郵件與簡訊連接器</CloudLink>。
2. 若要新增 Email 連接器，請點擊「**設定**」按鈕並選擇「**Logto 電子郵件服務**」連接器。
3. 當「Logto 電子郵件服務」連接器建立成功後，你可以自訂電子郵件範本中顯示的基本品牌資訊。
4. 完成變更後，請記得在儲存前先發送測試郵件範本到你的郵箱。

自訂選項：

- **寄件人郵件**：寄件人郵件固定為 `no-reply@logto.email`，不可修改。
- **寄件人名稱**：設定你的品牌名稱作為寄件人名稱，提升使用者辨識度。
- **公司資訊**：顯示你的公司名稱、地址或郵遞區號，以提升使用者信任並符合合規需求。_注意：不允許填寫網址。_
- **App 標誌**：上傳你的 App 品牌標誌，讓使用者收到郵件時能展現品牌價值。

## 統一郵件範本 \{#unified-email-templates}

Logto 電子郵件服務針對特定驗證 (Authentication) 情境提供統一郵件範本：

| 用途                     | 情境說明                                                                                                                                                             |
| ------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Register                 | 使用者以電子郵件註冊帳號，並輸入 Logto 發送到郵箱的驗證碼完成驗證。                                                                                                  |
| SignIn                   | 使用者以電子郵件登入，並輸入驗證碼（而非密碼）完成驗證。                                                                                                             |
| ForgotPassword           | 使用者登入時忘記密碼，可選擇以已驗證的電子郵件進行身分驗證。                                                                                                         |
| Generic                  | 此範本可作為多種情境的備用選項，包括測試連接器設定等。                                                                                                               |
| OrganizationInvitation   | 使用此範本向使用者發送邀請連結，邀請其加入組織 (Organization)。                                                                                                      |
| UserPermissionValidation | App 使用過程中，部分高風險或較高風險等級的操作（如銀行轉帳、刪除使用中資源、取消會員資格等）需額外驗證，此時可用 `UserPermissionValidation` 範本自訂郵件驗證碼內容。 |
| BindNewIdentifier        | 使用者修改個人資料時，可能會將電子郵件綁定到現有帳號，此時可用 `BindNewIdentifier` 範本自訂驗證郵件內容。                                                            |
| MfaVerification          | 啟用電子郵件 MFA（多重要素驗證 (MFA)）時，該範本用於在多重要素驗證流程中發送驗證碼給使用者。                                                                         |
| BindMfa                  | 啟用電子郵件 MFA 時，該範本用於設定 MFA 郵件驗證碼。當使用者將電子郵件設為 MFA 因子時，會收到此驗證碼。                                                              |

以下為「Register」用途搭配自訂品牌資訊的郵件範本範例：

<img
  src="/img/assets/logto-email-service-template-sample.png"
  alt="Logto 內建電子郵件服務範本範例"
/>

若未提供自訂品牌資訊，郵件範本仍可使用預設顯示與版型：

<img
  src="/img/assets/logto-email-service-template-sample-without-branding.png"
  alt="Logto 內建電子郵件服務無品牌範本範例"
/>

### 在地化 \{#localization}

Logto 內建電子郵件服務支援多語言，會自動偵測使用者的登入體驗 (Sign-in Experience) 設定，並以使用者偏好語言發送郵件。

透過 Management API 發送組織邀請時，你可以在請求內容中指定 `locale` 參數。例如：

```json
{
  "inviterId": "inviter-user-id",
  "invitee": "invitee-email-address",
  "expiresAt": "epoch-timestamp",
  "organizationId": "organization-id",
  "messagePayload": {
    "link": "https://your-app.com/invite-accept?invitation-id=abcd1234",
    // highlight-start
    "locale": "fr"
    // highlight-end
  }
}
```

## 常見問題 \{#faqs}

<details>
<summary>

### 可以在 Logto 電子郵件服務中加入自訂 CSS 或 HTML 嗎？ \{#is-it-possible-to-add-custom-css-or-html-to-logto-email-service}

</summary>

Logto 內建電子郵件服務不支援自訂 CSS 或 HTML，你只能修改通用品牌元素。此限制是為了維護內建郵件服務的穩定性，因所有租戶共用同一 IP 與寄件人地址。詳情請參考「[提升郵件送達率的因素](https://blog.logto.io/verification-email-delivery#factors-to-improve-email-delivery)」。

若需自訂郵件範本，建議改用其他郵件連接器，如 AWS Direct Mail、SendGrid、Mailgun、Postmark 或 SMTP。

</details>
