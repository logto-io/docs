### 建立 Tencent Cloud 帳號 \{#create-an-tencent-cloud-account}

前往 [Tencent Cloud 官方網站](https://cloud.tencent.com/)，若尚未註冊帳號請先註冊。

### 啟用並設定 Tencent Cloud SMS \{#enable-and-configure-tencent-cloud-sms}

1. 使用你的帳號登入 [Tencent Cloud 官方網站](https://cloud.tencent.com/)，並進入 [SMS 服務主控台頁面](https://cloud.tencent.com/product/sms)。
2. 在 SMS 服務頁面點擊「免費試用」(免费试用) 按鈕，並依照指示完成設定步驟。
3. 同意「短信開通服務條款」(短信开通服务条款)，點擊「開通服務」(开通服务) 以繼續。
4. 在「[短信服務控制台概覽](https://console.cloud.tencent.com/smsv2)」(短信服务控制台概览) 中，根據需求從側邊欄選擇「國內消息」(国内消息) 或「國際 / 港澳台消息」(国际/港澳台消息)。
5. 新增簡訊簽名與範本。注意事項：
   - 新增「簽名」(签名) 時，於「適用場景」(模版类型) 欄位選擇「驗證碼」(验证码)。
   - 新增範本時，選擇「驗證碼」作為範本類型。
   - 範本內容需包含一個 `{1}` 佔位符，將由系統隨機產生的驗證碼取代。
   - 不支援多個佔位符的範本。請使用或建立僅有一個佔位符的範本。
6. 提交簽名與範本以供審核。提交後：
   - 等待生效。
   - 可於「[短信服務控制台概覽](https://console.cloud.tencent.com/smsv2)」(短信服务控制台概览) 發送測試簡訊。已審核通過的簽名與範本可直接用於測試，若尚在審核中可使用平台提供的測試範本。
   - 請確保帳戶餘額充足，並預先註冊測試手機號碼以順利接收簡訊。

詳細操作請點擊 SMS 控制台概覽中的「新手配置指引」(新手配置指引) 分頁。

## 編寫連接器 JSON \{#compose-the-connector-json}

1. 前往「[短信服務控制台概覽](https://console.cloud.tencent.com/smsv2)」，將滑鼠移至右上角頭像，依序進入「存取管理 > 存取金鑰 > API 金鑰」以產生 `AccessKey ID` 與 `AccessKey Secret`（完成安全驗證後）。請妥善保存這些資訊。
2. 於「國內消息」(国内消息) 或「國際 / 港澳台消息」(国际/港澳台消息) 分頁中，取得「簽名名稱」(签名名称) 與「範本編碼」(模版 CODE)。
   - 測試範本請於「快速開始」(快速开始) 分頁下的「測試專用簽名模版」(测试专用签名模版) 查詢。

- 配置 Tencent Cloud SMS 連接器時，請填寫以下欄位：
  - `accessKeyId` 與 `accessKeySecret`：使用步驟 1 取得的憑證。
  - `signName`：步驟 2 取得的簽名名稱，適用於所有範本。
  - 若有多種情境需求，可新增多個範本。單一範本範例如下：
    - `templateCode`：於步驟 2 取得的範本編碼。
    - `usageType`：針對不同情境指定 `Register`、`SignIn`、`ForgotPassword` 或 `Generic`（Logto 專屬屬性）。
    - 請確保四種情境皆已配置範本，以完成整體流程。
  - `sdkAppId`：於「[應用管理](https://console.cloud.tencent.com/smsv2/app-manage)」(应用管理) 查詢。
  - `region`：請參考「[發送文檔](https://cloud.tencent.com/document/api/382/52071#.E5.9C.B0.E5.9F.9F.E5.88.97.E8.A1.A8)」(发送文档) 指定支援的地區。

### 測試 Tencent Cloud SMS 連接器 \{#test-tencent-cloud-sms-connector}

你可以輸入手機號碼並點擊「發送」，在「儲存並完成」前測試設定是否可用。

就是這麼簡單。別忘了 <MainSiteUrl href="/connectors/sms-connectors#enable-phone-number-sign-up-or-sign-in">在登入體驗中啟用連接器</MainSiteUrl>。

### 配置類型 \{#config-types}

| 名稱            | 類型       |
| --------------- | ---------- |
| accessKeyId     | string     |
| accessKeySecret | string     |
| signName        | string     |
| region          | string     |
| sdkAppId        | string     |
| templates       | Template[] |

| 範本屬性     | 類型        | 列舉值                                               |
| ------------ | ----------- | ---------------------------------------------------- |
| templateCode | string      | N/A                                                  |
| usageType    | enum string | 'Register' / 'SignIn' / 'ForgotPassword' / 'Generic' |
