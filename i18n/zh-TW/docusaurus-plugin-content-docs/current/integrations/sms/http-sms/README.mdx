---
slug: /integrations/http-sms
sidebar_label: HTTP SMS
sidebar_custom_props:
  description: 透過 HTTP 呼叫發送簡訊。
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# 使用 HTTP SMS 設定簡訊驗證 (Set up SMS verification with HTTP SMS)

官方 Logto HTTP SMS 連接器。

<GuideTip />

## 開始使用 \{#get-started}

HTTP SMS 連接器允許你透過 HTTP 呼叫發送簡訊。要使用 HTTP SMS 連接器，你需要有自己的簡訊服務，並且該服務需提供用於發送簡訊的 HTTP API。Logto 會在需要發送簡訊時呼叫這個 API。例如，當使用者註冊時，Logto 會呼叫 HTTP API 發送驗證簡訊。

## 設定 HTTP SMS 連接器 \{#set-up-http-sms-connector}

要使用 HTTP SMS 連接器，你需要設定一個 Logto 可呼叫的 HTTP 端點，以及（可選）該端點的授權權杖 (authorization token)。

:::tip

請注意，為避免驗證 (Authentication) 流程出錯，所設定的 `endpoint` 在收到 webhook 後必須回傳 2xx 響應，以告知 Logto 已收到發送簡訊的通知。

同時，在這種情境下，你需要監控簡訊服務以確保簡訊成功送達。或者，你也可以為你的簡訊發送 API 增加監控，以即時偵測簡訊發送失敗。

:::

## 載荷 (Payload) \{#payload}

HTTP SMS 連接器在需要發送簡訊時，會將以下載荷傳送至端點：

```json
{
  "to": "+1234567890",
  "type": "SignIn",
  "payload": {
    "code": "123456"
  },
  "ip": "192.168.1.1"
}
```

`ip` 欄位為選填，當可用時會包含用戶端 IP 位址。你可以用於速率限制、詐騙偵測或加強日誌記錄。

所有類型可參考 [簡訊範本 (SMS templates)](/connectors/sms-connectors/sms-templates)，`SendMessageData` 的完整型別定義可參考 [connector-kit](https://github.com/logto-io/logto/tree/master/packages/toolkit/connector-kit/src/types/passwordless.ts)。
