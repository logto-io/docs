成功建立 Microsoft Entra OIDC 應用程式後，你需要將 IdP 設定資訊回填至 Logto。請前往 Logto Console 的 `Connection` 分頁，並填寫以下設定：

1. **Client ID**：由 Microsoft Entra 指派給你的 OIDC 應用程式的唯一識別碼。Logto 會利用此識別碼在 OIDC 流程中識別並驗證應用程式。你可以在應用程式總覽頁面找到，標示為 `Application (client) ID`。

<center>
  <img src="/img/assets/entra_id_oidc_application_details.webp" alt="Application Details" />
</center>

2. **Client Secret**：建立新的 client secret，並將其值複製到 Logto。此 secret 用於驗證 OIDC 應用程式，並保障 Logto 與 IdP 之間的通訊安全。

<center>
  <img src="/img/assets/entra_id_oidc_create_secret.webp" alt="Create Secret" />
</center>

3. **簽發者 (Issuer)**：簽發者 URL，是 IdP 的唯一識別符，指定 OIDC 身分提供者的位置。這是 OIDC 設定中極為重要的一環，協助 Logto 發現所需的端點。

   無需手動填寫所有 OIDC 端點，Logto 會自動根據你提供的簽發者 url 取得所有必要設定與 IdP 端點。這是透過呼叫 IdP 的 discover 端點來完成的。

   你可以在應用程式總覽頁面的 `Endpoints` 區段找到簽發者 URL。

   找到 `OpenID Connect metadata document` 端點，並複製該 URL，**不要**包含最後的 `.well-known/openid-configuration` 路徑。因為 Logto 會在取得 OIDC 設定時自動加上 `.well-known/openid-configuration`。

<center>
  <img src="/img/assets/entra_id_oidc_endpoints.webp" alt="Endpoints" />
</center>

4. **權限範圍 (Scope)**（選填）：Logto 會自動在所有請求中包含必要的權限範圍（`openid`、`profile` 和 `email`）。如果你的應用程式需要從 IdP 取得額外權限或存取層級，可以以空格分隔的方式指定其他權限範圍。

點擊 `Save` 完成設定流程
