## 在釘釘開放平台建立網頁應用程式 \{#create-a-web-app-in-the-dingtalk-open-platform}

提示：如果你已經完成部分步驟，可以略過相關章節。

### 註冊釘釘開發者帳號 \{#register-a-dingtalk-developer-account}

如果你還沒有釘釘開發者帳號，請前往 [釘釘開放平台](https://open.dingtalk.com) 註冊。

### 建立應用程式 \{#create-an-application}

1. 在釘釘開放平台「[應用開發](https://open-dev.dingtalk.com/fe/app)」>「企業內部應用」>「釘釘應用」中，點擊「建立應用」
2. 填寫**應用名稱**與**描述**，然後點擊「儲存」
3. 在左側導覽列選擇「開發配置」>「安全設置」，找到並設定「Redirect URL」`${your_logto_origin}/callback/${connector_id}`。你可以在管理主控台新增對應連接器後，在連接器詳情頁找到 `connector_id`
4. 在左側導覽列選擇「基本資訊」>「憑證與基本資訊」，取得 `Client ID` 與 `Client Secret`

### 配置權限 \{#configure-permissions}

在「開發配置」>「權限管理」中，選擇 `Contact.User.Read` 與 `Contact.User.mobile` 權限並授權

### 發佈應用程式 \{#release-application}

在左側導覽列選擇「應用發佈」>「版本管理與發佈」，建立並發佈第一個版本以啟用 `Client ID` 與 `Client Secret`

:::note
如果應用程式未發佈版本，取得的「Client ID」與「Client Secret」將無法使用，或請求會失敗。
:::

## 配置你的連接器 \{#configure-your-connector}

將你在前述 OAuth 應用程式詳情頁取得的 _Client ID（原 AppKey 與 SuiteKey）_ 與 _Client Secret（原 AppKey 與 SuiteKey）_ 分別填入 `clientId` 與 `clientSecret` 欄位。

`scope` 目前支援兩個值：`openid` 與 `openid corpid`。`openid` 可在授權後取得使用者的 `userid`，而 `openid corpid` 則可同時取得使用者的 `id` 及登入流程中選擇的組織 `id`。多個值請以空格分隔。注意：需進行 URL 編碼。

### 配置類型 \{#config-types}

| 名稱         | 類型   |
| ------------ | ------ |
| clientId     | string |
| clientSecret | string |
| scope        | string |

## 測試釘釘連接器 \{#test-dingtalk-connector}

就是這樣。現在釘釘連接器應該可以使用了。別忘了 [在登入體驗中啟用連接器](https://docs.logto.io/docs/recipes/configure-connectors/social-connector/enable-social-sign-in/)。

啟用釘釘網頁連接器後，你可以再次登入你的應用程式來測試是否運作正常。

:::note
請確保在開發過程中嚴格遵守釘釘開放平台的使用規範與開發指引。
:::

## 支援 \{#support}

如果你有任何疑問或需要進一步協助，請參閱 [釘釘開發者文件](https://open.dingtalk.com/document/orgapp/obtain-identity-credentials) 或聯繫釘釘技術支援。
