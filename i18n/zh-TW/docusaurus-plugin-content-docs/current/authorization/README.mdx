import Rbac from '@site/docs/authorization/assets/rbac-global-api-resources.png';
import Api from '@site/src/assets/api.svg';
import OrgTemplate from '@site/src/assets/authorization.svg';
import Jwt from '@site/src/assets/gear-plus.svg';
import Role from '@site/src/assets/role.svg';

# 授權 (Authorization)

[授權 (Authorization)](https://auth.wiki/authorization) 定義使用者在驗證後可以執行的操作或存取的資源，決定他們在應用程式中可以做什麼。

Logto 授權服務使用 **基於權杖的** 機制。雖然 Logto 提供 `存取權杖 (access token)`，但你的資源伺服器負責驗證並執行它們作為存取控制的一部分。

有兩種類型的 [存取權杖 (access tokens)](https://auth.wiki/access-token)：

1. **存取權杖 (Access tokens)**：用於存取使用者/系統 API 資源。
2. **組織權杖 (Organization tokens)**：用於組織資源的特殊存取權杖，當啟用組織功能時，用於多租戶架構。

Logto 提供多種情境的授權服務。以下是幾個典型的使用案例，你可以選擇合適的方案並將其與 Logto 的功能和服務匹配。

| 情境                                                                                                                   | 方法                                                                                | 授權流程                                                                                                    |
| ---------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------- |
| [簡單保護你的 API 資源，不使用 RBAC。](/authorization/api-resources/protect-your-api)                                  | 在 Logto Console 中註冊你的 API，Logto 將簡單地授予存取權杖                         | Logto 授予 `存取權杖 (access token)`（不含權限），你需要驗證這些權杖以保護你的 API 資源。                   |
| [使用 RBAC 保護你的 API 資源](/authorization/role-based-access-control/protect-api-resources-with-rbac)                | 註冊你的 API 並應用 RBAC 以實現靈活、細粒度的存取控制。                             | Logto 授予包含 `權限 (permission)` 的 `存取權杖 (access token)` 以保護你的 API 資源。                       |
| [使用組織層級 RBAC（組織模板）保護你的組織資源。](/authorization/organization-template/protect-organization-resources) | 將每個組織視為資源，使用組織層級 RBAC（組織模板）在 **多租戶** 架構中進行存取控制。 | Logto 授予包含 `組織權限 (organization permission)` 的 `組織權杖 (organization token)` 以保護組織層級資源。 |

你也可以使用像 [自訂權杖宣告](/developers/custom-token-claims) 這樣的工具，在存取權杖中包含額外的宣告以滿足你的自訂技術需求。還有更高級的使用案例：[使用組織層級 RBAC（組織模板）保護你的 API 資源](/authorization/organization-template/protect-api-reources)

## 熟悉角色型存取控制 \{#get-familiar-with-role-based-access-control}

角色型存取控制在整個 Logto 基礎設施中使用，涵蓋系統（角色型存取控制）和組織層級（組織 RBAC）：

1. **主體 (Subjects)**：可以是真實的使用者（或在組織上下文中的成員）或非人類實體，如機器對機器應用程式。
2. **API 資源 (API resources)**：系統中需要保護的資源。
3. **角色 (Roles)**：代表工作職能或責任。
4. **權限 (Permissions)**：定義在特定資源上授權的操作。

<img src={Rbac} style={{ maxWidth: '100%' }} alt="Role-based access control" />

管理這些實體及其關係，讓你能靈活滿足存取控制需求。在 Logto 中，你可以在兩個層級使用 RBAC，使用者/系統層級（不涉及中間的組織層），以及組織。在組織上下文中，有一個獨立的 RBAC 設計，我們稱之為「組織模板」。

## 授權功能 \{#features-for-authorization}

<DocCardList
  items={[
    {
      type: 'link',
      label: 'API 資源',
      href: '/authorization/api-resources',
      description: '在 Logto Console 中簡單註冊 API 資源並保護你的 API 資源。',
      customProps: {
        icon: <Api />,
      },
    },
    {
      type: 'link',
      label: '角色型存取控制',
      href: '/authorization/role-based-access-control',
      description: '使用角色型存取控制 (RBAC) 管理使用者/系統層級的權限，以便於管理和靈活性。',
      customProps: {
        icon: <Role />,
      },
    },
    {
      type: 'link',
      label: '組織模板',
      href: '/authorization/organization-template',
      description: '使用組織模板（組織 RBAC）保護你的資源。適用於多租戶產品，角色在組織層級定義。',
      customProps: {
        icon: <OrgTemplate />,
      },
    },
    {
      type: 'link',
      label: '自訂權杖宣告',
      href: '/developers/custom-token-claims',
      description: '使用自訂權杖宣告新增自訂宣告以實現屬性型存取控制。',
      customProps: {
        icon: <Jwt />,
      },
    },
  ]}
/>

## 相關資源 \{#related-resources}

<Url href="https://blog.logto.io/rbac-and-abac">RBAC 和 ABAC：你應該知道的存取控制模型</Url>

<Url href="https://blog.logto.io/logto-authorization-system-and-its-use">
  Logto 的授權系統及其在身分管理情境中的應用
</Url>
