---
sidebar_position: 3
---

import illustration from '@site/docs/authorization/assets/rbac-global-api-resources.png';
import AuthorizationRequestExample from '@site/docs/authorization/fragments/AuthorizationRequestExample';
import ClientCredentialsRequestExample from '@site/docs/authorization/fragments/ClientCredentialsRequestExample';
import TokenRequestExample from '@site/docs/authorization/fragments/TokenRequestExample';
import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

# ä¿è­·å…¨åŸŸ API è³‡æº (API resources)

export const resource = 'https://api.your-app.com';

ä½¿ç”¨ Logto çš„è§’è‰²å‹å­˜å–æ§åˆ¶ (RBAC, Role-based Access Control) ä¾†ä¿è­·ç”¢å“å±¤ç´šçš„ APIã€‚æŒ‡æ´¾å…¨åŸŸè§’è‰² (Roles) èˆ‡æ¬Šé™ (Permissions)ï¼Œä»¥æ§ç®¡æ‰€æœ‰ä½¿ç”¨è€…èˆ‡ç”¨æˆ¶ç«¯åœ¨ä½ çš„æ‡‰ç”¨ç¨‹å¼ä¸­çš„å­˜å–æ¬Šé™ã€‚

## ä»€éº¼æ˜¯å…¨åŸŸ API è³‡æº (API resources)ï¼Ÿ\{#what-are-global-api-resources}

å…¨åŸŸ API è³‡æº (API resources) æ˜¯æŒ‡åœ¨ä½ çš„æ‡‰ç”¨ç¨‹å¼ä¸­ï¼Œæ‰€æœ‰ä½¿ç”¨è€…çš†å¯å­˜å–çš„ç«¯é»æˆ–æœå‹™ï¼Œä¸è«–å…¶æ‰€å±¬çµ„ç¹”æˆ–ç§Ÿæˆ¶ã€‚é€™äº›é€šå¸¸æ˜¯å°å¤–å…¬é–‹çš„ APIã€æ ¸å¿ƒç”¢å“æœå‹™ï¼Œæˆ–ä»»ä½•æœªé™å®šæ–¼ç‰¹å®šçµ„ç¹”çš„ç«¯é»ã€‚

**å¸¸è¦‹æ‡‰ç”¨æƒ…å¢ƒåŒ…å«**

- ä¾›æ‰€æœ‰ä½¿ç”¨è€…å…±ç”¨çš„å…¬é–‹ API æˆ–ç«¯é»ã€‚
- ä¸å±¬æ–¼å¤šç§Ÿæˆ¶æ¶æ§‹çš„å¾®æœå‹™ã€‚
- æ‰€æœ‰å®¢æˆ¶éƒ½æœƒç”¨åˆ°çš„æ ¸å¿ƒæ‡‰ç”¨ç¨‹å¼ APIï¼ˆå¦‚ `/api/users`ã€`/api/products`ï¼‰ã€‚

Logto å…è¨±ä½ çµåˆ OAuth 2.1 èˆ‡å½ˆæ€§çš„è§’è‰²å‹å­˜å–æ§åˆ¶ä¾†ä¿è­·é€™äº› APIã€‚

## Logto ä¸­çš„é‹ä½œæ–¹å¼ \{#how-it-works-in-logto}

- **API è³‡æº (API resources) èˆ‡æ¬Šé™ (Permissions) å…¨åŸŸè¨»å†Šï¼š** ä½ æƒ³ä¿è­·çš„æ¯å€‹ API éƒ½éœ€ä»¥å”¯ä¸€çš„è³‡æºæ¨™ç¤ºç¬¦ (Resource indicator, URI) è¨»å†Šï¼Œä¸¦è¨­å®šä¸€çµ„æ§åˆ¶å­˜å–çš„æ¬Šé™ç¯„åœ (Scopes)ã€‚
- **å­˜å–æ¬Šç”±å…¨åŸŸè§’è‰² (Roles) æ§åˆ¶ï¼š** ä½ å¯ä»¥å°‡æ¬Šé™æŒ‡æ´¾çµ¦è§’è‰²ï¼Œå†å°‡è§’è‰²æŒ‡æ´¾çµ¦ä½¿ç”¨è€…æˆ–ç”¨æˆ¶ç«¯ã€‚
- **èˆ‡çµ„ç¹”å±¤ç´šæ¬Šé™åˆ†é›¢ï¼š** å…¨åŸŸ API è³‡æº (API resources) ä¸å…·çµ„ç¹”ä¸Šä¸‹æ–‡ã€‚ä½†å¦‚æœ‰éœ€è¦ï¼Œä¹Ÿå¯èˆ‡çµ„ç¹”è§’è‰² (Roles) æ­é…ï¼Œæä¾›é¡å¤–çš„ä¸Šä¸‹æ–‡å±¤ã€‚è‹¥è¦ä¿è­·çµ„ç¹”å±¤ç´š APIï¼Œè«‹åƒé–± [ä¿è­·çµ„ç¹”å±¤ç´š API è³‡æº (API resources)](/authorization/organization-level-api-resources)ã€‚

<img src={illustration} alt="å…¨åŸŸ API è³‡æº RBAC" style={{ maxWidth: '100%' }} />

### å¯¦ä½œæµç¨‹ç¸½è¦½ \{#implementation-overview}

1. **è¨»å†Šä½ çš„ API è³‡æº (API resource)** ä¸¦åœ¨ Logto ä¸­å®šç¾©å…¶æ¬Šé™ã€‚
2. **å®šç¾©è§’è‰² (Roles)**ï¼Œä¸¦è³¦äºˆå­˜å– API æ‰€éœ€çš„æ¬Šé™ã€‚
3. **æŒ‡æ´¾è§’è‰² (Roles)** çµ¦ä½¿ç”¨è€…æˆ–ç”¨æˆ¶ç«¯ã€‚
4. **ä½¿ç”¨ OAuth 2.0 æˆæ¬Šæµç¨‹** å–å¾— API çš„å­˜å–æ¬Šæ– (Access token)ï¼ˆresource åƒæ•¸å¿…é ˆèˆ‡è¨»å†Šçš„ API æ¨™è­˜ç¬¦ä¸€è‡´ï¼‰ã€‚
5. **åœ¨ API ç«¯é©—è­‰å­˜å–æ¬Šæ– (Access token)**ï¼Œä»¥å¼·åˆ¶åŸ·è¡Œæ¬Šé™æ§ç®¡ã€‚

### èªè­˜è³‡æºæ¨™ç¤ºç¬¦ (Resource indicators) \{#understanding-resource-indicators}

Logto ä¾æ“š [RFC 8707: Resource Indicators for OAuth 2.0](https://www.rfc-editor.org/rfc/rfc8707.html) å»ºæ¨¡ API è³‡æº (API resources)ã€‚**è³‡æºæ¨™ç¤ºç¬¦ (Resource indicator)** æ˜¯å”¯ä¸€è­˜åˆ¥ç›®æ¨™ API æˆ–æœå‹™çš„ URIã€‚

**é‡é»èªªæ˜**

- è³‡æºæ¨™ç¤ºç¬¦å¿…é ˆç‚ºçµ•å° URIï¼ˆå¦‚ `https://api.example.com`ï¼‰
- ä¸å¯åŒ…å« fragment å…ƒä»¶ï¼›ç›¡é‡é¿å…ä½¿ç”¨æŸ¥è©¢å­—ä¸²ã€‚
- è³‡æºæ¨™ç¤ºç¬¦å¯å¯¦ç¾å—çœ¾é™åˆ¶æ¬Šæ– (Audience-restricted tokens) èˆ‡å¤š API æ¶æ§‹æ”¯æ´ã€‚

**ç¯„ä¾‹**

- Management APIï¼š`https://my-tenant.logto.app/api`
- è‡ªè¨‚å…¨åŸŸ APIï¼š`https://api.yourapp.com`

### æˆæ¬Šæµç¨‹ï¼šé©—è­‰ (Authentication) ä¸¦ä¿è­·ä½ çš„ API \{#authorization-flow-authenticating-and-securing-your-api}

ä¸‹æ–¹æµç¨‹é©ç”¨æ–¼äº’å‹•å¼ä½¿ç”¨è€…é©—è­‰ï¼ˆç€è¦½å™¨ / æ‡‰ç”¨ç¨‹å¼ï¼‰èˆ‡å¾Œç«¯æ©Ÿå™¨å°æ©Ÿå™¨ (M2M) æƒ…å¢ƒã€‚

è«‹æ³¨æ„ï¼Œæµç¨‹æœªè©³åˆ—æ‰€æœ‰å¿…è¦åƒæ•¸æˆ–æ¨™é ­ï¼Œåƒ…èšç„¦æ–¼ä¸»è¦æ­¥é©Ÿã€‚ç¹¼çºŒé–±è®€å¯ç­è§£å¯¦éš›é‹ä½œæ–¹å¼ã€‚

```mermaid
sequenceDiagram
    participant Client as ç”¨æˆ¶ç«¯ (Client)
    participant Logto
    participant API as API è³‡æº (API resource)

    alt ä½¿ç”¨è€…é©—è­‰ (User authentication)
        Client->>Logto: GET /oidc/auth
        Logto->>Logto: å°‡ä½¿ç”¨è€…å°å‘ç™»å…¥é é¢
        Logto->>Client: ç™»å…¥å¾Œå¸¶è‘— `authorization_code` å°å›
        alt ä½¿ç”¨ authorization_code grant
            Client->>Logto: POST /oidc/tokenï¼Œå¸¶ `grant_type=authorization_code`<br/>èˆ‡ `resource` åƒæ•¸
        else ä½¿ç”¨ refresh_token grant
            Client->>Logto: POST /oidc/tokenï¼Œå¸¶ `grant_type=authorization_code`
            Logto->>Client: å›å‚³ refresh token
            Client->>Logto: POST /oidc/tokenï¼Œå¸¶ `grant_type=refresh_token`<br/>èˆ‡ `resource` åƒæ•¸
        end
    else æ©Ÿå™¨å°æ©Ÿå™¨ (M2M) ç”¨æˆ¶ç«¯é©—è­‰
        Client->>Logto: POST /oidc/tokenï¼Œå¸¶ `grant_type=client_credentials`<br/>èˆ‡ `resource` åƒæ•¸
    end

    Logto->>Client: å›å‚³å­˜å–æ¬Šæ– (Access token, JSON Web Token)
    Client->>API: ä»¥ Bearer token è«‹æ±‚
    API->>API: é©—è­‰å­˜å–æ¬Šæ– (Access token)

    alt æ¬Šæ–æœ‰æ•ˆ
      API->>Client: å›å‚³å—ä¿è­·è³‡æºè³‡æ–™
    else æ¬Šæ–ç„¡æ•ˆ
      API->>Client: 401 æœªæˆæ¬Š (Unauthorized)
    end
```

_ä½¿ç”¨è€…é©—è­‰ = ç€è¦½å™¨ / æ‡‰ç”¨ç¨‹å¼ã€‚M2M = ä½¿ç”¨ client credentials çš„å¾Œç«¯æœå‹™æˆ–è…³æœ¬ã€‚_

:::note
`resource` åƒæ•¸å¿…é ˆèˆ‡ä½ åœ¨ Logto è¨»å†Šçš„ API æ¨™è­˜ç¬¦ï¼ˆè³‡æºæ¨™ç¤ºç¬¦ï¼‰å®Œå…¨ä¸€è‡´ã€‚
:::

## å¯¦ä½œæ­¥é©Ÿ \{#implementation-steps}

### è¨»å†Šä½ çš„ API è³‡æº (API resources) \{#register-your-api-resources}

1. å‰å¾€ <CloudLink to="/api-resources">ä¸»æ§å° â†’ API è³‡æº (API resources)</CloudLink>ã€‚
2. å»ºç«‹æ–°çš„ API è³‡æºï¼ˆå¦‚ `https://api.yourapp.com/org`ï¼‰ï¼Œä¸¦å®šç¾©å…¶æ¬Šé™ï¼ˆScopesï¼‰ã€‚

å®Œæ•´è¨­å®šæ­¥é©Ÿè«‹åƒé–± [å®šç¾©å…·æ¬Šé™çš„ API è³‡æº (API resources)](/authorization/role-based-access-control#define-api-resources-with-permissions)ã€‚

### è¨­å®šå…¨åŸŸè§’è‰² (Roles) \{#set-up-global-roles}

1. å‰å¾€ <CloudLink to="/roles">ä¸»æ§å° â†’ è§’è‰² (Roles)</CloudLink>ã€‚
2. å»ºç«‹å°æ‡‰ API æ¬Šé™çš„è§’è‰²ï¼ˆå¦‚ `read:products`ã€`write:products`ï¼‰ã€‚
3. å°‡é€™äº›è§’è‰²æŒ‡æ´¾çµ¦éœ€è¦å­˜å– API çš„ä½¿ç”¨è€…æˆ–ç”¨æˆ¶ç«¯ã€‚

å®Œæ•´è¨­å®šæ­¥é©Ÿè«‹åƒé–± [ä½¿ç”¨å…¨åŸŸè§’è‰² (Roles)](/authorization/role-based-access-control#configure-global-roles)ã€‚

### å–å¾—å…¨åŸŸ API è³‡æº (API resources) çš„å­˜å–æ¬Šæ– (Access tokens) \{#obtain-access-tokens-for-global-api-resources}

åœ¨å­˜å–å…¨åŸŸ API è³‡æº (API resources) å‰ï¼Œä½ çš„ç”¨æˆ¶ç«¯å¿…é ˆå…ˆå–å¾—å­˜å–æ¬Šæ– (Access token)ã€‚Logto æœƒé‡å°å…¨åŸŸ API è³‡æº (API resources) ç™¼è¡Œ [JSON Web Token (JWT)](https://auth.wiki/jwt) ä½œç‚ºå­˜å–æ¬Šæ–ã€‚é€™é€šå¸¸é€é [OAuth 2.0 æˆæ¬Šç¢¼æµç¨‹ (authorization code flow)](https://auth.wiki/authorization-code-flow)ã€[é‡æ–°æ•´ç†æ¬Šæ–æµç¨‹ (refresh token flow)](https://auth.wiki/refresh-token) æˆ– [client credentials æµç¨‹](https://auth.wiki/client-credentials-flow) å®Œæˆã€‚

#### æˆæ¬Šç¢¼æˆ–é‡æ–°æ•´ç†æ¬Šæ–æµç¨‹ \{#authorization-code-or-refresh-token-flow}

æ‰€æœ‰ Logto å®˜æ–¹ SDK å‡åŸç”Ÿæ”¯æ´ä½¿ç”¨é‡æ–°æ•´ç†æ¬Šæ–æµç¨‹å–å¾—å…¨åŸŸ API è³‡æº (API resources) çš„å­˜å–æ¬Šæ– (Access token)ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ¨™æº– OAuth 2.0 / OIDC ç”¨æˆ¶ç«¯å‡½å¼åº«å¯¦ä½œæ­¤æµç¨‹ã€‚

<Tabs groupId="user-client">
<TabItem value="logto-sdk" label="Logto SDK">

åˆå§‹åŒ– Logto ç”¨æˆ¶ç«¯æ™‚ï¼Œå°‡è³‡æºæ¨™ç¤ºç¬¦ (Resource indicator) åŠ å…¥ `resources` åƒæ•¸ï¼ˆé™£åˆ—ï¼‰ï¼Œå†å°‡æ‰€éœ€æ¬Šé™ï¼ˆScopesï¼‰åŠ å…¥ `scopes` åƒæ•¸ã€‚

ä½¿ç”¨è€…é©—è­‰å¾Œï¼Œè«‹åœ¨è«‹æ±‚å­˜å–æ¬Šæ– (Access token) æ™‚ï¼Œæ–¼ `resource` åƒæ•¸æˆ–åŒååƒæ•¸å‚³å…¥è³‡æºæ¨™ç¤ºç¬¦ï¼ˆå¦‚å‘¼å« `getAccessToken()`ï¼‰ã€‚

å„ SDK è©³ç´°ç”¨æ³•è«‹åƒé–± [å¿«é€Ÿå…¥é–€](/quick-starts)ã€‚

</TabItem>
<TabItem value="oauth-client" label="OAuth 2.0 / OIDC client library">

è¨­å®š OAuth 2.0 ç”¨æˆ¶ç«¯æˆ–åˆå§‹åŒ–æˆæ¬Šç¢¼æµç¨‹æ™‚ï¼Œè«‹ç¢ºä¿åœ¨æˆæ¬Šè«‹æ±‚ä¸­åŒ…å« `resource` åƒæ•¸èˆ‡æ‰€éœ€ scopesã€‚

éƒ¨åˆ†å‡½å¼åº«å¯èƒ½æœªåŸç”Ÿæ”¯æ´ `resource` åƒæ•¸ï¼Œä½†é€šå¸¸å…è¨±ä½ åœ¨æˆæ¬Šè«‹æ±‚ä¸­å‚³éé¡å¤–åƒæ•¸ã€‚è«‹æŸ¥é–±ä½ çš„å‡½å¼åº«æ–‡ä»¶ã€‚

ä»¥ä¸‹ç‚ºå¸¶æœ‰ `resource` èˆ‡ `scope` åƒæ•¸çš„æˆæ¬Šè«‹æ±‚éæ­£å¼ç¯„ä¾‹ï¼š

<AuthorizationRequestExample resource={resource} scope="read:products write:products" />

ä½¿ç”¨è€…é©—è­‰å¾Œï¼Œä½ æœƒå–å¾—æˆæ¬Šç¢¼ã€‚å°‡æ­¤æˆæ¬Šç¢¼é€é POST è«‹æ±‚å‚³é€è‡³ Logto çš„ `/oidc/token` ç«¯é»ï¼Œä¸¦åœ¨è«‹æ±‚ä¸»é«”ä¸­åŒ…å« `resource` åƒæ•¸ï¼Œä»¥æ›å–å­˜å–æ¬Šæ– (Access token)ã€‚

ä»¥ä¸‹ç‚ºä½¿ç”¨æˆæ¬Šç¢¼ grant type çš„æ¬Šæ–è«‹æ±‚éæ­£å¼ç¯„ä¾‹ï¼š

<TokenRequestExample grantType="authorization_code" resource={resource} />

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ `refresh_token` grant typeï¼Œåœ¨è«‹æ±‚ä¸­åŒ…å« `resource` åƒæ•¸ï¼Œå³å¯æ–¼ç„¡éœ€ä½¿ç”¨è€…äº’å‹•ä¸‹å–å¾—æ–°å­˜å–æ¬Šæ– (Access token)ã€‚

ä»¥ä¸‹ç‚ºä½¿ç”¨é‡æ–°æ•´ç†æ¬Šæ– grant type çš„æ¬Šæ–è«‹æ±‚éæ­£å¼ç¯„ä¾‹ï¼š

<TokenRequestExample grantType="refresh_token" resource={resource} />

</TabItem>
</Tabs>

#### Client credentials æµç¨‹ \{#client-credentials-flow}

é‡å°æ©Ÿå™¨å°æ©Ÿå™¨ (M2M) æƒ…å¢ƒï¼Œä½ å¯ä»¥ä½¿ç”¨ client credentials æµç¨‹å–å¾—å…¨åŸŸ API è³‡æº (API resources) çš„å­˜å–æ¬Šæ– (Access token)ã€‚åªéœ€å° Logto çš„ `/oidc/token` ç«¯é»ç™¼é€ POST è«‹æ±‚ï¼Œä¸¦ä½¿ç”¨ä½ çš„ client ID èˆ‡ secretã€‚

è«‹åœ¨è«‹æ±‚ä¸­åŒ…å«å…©å€‹é—œéµåƒæ•¸ï¼š

- `resource`ï¼šä½ è¦å­˜å–çš„ API è³‡æºæ¨™ç¤ºç¬¦ URIï¼ˆå¦‚ `https://api.yourapp.com`ï¼‰ã€‚
- `scope`ï¼šä½ è¦è«‹æ±‚çš„ API æ¬Šé™ï¼ˆå¦‚ `read:products write:products`ï¼‰ã€‚

ä»¥ä¸‹ç‚ºä½¿ç”¨ client credentials grant type çš„æ¬Šæ–è«‹æ±‚éæ­£å¼ç¯„ä¾‹ï¼š

<ClientCredentialsRequestExample
  resource="https://api.yourapp.com"
  scope="read:products write:products"
/>

### åœ¨ API ç«¯é©—è­‰ JWT å­˜å–æ¬Šæ– (Access tokens) \{#validating-jwt-access-tokens-in-your-api}

Logto ç™¼è¡Œçš„ JWT å…§å«å®£å‘Š (Claims)ï¼Œä½ çš„ API å¯æ“šæ­¤åŸ·è¡Œæˆæ¬Š (Authorization)ã€‚

ç•¶ API æ”¶åˆ°å¸¶æœ‰ Logto ç™¼è¡Œçš„å­˜å–æ¬Šæ– (Access token) çš„è«‹æ±‚æ™‚ï¼Œæ‡‰ï¼š

- é©—è­‰æ¬Šæ–ç°½ç« ï¼ˆä½¿ç”¨ Logto çš„ JWKsï¼‰ã€‚
- ç¢ºèªæ¬Šæ–æœªéæœŸï¼ˆ`exp` å®£å‘Šï¼‰ã€‚
- æª¢æŸ¥ `iss`ï¼ˆç°½ç™¼è€…ï¼‰æ˜¯å¦èˆ‡ä½ çš„ Logto ç«¯é»ä¸€è‡´ã€‚
- ç¢ºèª `aud`ï¼ˆå—çœ¾ï¼‰æ˜¯å¦èˆ‡ä½ è¨»å†Šçš„ API è³‡æºæ¨™ç¤ºç¬¦ä¸€è‡´ï¼ˆå¦‚ `https://api.yourapp.com`ï¼‰ã€‚
- æ‹†è§£ `scope` å®£å‘Šï¼ˆä»¥ç©ºæ ¼åˆ†éš”ï¼‰ï¼Œæª¢æŸ¥æ˜¯å¦å…·å‚™æ‰€éœ€æ¬Šé™ã€‚

å„èªè¨€è©³ç´°æ•™å­¸è«‹åƒé–± [å¦‚ä½•é©—è­‰å­˜å–æ¬Šæ– (Access tokens)](/authorization/validate-access-tokens)ã€‚

### é¸ç”¨ï¼šè™•ç†ä½¿ç”¨è€…æ¬Šé™è®Šæ›´ \{#optional-handle-user-permission-change}

:::info
ğŸ‘· åŠŸèƒ½é–‹ç™¼ä¸­ã€‚ğŸš§
:::

## æœ€ä½³å¯¦è¸èˆ‡å®‰å…¨å»ºè­° \{#best-practices-and-security-tips}

- **æ¬Šé™è¨­è¨ˆä»¥æ¥­å‹™ç‚ºå°å‘ï¼š** ä½¿ç”¨èƒ½å°æ‡‰å¯¦éš›æ“ä½œçš„æ¸…æ¥šåç¨±ã€‚
- **ç¸®çŸ­æ¬Šæ–æœ‰æ•ˆæœŸï¼š** è‹¥æ¬Šæ–å¤–æ´©å¯é™ä½é¢¨éšªã€‚
- **é™åˆ¶æˆäºˆçš„æ¬Šé™ç¯„åœ (Scopes)ï¼š** æ¬Šæ–åƒ…çµ¦äºˆå¯¦éš›æ‰€éœ€æ¬Šé™ã€‚
- **ä½¿ç”¨å—çœ¾é™åˆ¶ (Audience restriction)ï¼š** å‹™å¿…é©—è­‰ `aud` å®£å‘Šï¼Œé¿å…æ¬Šæ–è¢«æ¿«ç”¨ã€‚

## å¸¸è¦‹å•é¡Œ \{#faqs}

<details>
<summary>

### å¦‚æœæˆ‘çš„ç”¨æˆ¶ç«¯ä¸æ”¯æ´ resource åƒæ•¸æ€éº¼è¾¦ï¼Ÿ\{what-if-my-client-doesn-t-support-the-resource-parameter} \{#what-if-my-client-doesn-t-support-the-resource-parameter}

</summary>

è«‹åœ¨ Logto ä¸»æ§å°è¨­å®šé è¨­ API è³‡æºã€‚ç•¶æ¬Šæ–è«‹æ±‚æœªæŒ‡å®š resource åƒæ•¸æ™‚ï¼Œå°‡é è¨­ä½¿ç”¨æ­¤å—çœ¾ã€‚

</details>

<details>
<summary>

### ç‚ºä»€éº¼æˆ‘çš„ API å›å‚³ 401 Unauthorizedï¼Ÿ\{why-do-i-get-401-unauthorized-from-my-api} \{#why-do-i-get-401-unauthorized-from-my-api}

</summary>

è«‹æª¢æŸ¥ä»¥ä¸‹å¸¸è¦‹å•é¡Œï¼š

- **æ¬Šæ–ç°½ç« ï¼š** ç¢ºèªä½ çš„å¾Œç«¯æœ‰æ­£ç¢ºå–å¾— Logto çš„ JWKs
- **æ¬Šæ–éæœŸï¼š** ç¢ºèªæ¬Šæ–æœªéæœŸï¼ˆ`exp` å®£å‘Šï¼‰
- **å—çœ¾ (Audience)ï¼š** ç¢ºèª `aud` å®£å‘Šèˆ‡ä½ è¨»å†Šçš„ API è³‡æºæ¨™ç¤ºç¬¦ä¸€è‡´
- **æ‰€éœ€æ¬Šé™ç¯„åœ (Scopes)ï¼š** ç¢ºèªæ¬Šæ–å…§å«å¿…è¦æ¬Šé™ï¼ˆ`scope` å®£å‘Šï¼‰

</details>

<details>
<summary>

### æ²’æœ‰å®Œæ•´ç”¨æˆ¶ç«¯æ™‚å¦‚ä½•æ¸¬è©¦ï¼Ÿ\{how-do-i-test-without-a-full-client} \{#how-do-i-test-without-a-full-client}

</summary>

å¯ä½¿ç”¨ [å€‹äººå­˜å–æ¬Šæ– (Personal access token)](/user-management/personal-access-token) æ¨¡æ“¬é©—è­‰å‘¼å«ã€‚é€™è®“ä½ ç„¡éœ€åœ¨ç”¨æˆ¶ç«¯æ‡‰ç”¨ç¨‹å¼å¯¦ä½œå®Œæ•´ OAuth æµç¨‹å³å¯æ¸¬è©¦ API ç«¯é»ã€‚

</details>

<details>
<summary>

### è«‹æ±‚æ¬Šé™æ™‚å¯ä»¥ç”¨ scope å‰ç¶´æˆ–ç°¡å¯«å—ï¼Ÿ\{can-i-use-scope-prefixes-or-shortened-versions} \{#can-i-use-scope-prefixes-or-shortened-versions}

</summary>

ä¸è¡Œã€‚Scope åç¨±å¿…é ˆ**å®Œå…¨ç¬¦åˆ**ä½ åœ¨ API è³‡æº (API resource) ä¸­å®šç¾©çš„æ¬Šé™åç¨±ã€‚å‰ç¶´æˆ–ç°¡å¯«ç„¡æ³•ä½œç‚ºè¬ç”¨å­—å…ƒã€‚

**ç¯„ä¾‹ï¼š**

è‹¥ä½ çš„ API è³‡æº (API resource) å®šç¾©äº†ï¼š

- `read:elections`
- `write:elections`

ä½ å¿…é ˆè«‹æ±‚ï¼š

```swift
scopes: ["read:elections", "write:elections"]
```

é€™æ¨£**ç„¡æ³•é‹ä½œ**ï¼š

```swift
scopes: ["read", "write"]  // âŒ ä¸ç¬¦åˆæ¬Šé™åç¨±
```

</details>

## å»¶ä¼¸é–±è®€ \{#further-reading}

<Url href="/authorization/validate-access-tokens">å¦‚ä½•é©—è­‰å­˜å–æ¬Šæ– (Access tokens)</Url>
<Url href="/use-cases/authorization/rbac-in-practice">
  RBAC å¯¦å‹™ï¼šç‚ºä½ çš„æ‡‰ç”¨ç¨‹å¼å¯¦ä½œå®‰å…¨æˆæ¬Š (Authorization)
</Url>
<Url href="/developers/custom-token-claims">è‡ªè¨‚æ¬Šæ–å®£å‘Š (Token claims)</Url>
<Url href="https://www.rfc-editor.org/rfc/rfc8707.html">
  RFC 8707ï¼šè³‡æºæ¨™ç¤ºç¬¦ (Resource Indicators)
</Url>
