"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[4673],{17072:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"user-management/user-migration","title":"Migraci\xf3n de usuarios","description":"Logto admite la migraci\xf3n manual de usuarios existentes desde otra plataforma. Esta gu\xeda te mostrar\xe1 c\xf3mo importar usuarios existentes a trav\xe9s de Management API y hablar\xe1 sobre las cosas que debes considerar antes de migrar.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/user-management/user-migration.mdx","sourceDirName":"user-management","slug":"/user-management/user-migration","permalink":"/es/user-management/user-migration","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/es/docusaurus-plugin-content-docs/current/user-management/user-migration.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Token de acceso personal","permalink":"/es/user-management/personal-access-token"},"next":{"title":"Gesti\xf3n de usuarios","permalink":"/es/user-management/"}}');var n=s(86070),o=s(15658);const i={sidebar_position:5},t="Migraci\xf3n de usuarios",d={},l=[{value:"Esquema de usuario",id:"esquema-de-usuario",level:2},{value:"Hashing de contrase\xf1as",id:"hashing-de-contrase\xf1as",level:2},{value:"Pasos para migrar",id:"pasos-para-migrar",level:2}];function c(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.header,{children:(0,n.jsx)(a.h1,{id:"migraci\xf3n-de-usuarios",children:"Migraci\xf3n de usuarios"})}),"\n",(0,n.jsx)(a.p,{children:"Logto admite la migraci\xf3n manual de usuarios existentes desde otra plataforma. Esta gu\xeda te mostrar\xe1 c\xf3mo importar usuarios existentes a trav\xe9s de Management API y hablar\xe1 sobre las cosas que debes considerar antes de migrar."}),"\n",(0,n.jsx)(a.h2,{id:"esquema-de-usuario",children:"Esquema de usuario"}),"\n",(0,n.jsxs)(a.p,{children:["Antes de comenzar, echemos un vistazo al ",(0,n.jsx)(a.a,{href:"/user-management/user-data/#user-profile",children:"esquema de usuario"})," en Logto. Hay 3 partes del esquema de usuario que debes tener en cuenta:"]}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Datos b\xe1sicos"}),": es la informaci\xf3n b\xe1sica del perfil del usuario, puedes hacer coincidir los datos de tu perfil de usuario existente."]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Datos personalizados"}),": almacena informaci\xf3n adicional del usuario, puedes usar esto para almacenar archivos que no se pueden hacer coincidir con los datos b\xe1sicos."]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Identidades sociales"}),": almacena la informaci\xf3n del usuario recuperada del inicio de sesi\xf3n social."]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Puedes crear un mapa para hacer coincidir la informaci\xf3n del usuario de tu perfil de usuario existente con ",(0,n.jsx)(a.strong,{children:"datos b\xe1sicos"})," y ",(0,n.jsx)(a.strong,{children:"datos personalizados"}),". Para el inicio de sesi\xf3n social, necesitar\xe1s pasos adicionales para importar las identidades sociales, por favor consulta la API de ",(0,n.jsx)(a.a,{href:"https://openapi.logto.io/operation/operation-createuseridentity",children:"Vincular identidad social al usuario"}),"."]}),"\n",(0,n.jsx)(a.h2,{id:"hashing-de-contrase\xf1as",children:"Hashing de contrase\xf1as"}),"\n",(0,n.jsxs)(a.p,{children:["Logto utiliza ",(0,n.jsx)(a.a,{href:"https://en.wikipedia.org/wiki/Argon2",children:"Argon2"})," para hashear la contrase\xf1a del usuario, y tambi\xe9n admite otros algoritmos como ",(0,n.jsx)(a.code,{children:"MD5"}),", ",(0,n.jsx)(a.code,{children:"SHA1"}),", ",(0,n.jsx)(a.code,{children:"SHA256"})," y ",(0,n.jsx)(a.code,{children:"Bcrypt"})," para la conveniencia de la migraci\xf3n. Esos algoritmos se consideran inseguros, los hashes de contrase\xf1as correspondientes se migrar\xe1n a Argon2 en el primer inicio de sesi\xf3n exitoso del usuario."]}),"\n",(0,n.jsxs)(a.p,{children:["Si necesitas soporte para alg\xfan algoritmo de hashing en particular, ",(0,n.jsx)(a.a,{href:"https://logto.io/contact",children:"por favor h\xe1znoslo saber"}),"."]}),"\n",(0,n.jsx)(a.h2,{id:"pasos-para-migrar",children:"Pasos para migrar"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"Preparar los datos del usuario"}),"\nPrimero debes exportar los datos del usuario de tu plataforma existente y luego mapear la informaci\xf3n del usuario al esquema de usuario de Logto. Te recomendamos preparar los datos mapeados en formato JSON. Aqu\xed tienes un ejemplo de los datos del usuario:"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-json",children:'[\n  {\n    "username": "user1",\n    "passwordDigest": "password-encrypted",\n    "passwordAlgorithm": "SHA256"\n  },\n  {\n    "username": "user2",\n    "passwordDigest": "password-encrypted",\n    "passwordAlgorithm": "SHA256"\n  }\n]\n'})}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"Crear un tenant de Logto"}),"\nNecesitar\xe1s configurar un tenant en Logto. Puedes usar Logto Cloud o Logto OSS. Si a\xfan no lo has hecho, por favor consulta la gu\xeda ",(0,n.jsx)(a.a,{href:"/introduction/set-up-logto-cloud/#create-logto-tenant",children:"Configurar Logto cloud"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"Configurar la conexi\xf3n de Management API"}),"\nUsaremos Management API para importar los datos del usuario, puedes consultar ",(0,n.jsx)(a.a,{href:"/integrate-logto/interact-with-management-api",children:"Management API"})," para aprender c\xf3mo configurar la conexi\xf3n en tu entorno de desarrollo."]}),"\n"]}),"\n",(0,n.jsxs)(a.li,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"Importar los datos del usuario"}),"\nSe recomienda preparar un script para importar los datos del usuario uno por uno, llamaremos a la API de ",(0,n.jsx)(a.a,{href:"https://openapi.logto.io/operation/operation-createuser",children:"crear usuario"})," para importar los datos del usuario. Aqu\xed tienes un ejemplo del script:"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-jsx",children:"const users = require('./users.json');\n\nconst importUsers = async () => {\n  for (const user of users) {\n    try {\n      await fetch('https://[tenant_id].logto.app/api/users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer [your-access-token]',\n        },\n        body: JSON.stringify(user),\n      });\n      // Dormir un rato para evitar el l\xedmite de tasa\n      await new Promise((resolve) => setTimeout(resolve, 200));\n    } catch (error) {\n      console.error(`Error al importar el usuario ${user.username}: ${error.message}`);\n    }\n  }\n};\n\nimportUsers();\n"})}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Ten en cuenta que el punto de la API tiene un l\xedmite de tasa, debes agregar una pausa entre cada solicitud para evitar el l\xedmite de tasa. Por favor revisa nuestra p\xe1gina de ",(0,n.jsx)(a.a,{href:"/integrate-logto/interact-with-management-api/#rate-limit",children:"l\xedmites de tasa"})," para m\xe1s detalles."]}),"\n",(0,n.jsxs)(a.p,{children:["Si tienes una gran cantidad de datos de usuarios (m\xe1s de 100k usuarios), puedes ",(0,n.jsx)(a.a,{href:"https://logto.io/contact",children:"contactarnos"})," para aumentar el l\xedmite de tasa."]})]})}function u(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},15658:(e,a,s)=>{s.d(a,{R:()=>i,x:()=>t});var r=s(30758);const n={},o=r.createContext(n);function i(e){const a=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),r.createElement(o.Provider,{value:a},e.children)}}}]);