"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[46194],{91116:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"authorization/organization-template/configure-organization-template","title":"Configurar plantilla de organizaci\xf3n","description":"Vamos a recorrer el proceso de configuraci\xf3n de la funci\xf3n de plantilla de organizaci\xf3n a trav\xe9s de Logto Console.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/authorization/organization-template/configure-organization-template.mdx","sourceDirName":"authorization/organization-template","slug":"/authorization/organization-template/configure-organization-template","permalink":"/es/authorization/organization-template/configure-organization-template","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/es/docusaurus-plugin-content-docs/current/authorization/organization-template/configure-organization-template.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Plantilla de organizaci\xf3n","permalink":"/es/authorization/organization-template/"},"next":{"title":"Proteger recursos de la organizaci\xf3n","permalink":"/es/authorization/organization-template/protect-organization-resources"}}');var o=i(86070),s=i(15658);const r={sidebar_position:1},l="Configurar plantilla de organizaci\xf3n",t={},c=[{value:"Configurar a trav\xe9s de Logto Console",id:"configurar-a-trav\xe9s-de-logto-console",level:2},{value:"Crear permiso de organizaci\xf3n",id:"crear-permiso-de-organizaci\xf3n",level:3},{value:"Crear rol de organizaci\xf3n",id:"crear-rol-de-organizaci\xf3n",level:3},{value:"Roles de organizaci\xf3n solo con permisos de organizaci\xf3n",id:"roles-de-organizaci\xf3n-solo-con-permisos-de-organizaci\xf3n",level:4},{value:"Roles de organizaci\xf3n solo con permisos de API",id:"roles-de-organizaci\xf3n-solo-con-permisos-de-api",level:4},{value:"Roles de organizaci\xf3n con permisos mixtos de API y organizaci\xf3n",id:"roles-de-organizaci\xf3n-con-permisos-mixtos-de-api-y-organizaci\xf3n",level:4},{value:"Configurar a trav\xe9s de Logto Management API",id:"configurar-a-trav\xe9s-de-logto-management-api",level:2},{value:"Manejar cambio de permisos de miembro",id:"manejar-cambio-de-permisos-de-miembro",level:2},{value:"No se introducen nuevos permisos en el sistema",id:"no-se-introducen-nuevos-permisos-en-el-sistema",level:4},{value:"Se introduce un nuevo permiso en el sistema y se asigna a un miembro",id:"se-introduce-un-nuevo-permiso-en-el-sistema-y-se-asigna-a-un-miembro",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{CloudLink:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CloudLink",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"configurar-plantilla-de-organizaci\xf3n",children:"Configurar plantilla de organizaci\xf3n"})}),"\n",(0,o.jsx)(n.p,{children:"Vamos a recorrer el proceso de configuraci\xf3n de la funci\xf3n de plantilla de organizaci\xf3n a trav\xe9s de Logto Console."}),"\n",(0,o.jsxs)(n.p,{children:["Primero, navega a ",(0,o.jsx)(i,{to:"/organization-template",children:"Console > Plantilla de organizaci\xf3n"}),". Ver\xe1s que la plantilla de organizaci\xf3n incluye dos partes: Roles de Organizaci\xf3n y Permisos de Organizaci\xf3n. Una plantilla de organizaci\xf3n define pol\xedticas de control de acceso compartidas (permisos y roles) para m\xfaltiples organizaciones."]}),"\n",(0,o.jsx)(n.h2,{id:"configurar-a-trav\xe9s-de-logto-console",children:"Configurar a trav\xe9s de Logto Console"}),"\n",(0,o.jsx)(n.h3,{id:"crear-permiso-de-organizaci\xf3n",children:"Crear permiso de organizaci\xf3n"}),"\n",(0,o.jsx)(n.p,{children:"Los permisos de organizaci\xf3n son una parte clave de la plantilla de organizaci\xf3n. Estos permisos est\xe1n dise\xf1ados espec\xedficamente para organizaciones dentro de tu producto. Aqu\xed te mostramos c\xf3mo gestionarlos:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Encuentra la pesta\xf1a de permisos de organizaci\xf3n:"}),' Ve a la pesta\xf1a "Permisos de organizaci\xf3n" para ver tus permisos existentes.']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Agregar, eliminar y editar:"})," Puedes agregar f\xe1cilmente nuevos permisos de organizaci\xf3n, eliminar los que no necesitas y editar los permisos existentes seg\xfan sea necesario."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"crear-rol-de-organizaci\xf3n",children:"Crear rol de organizaci\xf3n"}),"\n",(0,o.jsx)(n.p,{children:"Logto admite dos tipos de roles de organizaci\xf3n, esto es lo mismo que el RBAC a nivel de usuario/sistema:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Usuario"}),": Roles que se asignan a los usuarios."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"M\xe1quina a m\xe1quina"}),": Roles que se asignan a aplicaciones m\xe1quina a m\xe1quina."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Logto te permite definir roles de organizaci\xf3n de diversas maneras para adaptarse a la estructura de tu sistema:"}),"\n",(0,o.jsx)(n.h4,{id:"roles-de-organizaci\xf3n-solo-con-permisos-de-organizaci\xf3n",children:"Roles de organizaci\xf3n solo con permisos de organizaci\xf3n"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cu\xe1ndo usar:"})," Tienes puntos finales separados para usuario/sistema y organizaci\xf3n."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Explicaci\xf3n:"})," Este es el enfoque m\xe1s simple si la arquitectura t\xe9cnica de tu producto y el dise\xf1o de la API separan claramente los recursos a nivel de usuario/sistema de los recursos de la organizaci\xf3n. Tus roles de organizaci\xf3n solo incluir\xe1n los permisos que definas para la organizaci\xf3n."]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"roles-de-organizaci\xf3n-solo-con-permisos-de-api",children:"Roles de organizaci\xf3n solo con permisos de API"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cu\xe1ndo usar:"})," El control de acceso a nivel de usuario/sistema y a nivel de organizaci\xf3n se maneja por los mismos puntos finales."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Explicaci\xf3n:"})," Elige esto si deseas gestionar todos los permisos a trav\xe9s de recursos de API unificados."]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"roles-de-organizaci\xf3n-con-permisos-mixtos-de-api-y-organizaci\xf3n",children:"Roles de organizaci\xf3n con permisos mixtos de API y organizaci\xf3n"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cu\xe1ndo usar:"})," Tienes puntos finales separados definidos para tu producto a nivel de usuario/sistema y a nivel de organizaci\xf3n, pero algunos roles de usuario requieren una mezcla de permisos a nivel de usuario y a nivel de organizaci\xf3n."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Explicaci\xf3n:"})," Esto ofrece la mayor flexibilidad, pero tambi\xe9n puede ser lo m\xe1s complejo de gestionar."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"configurar-a-trav\xe9s-de-logto-management-api",children:"Configurar a trav\xe9s de Logto Management API"}),"\n",(0,o.jsx)(n.p,{children:"Todo lo que puedes hacer en Console tambi\xe9n se puede hacer a trav\xe9s de Management API, incluyendo: Gestionar la plantilla de organizaci\xf3n para crear, eliminar o editar permisos y roles de organizaci\xf3n."}),"\n",(0,o.jsx)(n.p,{children:"Para una lista completa de capacidades, consulta nuestra referencia de API:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-updateorganizationrole",children:"Logto Management API - rol de organizaci\xf3n"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-listorganizationscopes",children:"Logto Management API - permiso de organizaci\xf3n"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Con Logto Management API, puedes crear experiencias de organizaci\xf3n personalizadas, como permitir que los administradores de la organizaci\xf3n se sirvan a s\xed mismos y creen organizaciones. Consulta ",(0,o.jsx)(n.a,{href:"/end-user-flows/organization-experience/",children:"esta secci\xf3n"})," para habilitar m\xe1s caracter\xedsticas y gesti\xf3n a nivel de organizaci\xf3n."]}),"\n",(0,o.jsx)(n.h2,{id:"manejar-cambio-de-permisos-de-miembro",children:"Manejar cambio de permisos de miembro"}),"\n",(0,o.jsx)(n.p,{children:"Similar al RBAC de API, los permisos de los miembros pueden ser alterados durante una sesi\xf3n; por ejemplo, se les pueden asignar nuevos roles o modificar los permisos de roles existentes."}),"\n",(0,o.jsx)(n.p,{children:"\xbfQu\xe9 sucede cuando cambian los permisos de un miembro? Hay dos casos."}),"\n",(0,o.jsx)(n.h4,{id:"no-se-introducen-nuevos-permisos-en-el-sistema",children:"No se introducen nuevos permisos en el sistema"}),"\n",(0,o.jsx)(n.p,{children:"Los tokens de acceso de organizaci\xf3n actuales (tambi\xe9n conocidos como token de organizaci\xf3n) seguir\xe1n siendo v\xe1lidos hasta que expiren, incluso despu\xe9s de que se cambien los permisos de organizaci\xf3n de un usuario. Sin embargo, los nuevos permisos se reflejar\xe1n en los tokens de organizaci\xf3n subsiguientes, y cualquier permiso revocado ser\xe1 omitido."}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"Los tokens de organizaci\xf3n tienen un tiempo de expiraci\xf3n fijo que no se puede cambiar, a diferencia de los tokens de acceso gen\xe9ricos."})}),"\n",(0,o.jsxs)(n.p,{children:["Llama a los puntos finales de ",(0,o.jsx)(n.a,{href:"/integrate-logto/interact-with-management-api/",children:"Logto Management API"})," peri\xf3dicamente o establece una conexi\xf3n de larga duraci\xf3n (por ejemplo, usando WebSocket) para obtener din\xe1micamente los permisos de organizaci\xf3n del usuario. Al detectar cambios, borra el token de organizaci\xf3n existente y los tokens reci\xe9n emitidos reflejar\xe1n autom\xe1ticamente los cambios en el alcance de los permisos de organizaci\xf3n."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'curl \\\n -X GET https://[tenant_id].logto.app/api/organizations/{id}/users/{userId}/scopes \\\n -H "Authorization: Bearer $ORGANIZATION_TOKEN"\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Cuando se detecten cambios de permisos, borra primero el token de organizaci\xf3n del almacenamiento y luego llama al m\xe9todo del SDK ",(0,o.jsx)(n.code,{children:"getOrganizationToken(organizationId)"})," para adquirir uno nuevo. El token de organizaci\xf3n reci\xe9n emitido deber\xeda reflejar los cambios de permisos."]}),"\n",(0,o.jsx)(n.h4,{id:"se-introduce-un-nuevo-permiso-en-el-sistema-y-se-asigna-a-un-miembro",children:"Se introduce un nuevo permiso en el sistema y se asigna a un miembro"}),"\n",(0,o.jsx)(n.p,{children:"Esto sucede cuando se introducen nuevos permisos en tu plantilla de organizaci\xf3n. En este caso, primero tendr\xe1s que incluir los nuevos alcances de permisos introducidos al inicializar el cliente de Logto. Por ejemplo:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"new LogtoClient({\n  appId: 'your-app-id',\n  redirectUrl: 'your-redirect-url',\n  scopes: [\n    'urn:logto:scope:organizations',\n    // ... tus otros alcances de permisos de organizaci\xf3n existentes,\n    'new-organization-permission-scope',\n  ],\n});\n"})}),"\n",(0,o.jsx)(n.p,{children:"En segundo lugar, cada una de tus aplicaciones cliente necesitar\xe1 volver a consentir o volver a iniciar sesi\xf3n para que los usuarios reciban el cambio de permiso nuevo. Luego, el nuevo alcance de permiso se reflejar\xe1 en los nuevos tokens de organizaci\xf3n."}),"\n",(0,o.jsx)(n.p,{children:"Ejemplo de c\xf3digo para volver a consentir:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"signIn({ redirectUrl: 'your-redirect-url', prompt: 'consent' });\n"})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},15658:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var a=i(30758);const o={},s=a.createContext(o);function r(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);