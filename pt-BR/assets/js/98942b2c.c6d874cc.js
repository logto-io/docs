"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[73266],{89798:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"concepts/core-service/README","title":"Servi\xe7o Principal","description":"Introdu\xe7\xe3o","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/concepts/core-service/README.mdx","sourceDirName":"concepts/core-service","slug":"/concepts/core-service/","permalink":"/pt-BR/concepts/core-service/","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/pt-BR/docusaurus-plugin-content-docs/current/concepts/core-service/README.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_label":"Logto core service","sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Authentication vs. authorization","permalink":"/pt-BR/concepts/authn-vs-authz"},"next":{"title":"Configura\xe7\xe3o","permalink":"/pt-BR/concepts/core-service/configuration"}}');var i=o(86070),s=o(15658);const c={sidebar_label:"Logto core service",sidebar_position:3},a="Servi\xe7o Principal",d={},t=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"OIDC Provider",id:"oidc-provider",level:2},{value:"Funcionalidades OpenID habilitadas",id:"funcionalidades-openid-habilitadas",level:3},{value:"Logto API",id:"logto-api",level:2},{value:"Management API",id:"management-api",level:3},{value:"Experience API",id:"experience-api",level:3},{value:"Account API",id:"account-api",level:3},{value:"Proxies de frontend",id:"proxies-de-frontend",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"servi\xe7o-principal",children:"Servi\xe7o Principal"})}),"\n",(0,i.jsx)(n.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:"Servi\xe7o Principal"})," \xe9 um servi\xe7o monol\xedtico para fun\xe7\xf5es cr\xedticas do Logto. O c\xf3digo fonte est\xe1 em ",(0,i.jsx)(n.a,{href:"https://github.com/logto-io/logto/tree/master/packages/core",children:(0,i.jsx)(n.code,{children:"@logto/core"})}),"."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:"Servi\xe7o Principal"})," e ",(0,i.jsx)(n.em,{children:"SDK core"})," s\xe3o dois conceitos separados. Veja ",(0,i.jsx)(n.a,{href:"/developers/sdk-conventions",children:"conven\xe7\xe3o do SDK"})," para as diferen\xe7as."]})}),"\n",(0,i.jsx)(n.p,{children:"Para simplificar, dividimos o Servi\xe7o Principal em quatro m\xf3dulos principais:"}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Nome"}),(0,i.jsx)("td",{children:"Descri\xe7\xe3o"}),(0,i.jsx)("td",{children:"Caminho de Montagem"})]})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"OIDC Provider"}),(0,i.jsxs)("td",{children:["Um ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Provider"}),"."]}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{children:"/oidc"})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Logto API"}),(0,i.jsx)("td",{children:"Management API, Experience API e Account API."}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{children:"/api"})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Proxies de frontend"}),(0,i.jsx)("td",{children:"Proxies HTTP ou servi\xe7o de arquivos est\xe1ticos para projetos de frontend."}),(0,i.jsx)("td",{children:(0,i.jsxs)(n.p,{children:["Veja ",(0,i.jsx)("a",{href:"#frontend-proxies",children:"Proxies de frontend"})," para detalhes."]})})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["APIs de backend, incluindo OIDC, s\xe3o constru\xeddas dentro do pacote ",(0,i.jsx)(n.code,{children:"core"}),", enquanto os proxies de frontend dependem dos pacotes irm\xe3os correspondentes no monorepo do Logto."]}),"\n",(0,i.jsx)(n.h2,{id:"oidc-provider",children:"OIDC Provider"}),"\n",(0,i.jsxs)(n.p,{children:["Logto usa a incr\xedvel implementa\xe7\xe3o certificada ",(0,i.jsx)(n.a,{href:"https://openid.net/connect/",children:"OpenID Connect"})," ",(0,i.jsx)(n.a,{href:"https://github.com/panva/node-oidc-provider",children:"node-oidc-provider"})," por tr\xe1s dos panos. O provedor est\xe1 montado em ",(0,i.jsx)(n.code,{children:"/oidc"}),", e voc\xea pode verificar as configura\xe7\xf5es e arquivos relativos em ",(0,i.jsx)(n.a,{href:"https://github.com/logto-io/logto/tree/master/packages/core/src/oidc",children:"packages/core/src/oidc"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["O ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"Userinfo Endpoint"})," do OIDC est\xe1 dispon\xedvel e montado em ",(0,i.jsx)(n.code,{children:"/oidc/me"}),"."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Se voc\xea quiser chamar diretamente as APIs do OIDC, lembre-se de definir o cabe\xe7alho ",(0,i.jsx)(n.code,{children:"Content-Type: application/x-www-form-urlencoded"}),"."]})}),"\n",(0,i.jsx)(n.h3,{id:"funcionalidades-openid-habilitadas",children:"Funcionalidades OpenID habilitadas"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect Core"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-discovery-1_0.html",children:"OpenID Connect Discovery"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-rpinitiated-1_0.html",children:"OpenID Connect RP-Initiated Logout"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-backchannel-1_0-final.html",children:"OpenID Connect Back-Channel Logout"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc6749.html",children:"OAuth 2.0"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc7662.html",children:"OAuth 2.0 Token Introspection"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc7009.html",children:"OAuth 2.0 Token Revocation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"OAuth 2.0 Resource Indicators"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc7636.html",children:"Proof Key for Code Exchange (PKCE)"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"logto-api",children:"Logto API"}),"\n",(0,i.jsx)(n.h3,{id:"management-api",children:"Management API"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:"Management API"})," \xe9 um conjunto de APIs que gerenciam e atualizam dados do Logto. Apenas usu\xe1rios com o papel ",(0,i.jsx)(n.code,{children:"admin"})," t\xeam acesso a elas."]}),"\n",(0,i.jsxs)(n.p,{children:["V\xe1 para ",(0,i.jsx)(n.a,{href:"https://openapi.logto.io",children:"Refer\xeancias de API"})," para ver os detalhes."]}),"\n",(0,i.jsxs)(n.p,{children:["Para acessar a API programaticamente, veja ",(0,i.jsx)(n.a,{href:"/integrate-logto/interact-with-management-api",children:"Interagir com Management API"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"experience-api",children:"Experience API"}),"\n",(0,i.jsx)(n.p,{children:"Experience API \xe9 um conjunto de endpoints dedicados que suportam intera\xe7\xf5es de interface de login personalizadas."}),"\n",(0,i.jsx)(n.p,{children:"Essas APIs permitem que os desenvolvedores implementem recursos principais de autentica\xe7\xe3o, incluindo login, cadastro, redefini\xe7\xe3o de senha, vincula\xe7\xe3o de conta social e autentica\xe7\xe3o multifatorial (MFA). Para implementar esses recursos, sua interface personalizada precisa interagir com a Experience API."}),"\n",(0,i.jsx)(n.p,{children:"Para entender melhor os fluxos de usu\xe1rio e detalhes de implementa\xe7\xe3o:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Confira o guia ",(0,i.jsx)(n.a,{href:"/customization/bring-your-ui/#develop-your-custom-ui",children:"Desenvolva sua interface personalizada"})," para aprender como usar a Experience API para construir sua interface de experi\xeancia personalizada"]}),"\n",(0,i.jsxs)(n.li,{children:["Consulte ",(0,i.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-experience",children:"Refer\xeancias da Experience API"})," para documenta\xe7\xe3o detalhada da API"]}),"\n",(0,i.jsxs)(n.li,{children:["Leia o ",(0,i.jsx)(n.a,{href:"https://github.com/logto-io/rfcs/blob/master/draft/0004-experience-api.md",children:"RFC de design da Experience API"})," para especifica\xe7\xf5es t\xe9cnicas detalhadas e exemplos"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"account-api",children:"Account API"}),"\n",(0,i.jsx)(n.p,{children:"Account API \xe9 um conjunto abrangente de APIs que oferece aos usu\xe1rios finais acesso direto \xe0 API sem precisar passar pela Management API, aqui est\xe3o os destaques:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Acesso direto: A Account API capacita os usu\xe1rios finais a acessar e gerenciar diretamente seu pr\xf3prio perfil de conta sem exigir o uso da Management API."}),"\n",(0,i.jsx)(n.li,{children:"Gerenciamento de perfil de usu\xe1rio e identidades: Os usu\xe1rios podem gerenciar totalmente seus perfis e configura\xe7\xf5es de seguran\xe7a, incluindo a capacidade de atualizar informa\xe7\xf5es de identidade como email, telefone e senha, bem como gerenciar conex\xf5es sociais. Suporte a MFA e SSO em breve."}),"\n",(0,i.jsx)(n.li,{children:"Controle de acesso global: O administrador tem controle total e global sobre as configura\xe7\xf5es de acesso, podendo personalizar cada campo."}),"\n",(0,i.jsxs)(n.li,{children:["Autoriza\xe7\xe3o sem complica\xe7\xf5es: Autorizar \xe9 mais f\xe1cil do que nunca! Basta usar ",(0,i.jsx)(n.code,{children:"client.getAccessToken()"})," para obter um token de acesso opaco para OP (Logto) e anex\xe1-lo ao cabe\xe7alho de Autoriza\xe7\xe3o como ",(0,i.jsx)(n.code,{children:"Bearer <access_token>"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Com a Logto Account API, voc\xea pode construir um sistema de gerenciamento de contas personalizado, como uma p\xe1gina de perfil totalmente integrada ao Logto."}),"\n",(0,i.jsxs)(n.p,{children:["Confira ",(0,i.jsx)(n.a,{href:"/end-user-flows/account-settings/by-account-api",children:"Configura\xe7\xf5es de conta pela Account API"})," para aprender como aproveitar a Account API para construir sua pr\xf3pria p\xe1gina de configura\xe7\xf5es de conta."]}),"\n",(0,i.jsxs)(n.p,{children:["Consulte ",(0,i.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-my-account",children:"Refer\xeancias da Account API"})," para documenta\xe7\xe3o detalhada da API."]}),"\n",(0,i.jsx)(n.h2,{id:"proxies-de-frontend",children:"Proxies de frontend"}),"\n",(0,i.jsxs)(n.p,{children:["Um ",(0,i.jsx)(n.em,{children:"proxy de frontend"})," \xe9 uma fun\xe7\xe3o de middleware que serve um projeto de frontend de uma maneira relacionada ao ambiente:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Se for desenvolvimento, ele faz proxy das solicita\xe7\xf5es HTTP para o servidor de desenvolvimento do frontend."}),"\n",(0,i.jsx)(n.li,{children:"Se for produ\xe7\xe3o, ele serve arquivos est\xe1ticos do frontend diretamente."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Logto tem tr\xeas proxies de frontend:"}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Nome"}),(0,i.jsx)("td",{children:"Pacote de Frontend"}),(0,i.jsx)("td",{children:"Caminho de Montagem"})]})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Proxy do Admin Console"}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{children:"/packages/console"})}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{children:"/console"})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Proxy do aplicativo de demonstra\xe7\xe3o"}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{children:"/packages/demo-app"})}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{children:"/demo-app"})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Proxy da UI (experi\xeancia de login)"}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{children:"/packages/ui"})}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{children:"/"})})]})]})]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"Voc\xea pode notar que o proxy da UI usa o caminho raiz. Ao contr\xe1rio de outros proxies, o proxy da UI \xe9 um proxy de fallback, o que significa que ele s\xf3 entra em a\xe7\xe3o quando nenhum outro proxy \xe9 correspondido."})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},15658:(e,n,o)=>{o.d(n,{R:()=>c,x:()=>a});var r=o(30758);const i={},s=r.createContext(i);function c(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);