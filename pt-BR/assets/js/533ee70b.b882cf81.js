"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[26521],{69927:(e,o,a)=>{a.d(o,{Ay:()=>c,RM:()=>r});var i=a(86070),n=a(15658);const r=[];function s(e){const o={a:"a",admonition:"admonition",p:"p",...(0,n.R)(),...e.components};return(0,i.jsx)(o.admonition,{type:"tip",children:(0,i.jsxs)(o.p,{children:["Neste guia, assumimos que voc\xea tem conhecimento b\xe1sico sobre Conectores (Connectors) do Logto. Se n\xe3o tiver, confira o guia ",(0,i.jsx)(o.a,{href:"/connectors",children:"Configurar conectores"})," para come\xe7ar."]})})}function c(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(s,{...e})}):s(e)}},1585:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>t,contentTitle:()=>l,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"integrations/social/alipay-native/README","title":"Configurar login social com Alipay (Nativo)","description":"O conector oficial do Logto para login social do Alipay em aplicativos nativos para dispositivos m\xf3veis.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/integrations/social/alipay-native/README.mdx","sourceDirName":"integrations/social/alipay-native","slug":"/integrations/alipay-native","permalink":"/pt-BR/integrations/alipay-native","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/pt-BR/docusaurus-plugin-content-docs/current/integrations/social/alipay-native/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/integrations/alipay-native","sidebar_label":"Alipay (Nativo)","sidebar_custom_props":{"description":"Alipay \xe9 uma plataforma de pagamento m\xf3vel e online de terceiros.","logoFilename":"alipay.svg"}},"sidebar":"integrationsSidebar","previous":{"title":"Introdu\xe7\xe3o","permalink":"/pt-BR/integrations/"},"next":{"title":"Alipay (Web)","permalink":"/pt-BR/integrations/alipay-web"}}');var n=a(86070),r=a(15658),s=a(69927);const c={slug:"/integrations/alipay-native",sidebar_label:"Alipay (Nativo)",sidebar_custom_props:{description:"Alipay \xe9 uma plataforma de pagamento m\xf3vel e online de terceiros.",logoFilename:"alipay.svg"}},l="Configurar login social com Alipay (Nativo)",t={},d=[...s.RM,{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Registrar conta de desenvolvedor Alipay",id:"registrar-conta-de-desenvolvedor-alipay",level:2},{value:"Criar e configurar aplicativo Alipay",id:"criar-e-configurar-aplicativo-alipay",level:2},{value:"Configurar as configura\xe7\xf5es do conector Logto Alipay Nativo",id:"configurar-as-configura\xe7\xf5es-do-conector-logto-alipay-nativo",level:2},{value:"Tipos de configura\xe7\xe3o",id:"tipos-de-configura\xe7\xe3o",level:3},{value:"Habilitar login nativo do Alipay no seu aplicativo",id:"habilitar-login-nativo-do-alipay-no-seu-aplicativo",level:2},{value:"iOS",id:"ios",level:3},{value:"Android",id:"android",level:3},{value:"Testar o conector nativo do Alipay",id:"testar-o-conector-nativo-do-alipay",level:3},{value:"Refer\xeancias",id:"refer\xeancias",level:2}];function p(e){const o={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.header,{children:(0,n.jsx)(o.h1,{id:"configurar-login-social-com-alipay-nativo",children:"Configurar login social com Alipay (Nativo)"})}),"\n",(0,n.jsx)(o.p,{children:"O conector oficial do Logto para login social do Alipay em aplicativos nativos para dispositivos m\xf3veis."}),"\n",(0,n.jsx)(s.Ay,{}),"\n",(0,n.jsx)(o.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,n.jsx)(o.p,{children:"O conector Alipay Nativo funciona em estreita colabora\xe7\xe3o com o Logto SDK em plataformas m\xf3veis. Ele aproveita o fluxo de autentica\xe7\xe3o OAuth 2.0 do Alipay e permite que os usu\xe1rios do Alipay fa\xe7am login em outros aplicativos usando perfis p\xfablicos de usu\xe1rios do Alipay sem passar por um processo de registro complicado."}),"\n",(0,n.jsx)(o.h2,{id:"registrar-conta-de-desenvolvedor-alipay",children:"Registrar conta de desenvolvedor Alipay"}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.a,{href:"https://certifyweb.alipay.com/certify/reg/guide#/",children:"Registre uma conta de desenvolvedor Alipay"})," se voc\xea ainda n\xe3o tiver uma."]}),"\n",(0,n.jsx)(o.h2,{id:"criar-e-configurar-aplicativo-alipay",children:"Criar e configurar aplicativo Alipay"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["Fa\xe7a login no ",(0,n.jsx)(o.a,{href:"https://open.alipay.com/",children:"console do Alipay"})," com a conta que voc\xea acabou de registrar."]}),"\n",(0,n.jsx)(o.li,{children:'V\xe1 para a aba "Web & Mobile Apps" (\u7f51\u9875&\u79fb\u52a8\u5e94\u7528) no painel "My Application" (\u6211\u7684\u5e94\u7528).'}),"\n",(0,n.jsx)(o.li,{children:'Clique no bot\xe3o "Create an App" (\u7acb\u5373\u521b\u5efa) para come\xe7ar a configurar seu aplicativo.'}),"\n",(0,n.jsx)(o.li,{children:'Nomeie seu aplicativo em "Application Name" (\u5e94\u7528\u540d\u79f0) seguindo as conven\xe7\xf5es de nomenclatura e fa\xe7a upload do seu "Application Icon" (\u5e94\u7528\u56fe\u6807), certifique-se de escolher "mobile application" (\u79fb\u52a8\u5e94\u7528) como "App type" (\u5e94\u7528\u7c7b\u578b). Para construir um aplicativo iOS, \xe9 necess\xe1rio um "Bundle ID" exclusivo. Al\xe9m disso, "application signature" (\u5e94\u7528\u7b7e\u540d) e "application package name" (\u5e94\u7528\u5305\u540d) s\xe3o necess\xe1rios para aplicativos Android.'}),"\n",(0,n.jsx)(o.li,{children:'Ap\xf3s terminar de criar o aplicativo, chegamos \xe0 p\xe1gina de Vis\xe3o Geral, onde devemos clicar em "add ability" (\u6dfb\u52a0\u80fd\u529b) para adicionar "Third-party application authorization" (\u7b2c\u4e09\u65b9\u5e94\u7528\u6388\u6743), "Get member information" (\u83b7\u53d6\u4f1a\u5458\u4fe1\u606f) e "App Alipay login" (App \u652f\u4ed8\u5b9d\u767b\u5f55) antes de habilitar o login do Alipay.'}),"\n",(0,n.jsxs)(o.li,{children:["V\xe1 para o ",(0,n.jsx)(o.a,{href:"https://b.alipay.com/index2.htm",children:"Centro de Atendimento ao Cliente do Alipay"}),' e fa\xe7a login com a conta de desenvolvedor Alipay. Clique em "Account Center" (\u8d26\u53f7\u4e2d\u5fc3) na barra superior e v\xe1 para "APPID binding" (APPID \u7ed1\u5b9a), cuja entrada pode ser encontrada na parte inferior da barra lateral. "Add binding" (\u6dfb\u52a0\u7ed1\u5b9a) digitando o APPID do aplicativo m\xf3vel que voc\xea acabou de criar no passo 4.']}),"\n",(0,n.jsx)(o.li,{children:'Clique no bot\xe3o "Sign" de "App Alipay login" e conclua o processo de assinatura seguindo o guia. Ap\xf3s concluir esta etapa, espera-se que as habilidades que voc\xea acabou de adicionar no passo 5 entrem em a\xe7\xe3o.'}),"\n",(0,n.jsx)(o.li,{children:'Volte para a p\xe1gina do console da plataforma aberta do Alipay e voc\xea encontrar\xe1 "Interface signing method" (\u63a5\u53e3\u52a0\u7b7e\u65b9\u5f0f\uff08\u5bc6\u94a5/\u8bc1\u4e66\uff09) na se\xe7\xe3o "development information" (\u5f00\u53d1\u4fe1\u606f). Clique no bot\xe3o "set up" (\u8bbe\u7f6e) e voc\xea estar\xe1 em uma p\xe1gina de configura\xe7\xe3o do m\xe9todo de assinatura. "Public Key" (\u516c\u94a5) \xe9 o modo de assinatura preferido, e preencha os conte\xfados do arquivo de chave p\xfablica que voc\xea gerou na caixa de entrada de texto.'}),"\n",(0,n.jsxs)(o.li,{children:['Configure "Authorization Redirect URI" (\u6388\u6743\u56de\u8c03\u5730\u5740) clicando no bot\xe3o "set up" (\u8bbe\u7f6e) na parte inferior da p\xe1gina do console do Alipay. ',(0,n.jsx)(o.code,{children:"${your_logto_origin}/callback/${connector_id}"})," \xe9 o URI de redirecionamento padr\xe3o usado no n\xfacleo do Logto. O ",(0,n.jsx)(o.code,{children:"connector_id"})," pode ser encontrado na barra superior da p\xe1gina de detalhes do conector do Logto Admin Console."]}),"\n",(0,n.jsx)(o.li,{children:'Ap\xf3s concluir todas essas etapas, volte para o canto superior direito da p\xe1gina do console do Alipay e clique em "Submit for review" (\u63d0\u4ea4\u5ba1\u6838). Uma vez que a revis\xe3o seja aprovada, voc\xea estar\xe1 pronto para um fluxo de login suave com o Alipay.'}),"\n"]}),"\n",(0,n.jsxs)(o.blockquote,{children:["\n",(0,n.jsxs)(o.p,{children:["\u2139\ufe0f ",(0,n.jsx)(o.strong,{children:"Nota"})]}),"\n",(0,n.jsxs)(o.p,{children:["Voc\xea pode usar ",(0,n.jsx)(o.em,{children:"openssl"})," para gerar pares de chaves em sua m\xe1quina local executando o seguinte trecho de c\xf3digo no terminal."]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-bash",children:"openssl genrsa -out private.pem 2048\nopenssl rsa -in private.pem -outform PEM -pubout -out public.pem\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Ao preencher a chave p\xfablica no site de configura\xe7\xe3o do aplicativo Alipay, voc\xea precisa remover o cabe\xe7alho e o rodap\xe9 de ",(0,n.jsx)(o.code,{children:"public.pem"}),', excluir todos os caracteres de nova linha e colar o restante do conte\xfado na caixa de entrada de texto para "public key".']}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"configurar-as-configura\xe7\xf5es-do-conector-logto-alipay-nativo",children:"Configurar as configura\xe7\xf5es do conector Logto Alipay Nativo"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsxs)(o.li,{children:["No ",(0,n.jsx)(o.a,{href:"https://open.alipay.com/dev/workspace",children:"espa\xe7o de trabalho do console Alipay"}),', v\xe1 para o painel "My application" (\u6211\u7684\u5e94\u7528) e clique na aba "Web & Mobile Apps" (\u7f51\u9875&\u79fb\u52a8\u5e94\u7528), voc\xea pode encontrar o APPID de todos os aplicativos.']}),"\n",(0,n.jsx)(o.li,{children:"No passo 7 da parte anterior, voc\xea j\xe1 gerou um par de chaves incluindo uma chave privada e uma chave p\xfablica."}),"\n",(0,n.jsxs)(o.li,{children:["Preencha as configura\xe7\xf5es do conector Logto:","\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Preencha o campo ",(0,n.jsx)(o.code,{children:"appId"})," com o APPID que voc\xea obteve no passo 1."]}),"\n",(0,n.jsxs)(o.li,{children:["Preencha o campo ",(0,n.jsx)(o.code,{children:"privateKey"})," com o conte\xfado do arquivo de chave privada mencionado no passo 2. Certifique-se de usar '\\n' para substituir todos os caracteres de nova linha. Voc\xea n\xe3o precisa remover o cabe\xe7alho e o rodap\xe9 no arquivo de chave privada."]}),"\n",(0,n.jsxs)(o.li,{children:["Preencha o campo ",(0,n.jsx)(o.code,{children:"signType"})," com 'RSA2' devido ao modo de assinatura ",(0,n.jsx)(o.code,{children:"Public key"}),' que escolhemos no passo 7 de "Criar e Configurar Aplicativos Alipay".']}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(o.h3,{id:"tipos-de-configura\xe7\xe3o",children:"Tipos de configura\xe7\xe3o"}),"\n",(0,n.jsxs)(o.table,{children:[(0,n.jsx)(o.thead,{children:(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.th,{children:"Nome"}),(0,n.jsx)(o.th,{children:"Tipo"}),(0,n.jsx)(o.th,{children:"Valores Enum"})]})}),(0,n.jsxs)(o.tbody,{children:[(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"appId"}),(0,n.jsx)(o.td,{children:"string"}),(0,n.jsx)(o.td,{children:"N/A"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"privateKey"}),(0,n.jsx)(o.td,{children:"string"}),(0,n.jsx)(o.td,{children:"N/A"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"signType"}),(0,n.jsx)(o.td,{children:"enum string"}),(0,n.jsx)(o.td,{children:"'RSA' | 'RSA2'"})]})]})]}),"\n",(0,n.jsx)(o.h2,{id:"habilitar-login-nativo-do-alipay-no-seu-aplicativo",children:"Habilitar login nativo do Alipay no seu aplicativo"}),"\n",(0,n.jsx)(o.h3,{id:"ios",children:"iOS"}),"\n",(0,n.jsxs)(o.p,{children:["Assumimos que voc\xea integrou o ",(0,n.jsx)(o.a,{href:"/quick-starts/swift",children:"Logto iOS SDK"})," no seu aplicativo. Nesse caso, as coisas s\xe3o bem simples, e voc\xea nem precisa ler a documenta\xe7\xe3o do SDK do Alipay:"]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsxs)(o.strong,{children:["1. Adicione ",(0,n.jsx)(o.code,{children:"LogtoSocialPluginAlipay"})," ao seu projeto Xcode"]})}),"\n",(0,n.jsx)(o.p,{children:"Adicione o framework:"}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"Adicionar framework",src:a(37897).A+"",width:"1086",height:"306"})}),"\n",(0,n.jsxs)(o.blockquote,{children:["\n",(0,n.jsxs)(o.p,{children:["\u2139\ufe0f ",(0,n.jsx)(o.strong,{children:"Nota"})]}),"\n",(0,n.jsxs)(o.p,{children:['O plugin inclui o "minimalist SDK" do Alipay (\u6781\u7b80\u7248 SDK). Voc\xea pode usar diretamente ',(0,n.jsx)(o.code,{children:"import AFServiceSDK"})," uma vez que o plugin seja importado."]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsxs)(o.strong,{children:["2. Adicione o plugin \xe0s op\xe7\xf5es de inicializa\xe7\xe3o do seu ",(0,n.jsx)(o.code,{children:"LogtoClient"})]})}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-swift",children:'let logtoClient = LogtoClient(\n  useConfig: config,\n  socialPlugins: [LogtoSocialPluginAlipay(callbackScheme: "your-scheme")]\n)\n'})}),"\n",(0,n.jsxs)(o.p,{children:["Onde ",(0,n.jsx)(o.code,{children:"callbackScheme"})," \xe9 um dos ",(0,n.jsx)(o.a,{href:"https://developer.apple.com/documentation/xcode/defining-a-custom-url-scheme-for-your-app",children:"custom URL Schemes"})," que pode navegar para o seu aplicativo."]}),"\n",(0,n.jsx)(o.h3,{id:"android",children:"Android"}),"\n",(0,n.jsxs)(o.p,{children:["Assumimos que voc\xea integrou o ",(0,n.jsx)(o.a,{href:"/quick-starts/android",children:"Logto Android SDK"})," no seu aplicativo. Nesse caso, as coisas s\xe3o bem simples, e voc\xea nem precisa ler a documenta\xe7\xe3o do SDK do Alipay:"]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:'1. Baixe o "minimalist SDK" do Alipay e adicione-o ao seu projeto'})}),"\n",(0,n.jsxs)(o.p,{children:['Baixe o "minimalist SDK" do Alipay (\u6781\u7b80\u7248 SDK) de ',(0,n.jsx)(o.a,{href:"https://github.com/logto-io/social-sdks/blob/master/alipay/android/alipaySdk-15.7.9-20200727142846.aar",children:"Logto 3rd-party Social SDKs"})," para a pasta ",(0,n.jsx)(o.code,{children:"app/libs"})," do seu projeto:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-bash",children:"project-path/app/libs/alipaySdk-15.7.9-20200727142846.aar\n"})}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:'2. Adicione o "minimalist SDK" do Alipay como uma depend\xeancia'})}),"\n",(0,n.jsxs)(o.p,{children:["Abra seu arquivo ",(0,n.jsx)(o.code,{children:"build.gradle"}),":"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-bash",children:"project-path/app/build.gradle\n"})}),"\n",(0,n.jsx)(o.p,{children:"Adicione a depend\xeancia:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-kotlin",children:"dependencies {\n  // ...\n  implementation(files(\"./libs/alipaySdk-15.7.9-20200727142846.aar\"))  // kotlin-script\n  // ou\n  implementation files('./libs/alipaySdk-15.7.9-20200727142846.aar')  // groovy-script\n}\n"})}),"\n",(0,n.jsx)(o.h3,{id:"testar-o-conector-nativo-do-alipay",children:"Testar o conector nativo do Alipay"}),"\n",(0,n.jsxs)(o.p,{children:["\xc9 isso. N\xe3o se esque\xe7a de ",(0,n.jsx)(o.a,{href:"/connectors/social-connectors/#enable-social-sign-in",children:"Habilitar conector social na experi\xeancia de login"}),"."]}),"\n",(0,n.jsx)(o.p,{children:"Uma vez que o conector nativo do Alipay esteja habilitado, voc\xea pode construir e executar seu aplicativo para ver se funciona."}),"\n",(0,n.jsx)(o.h2,{id:"refer\xeancias",children:"Refer\xeancias"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.a,{href:"https://opendocs.alipay.com/support/01rau6",children:"Alipay Docs - Access Preparation - How to create an app"})}),"\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.a,{href:"https://opendocs.alipay.com/open/200/105310",children:"Alipay Docs - Web & Mobile Apps - Create an app"})}),"\n"]})]})}function u(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},37897:(e,o,a)=>{a.d(o,{A:()=>i});const i=a.p+"assets/images/add-framework-46af6de4ae4a8b92382c7e57e3454036.png"},15658:(e,o,a)=>{a.d(o,{R:()=>s,x:()=>c});var i=a(30758);const n={},r=i.createContext(n);function s(e){const o=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),i.createElement(r.Provider,{value:o},e.children)}}}]);