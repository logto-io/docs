"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[62344],{69927:(e,o,i)=>{i.d(o,{Ay:()=>c,RM:()=>r});var n=i(86070),a=i(15658);const r=[];function s(e){const o={a:"a",admonition:"admonition",p:"p",...(0,a.R)(),...e.components};return(0,n.jsx)(o.admonition,{type:"tip",children:(0,n.jsxs)(o.p,{children:["Neste guia, assumimos que voc\xea tem conhecimento b\xe1sico sobre Conectores (Connectors) do Logto. Se n\xe3o tiver, confira o guia ",(0,n.jsx)(o.a,{href:"/connectors",children:"Configurar conectores"})," para come\xe7ar."]})})}function c(e={}){const{wrapper:o}={...(0,a.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(s,{...e})}):s(e)}},60078:(e,o,i)=>{i.r(o),i.d(o,{assets:()=>l,contentTitle:()=>t,default:()=>u,frontMatter:()=>c,metadata:()=>n,toc:()=>p});const n=JSON.parse('{"id":"integrations/social/apple/README","title":"Configurar login social com Apple","description":"O conector oficial do Logto para login social com Apple.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/integrations/social/apple/README.mdx","sourceDirName":"integrations/social/apple","slug":"/integrations/apple","permalink":"/pt-BR/integrations/apple","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/pt-BR/docusaurus-plugin-content-docs/current/integrations/social/apple/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/integrations/apple","sidebar_label":"Apple","sidebar_custom_props":{"darkLogoFilename":"apple-dark.svg","description":"Apple \xe9 um fornecedor multinacional de hardware e software de alto padr\xe3o."}},"sidebar":"integrationsSidebar","previous":{"title":"Alipay (Web)","permalink":"/pt-BR/integrations/alipay-web"},"next":{"title":"Microsoft","permalink":"/pt-BR/integrations/azuread"}}');var a=i(86070),r=i(15658),s=i(69927);const c={slug:"/integrations/apple",sidebar_label:"Apple",sidebar_custom_props:{darkLogoFilename:"apple-dark.svg",description:"Apple \xe9 um fornecedor multinacional de hardware e software de alto padr\xe3o."}},t="Configurar login social com Apple",l={},p=[...s.RM,{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Ativar o login com Apple para seu aplicativo",id:"ativar-o-login-com-apple-para-seu-aplicativo",level:3},{value:"Criar um identificador",id:"criar-um-identificador",level:3},{value:"Ativar o login com Apple para seu identificador",id:"ativar-o-login-com-apple-para-seu-identificador",level:3},{value:"Configurar escopo",id:"configurar-escopo",level:2},{value:"Armadilhas ao configurar o escopo",id:"armadilhas-ao-configurar-o-escopo",level:3},{value:"Testar o conector Apple",id:"testar-o-conector-apple",level:2}];function d(e){const o={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.header,{children:(0,a.jsx)(o.h1,{id:"configurar-login-social-com-apple",children:"Configurar login social com Apple"})}),"\n",(0,a.jsx)(o.p,{children:"O conector oficial do Logto para login social com Apple."}),"\n",(0,a.jsx)(s.Ay,{}),"\n",(0,a.jsx)(o.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,a.jsxs)(o.p,{children:["Se voc\xea n\xe3o conhece o conceito de conector ou n\xe3o sabe como adicionar este conector \xe0 sua experi\xeancia de login, consulte o ",(0,a.jsx)(o.a,{href:"/connectors/social-connectors",children:"tutorial do Logto"}),"."]}),"\n",(0,a.jsxs)(o.blockquote,{children:["\n",(0,a.jsxs)(o.p,{children:["\u2139\ufe0f ",(0,a.jsx)(o.strong,{children:"Nota"})]}),"\n",(0,a.jsx)(o.p,{children:"O login com Apple \xe9 obrigat\xf3rio para a AppStore se voc\xea tiver outros m\xe9todos de login social em seu aplicativo.\nTer o login com Apple em dispositivos Android \xe9 \xf3timo se voc\xea tamb\xe9m fornecer um aplicativo Android."}),"\n"]}),"\n",(0,a.jsxs)(o.p,{children:["Voc\xea precisa se inscrever no ",(0,a.jsx)(o.a,{href:"https://developer.apple.com/programs/",children:"Apple Developer Program"})," antes de continuar."]}),"\n",(0,a.jsx)(o.h3,{id:"ativar-o-login-com-apple-para-seu-aplicativo",children:"Ativar o login com Apple para seu aplicativo"}),"\n",(0,a.jsxs)(o.blockquote,{children:["\n",(0,a.jsxs)(o.p,{children:["\u26a0\ufe0f ",(0,a.jsx)(o.strong,{children:"Aten\xe7\xe3o"})]}),"\n",(0,a.jsx)(o.p,{children:"Mesmo se voc\xea quiser implementar o login com Apple apenas em um aplicativo web, ainda precisar\xe1 ter um aplicativo existente que fa\xe7a parte do ecossistema da AppStore (ou seja, ter um App ID v\xe1lido)."}),"\n"]}),"\n",(0,a.jsxs)(o.p,{children:["Voc\xea pode fazer isso via Xcode -> Configura\xe7\xf5es do projeto -> Assinatura & Capacidades, ou visitar ",(0,a.jsx)(o.a,{href:"https://developer.apple.com/account/resources/identifiers/list/bundleId",children:"Certificados, Identificadores & Perfis"}),"."]}),"\n",(0,a.jsx)(o.p,{children:(0,a.jsx)(o.img,{alt:"Ativar login com Apple",src:i(38692).A+"",width:"1220",height:"398"})}),"\n",(0,a.jsxs)(o.p,{children:['Veja a se\xe7\xe3o "Enable an App ID" na ',(0,a.jsx)(o.a,{href:"https://developer.apple.com/documentation/sign_in_with_apple/configuring_your_environment_for_sign_in_with_apple",children:"documenta\xe7\xe3o oficial da Apple"})," para mais informa\xe7\xf5es."]}),"\n",(0,a.jsx)(o.h3,{id:"criar-um-identificador",children:"Criar um identificador"}),"\n",(0,a.jsxs)(o.ol,{children:["\n",(0,a.jsxs)(o.li,{children:["Visite ",(0,a.jsx)(o.a,{href:"https://developer.apple.com/account/resources/identifiers/list/serviceId",children:"Certificados, Identificadores & Perfis"}),', ent\xe3o clique no bot\xe3o "+" ao lado de "Identifier".']}),"\n",(0,a.jsx)(o.li,{children:'Na p\xe1gina "Register a new identifier", escolha "Services IDs" e clique em "Continue".'}),"\n",(0,a.jsxs)(o.li,{children:['Preencha "Description" e "Identifier" (por exemplo, ',(0,a.jsx)(o.code,{children:"Logto Test"})," e ",(0,a.jsx)(o.code,{children:"io.logto.test"}),'), ent\xe3o clique em "Continue".']}),"\n",(0,a.jsx)(o.li,{children:'Verifique as informa\xe7\xf5es e clique em "Register".'}),"\n"]}),"\n",(0,a.jsx)(o.h3,{id:"ativar-o-login-com-apple-para-seu-identificador",children:"Ativar o login com Apple para seu identificador"}),"\n",(0,a.jsx)(o.p,{children:'Clique no identificador que voc\xea acabou de criar. Marque "Sign in with Apple" na p\xe1gina de detalhes e clique em "Configure".'}),"\n",(0,a.jsx)(o.p,{children:(0,a.jsx)(o.img,{alt:"Ativar login com Apple",src:i(50210).A+"",width:"1170",height:"186"})}),"\n",(0,a.jsx)(o.p,{children:"No modal que se abre, selecione o App ID que voc\xea acabou de habilitar para login com Apple."}),"\n",(0,a.jsxs)(o.p,{children:["Digite o dom\xednio da sua inst\xe2ncia Logto sem protocolo e porta, por exemplo, ",(0,a.jsx)(o.code,{children:"your.logto.domain"}),'; ent\xe3o insira a "Return URL" (ou seja, URI de redirecionamento), que \xe9 a URL do Logto com ',(0,a.jsx)(o.code,{children:"/callback/${connector_id}"}),", por exemplo, ",(0,a.jsx)(o.code,{children:"https://your.logto.domain/callback/apple-universal"}),". Voc\xea pode obter o ",(0,a.jsx)(o.code,{children:"connector_id"})," gerado aleatoriamente ap\xf3s criar o conector Apple no Admin Console."]}),"\n",(0,a.jsx)(o.p,{children:(0,a.jsx)(o.img,{alt:"domain-and-url",src:i(91813).A+"",width:"988",height:"668"})}),"\n",(0,a.jsx)(o.p,{children:'Clique em "Next" e depois em "Done" para fechar o modal. Clique em "Continue" no canto superior direito e depois em "Save" para salvar sua configura\xe7\xe3o.'}),"\n",(0,a.jsxs)(o.blockquote,{children:["\n",(0,a.jsxs)(o.p,{children:["\u26a0\ufe0f ",(0,a.jsx)(o.strong,{children:"Aten\xe7\xe3o"})]}),"\n",(0,a.jsxs)(o.p,{children:["A Apple N\xc3O permite URLs de retorno com protocolo HTTP e dom\xednio ",(0,a.jsx)(o.code,{children:"localhost"}),"."]}),"\n",(0,a.jsxs)(o.p,{children:["Se voc\xea quiser testar localmente, precisa editar o arquivo ",(0,a.jsx)(o.code,{children:"/etc/hosts"})," para mapear localhost para um dom\xednio personalizado e configurar um ambiente HTTPS local. O ",(0,a.jsx)(o.a,{href:"https://github.com/FiloSottile/mkcert",children:"mkcert"})," pode ajud\xe1-lo a configurar o HTTPS local."]}),"\n"]}),"\n",(0,a.jsx)(o.h2,{id:"configurar-escopo",children:"Configurar escopo"}),"\n",(0,a.jsxs)(o.p,{children:["Para obter o email do usu\xe1rio da Apple, voc\xea precisa configurar o escopo para incluir ",(0,a.jsx)(o.code,{children:"email"}),". Para obter tanto o email quanto o nome, voc\xea pode usar ",(0,a.jsx)(o.code,{children:"name email"})," como escopo. Veja a ",(0,a.jsx)(o.a,{href:"https://developer.apple.com/documentation/sign_in_with_apple/sign_in_with_apple_js/incorporating_sign_in_with_apple_into_other_platforms#3332113",children:"documenta\xe7\xe3o oficial da Apple"})," para mais informa\xe7\xf5es."]}),"\n",(0,a.jsxs)(o.blockquote,{children:["\n",(0,a.jsxs)(o.p,{children:["\u2139\ufe0f ",(0,a.jsx)(o.strong,{children:"Nota"})]}),"\n",(0,a.jsxs)(o.p,{children:["O usu\xe1rio pode optar por ocultar seu endere\xe7o de email do seu aplicativo. Nesse caso, voc\xea n\xe3o poder\xe1 recuperar o endere\xe7o de email real. Um endere\xe7o de email como ",(0,a.jsx)(o.code,{children:"random@privaterelay.appleid.com"})," ser\xe1 retornado."]}),"\n"]}),"\n",(0,a.jsx)(o.h3,{id:"armadilhas-ao-configurar-o-escopo",children:"Armadilhas ao configurar o escopo"}),"\n",(0,a.jsxs)(o.p,{children:["Se voc\xea configurou seu aplicativo para solicitar endere\xe7os de email dos usu\xe1rios ap\xf3s eles j\xe1 terem feito login com Apple, voc\xea n\xe3o poder\xe1 recuperar os endere\xe7os de email desses usu\xe1rios existentes, mesmo que eles fa\xe7am login novamente usando o Apple ID. Para resolver isso, voc\xea precisa instruir seus usu\xe1rios a visitar a ",(0,a.jsx)(o.a,{href:"https://appleid.apple.com/account/manage",children:"p\xe1gina de gerenciamento de conta Apple ID"}),' e remover seu aplicativo da se\xe7\xe3o "Sign in with Apple". Isso pode ser feito selecionando "Stop using Apple Sign In" na p\xe1gina de detalhes do seu aplicativo.']}),"\n",(0,a.jsxs)(o.p,{children:["Por exemplo, se seu aplicativo solicitar tanto o email quanto o nome dos usu\xe1rios (escopo ",(0,a.jsx)(o.code,{children:"email name"}),"), a tela de consentimento que novos usu\xe1rios veem durante seu primeiro login deve ser semelhante a esta:"]}),"\n",(0,a.jsx)(o.p,{children:(0,a.jsx)(o.img,{alt:"Tela de consentimento do login com Apple",src:i(71840).A+"",width:"1472",height:"1188"})}),"\n",(0,a.jsxs)(o.p,{children:["Veja a discuss\xe3o de desenvolvedores ",(0,a.jsx)(o.a,{href:"https://forums.developer.apple.com/forums/thread/132223",children:"aqui"}),"."]}),"\n",(0,a.jsx)(o.h2,{id:"testar-o-conector-apple",children:"Testar o conector Apple"}),"\n",(0,a.jsxs)(o.p,{children:["\xc9 isso. O conector Apple deve estar dispon\xedvel tanto em aplicativos web quanto nativos. N\xe3o se esque\xe7a de ",(0,a.jsx)(o.a,{href:"/connectors/social-connectors/#enable-social-sign-in",children:"habilitar o conector social na experi\xeancia de login"}),"."]})]})}function u(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,a.jsx)(o,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},91813:(e,o,i)=>{i.d(o,{A:()=>n});const n=i.p+"assets/images/domain-and-url-f8f432e8a15c2c1cdf9e59b1a2b72049.png"},38692:(e,o,i)=>{i.d(o,{A:()=>n});const n=i.p+"assets/images/enable-sign-in-with-apple-in-xcode-26680889a51468c3671f3011fd44b5f1.png"},50210:(e,o,i)=>{i.d(o,{A:()=>n});const n=i.p+"assets/images/enable-sign-in-with-apple-42664e79db1a8966b1fc626a4bb67269.png"},71840:(e,o,i)=>{i.d(o,{A:()=>n});const n=i.p+"assets/images/sign-in-with-apple-consent-screen-2e34ab8e2d4c8039accb0f60ec4d7a26.png"},15658:(e,o,i)=>{i.d(o,{R:()=>s,x:()=>c});var n=i(30758);const a={},r=n.createContext(a);function s(e){const o=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),n.createElement(r.Provider,{value:o},e.children)}}}]);