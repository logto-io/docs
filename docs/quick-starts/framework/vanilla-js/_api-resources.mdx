import ApiResourcesDescription from '../../fragments/_api-resources-description.md';
import ConfigApiResources from '../../fragments/_config-api-resources.mdx';
import FetchAccessTokenForApiResources from '../../fragments/_fetch-access-token-for-api-resources.mdx';
import FetchOrganizationTokenForUser from '../../fragments/_fetch-organization-token-for-user.mdx';

import ConfigOrganizationCode from './code/_config-organization-code.mdx';
import ConfigResourcesCode from './code/_config-resources-code.md';
import ConfigResourcesWithScopesCode from './code/_config-resources-with-scopes-code.mdx';
import ConfigResourcesWithSharedScopesCode from './code/_config-resources-with-shared-scopes-code.mdx';
import GetAccessTokenCode from './code/_get-access-token-code.md';
import GetOrganizationAccessTokenCode from './code/_get-organization-access-token-code.md';

<ApiResourcesDescription />

### Configure Logto client

<ConfigApiResources
  configResourcesCode={<ConfigResourcesCode />}
  configResourcesWithScopesCode={<ConfigResourcesWithScopesCode package={props.package} />}
  configResourcesWithSharedScopesCode={
    <ConfigResourcesWithSharedScopesCode package={props.package} />
  }
/>

### Fetch access token for the API resource

<FetchAccessTokenForApiResources
  getAccessTokenApi="getAccessToken"
  getAccessTokenCode={<GetAccessTokenCode />}
/>

### Fetch organization tokens

<FetchOrganizationTokenForUser
  organizationScope="UserScope.Organizations"
  configOrganizationCode={<ConfigOrganizationCode package={props.package} />}
  getOrganizationAccessTokenCode={<GetOrganizationAccessTokenCode />}
/>
./code/_scopes-and-claims-code.mdx./code/_config-organization-code.mdx

### Attach access token to request headers

Put the token in the `Authorization` field of HTTP headers with the Bearer format (`Bearer YOUR_TOKEN`), and you are good to go.

:::note
The Bearer Token's integration flow may vary based on the framework or requester you are using. Choose your own way to apply the request `Authorization` header.
:::
