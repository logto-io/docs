import googleWorkspaceConsentScreenScopesImage from '@site/docs/integrations/sso/google-workspace/assets/google_workspace_consent_screen_scopes.webp';
import googleWorkspaceConsentScreenSettingsImage from '@site/docs/integrations/sso/google-workspace/assets/google_workspace_consent_screen_settings.webp';
import googleWorkspaceConsentScreenUserTypeImage from '@site/docs/integrations/sso/google-workspace/assets/google_workspace_consent_screen_user_type.webp';

In order to create a new OIDC credential, you need to configure the consent screen for your application.

1. Navigate to the [OAuth consent screen](https://console.cloud.google.com/apis/credentials/consent) page and select the `Internal` user type. This will make the OAuth application only available to users within your organization.

<img
  src={googleWorkspaceConsentScreenUserTypeImage}
  alt="Google Workspace consent screen user type"
/>

2. Fill in the `Consent Screen` settings following the instructions on the page. You need to provide the following minimum information:

- **Application name**: The name of your application. It will be displayed on the consent screen.
- **Support email**: The support email of your application. It will be displayed on the consent screen.

<img
  src={googleWorkspaceConsentScreenSettingsImage}
  alt="Google Workspace consent screen settings"
/>

3. Set the `Scopes` for your application. In order to retrieve the user's identity information and email address properly from the IdP, Logto SSO connectors need to grant the following scopes from the IdP:

<img src={googleWorkspaceConsentScreenScopesImage} alt="Google Workspace consent screen scopes" />

- **openid**: This scope is required for OIDC authentication. It is used to retrieve the ID token and get access to the userInfo endpoint of the IdP.
- **profile**: This scope is required for accessing the user's basic profile information.
- **email**: This scope is required for accessing the user's email address.

Click the `Save` button to save the consent screen settings.
