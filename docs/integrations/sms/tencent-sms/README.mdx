---
slug: /integrations/tencent-sms
sidebar_label: Tencent Short Message
sidebar_custom_props:
  description: Tencent provides cloud computing services to online businesses.
  logoFilename: 'tencent.svg'
---

import GuideTip from '../../fragments/_guide-tip.mdx';

# Set up SMS verification with Tencent Short Message Service

The official Logto connector for Tencent Short Message Service.

<GuideTip />

Tencent Cloud SMS Service Logto Official Connector [Documentation in Chinese](#tencent-cloud-sms-connector)

# Tencent Cloud SMS Connector

Tencent Cloud is a major cloud service provider in Asia, offering a wide range of services, including SMS.

This connector, provided officially by Logto, enables end users to register and log in via SMS verification codes.

## Configure an SMS service in the Tencent Cloud SMS Console

> ðŸ’¡ **Tip**
>
> You can skip parts you have already completed.

### Create a Tencent Cloud Account

Go to [Tencent Cloud](https://cloud.tencent.com/) and complete the account registration.

### Enable and Configure Tencent Cloud SMS Service

1. Log in to [Tencent Cloud](https://cloud.tencent.com/) with your newly registered account and navigate to the [SMS Service Console](https://cloud.tencent.com/product/sms).
2. Click the "Free Trial" button in the top left of the SMS Service page to start the setup process.
3. Agree to the "SMS Service Terms of Use" and enable the service to proceed.
4. You will now be in the "[SMS Service Console Overview](https://console.cloud.tencent.com/smsv2)." Depending on your use case, click "Domestic Messages" or "International/Greater China Messages" in the sidebar.
5. Follow the prompts to add a signature and templates, providing the necessary materials for approval:
   - Note: When adding a **signature**, select "Verification Code" under "Application Scenario." Similarly, when adding a **template**, choose "Verification Code" under "Template Type," as the purpose here is to send verification codes. Sending other types of text messages is not currently supported.
   - Ensure your template content includes a `{1}` placeholder, which will be replaced by a randomly generated verification code when the SMS is sent.
   - Only templates with a single placeholder are supported. Select or create templates with only one placeholder.
6. After submitting the signature and template applications, wait for their approval. Meanwhile, you can return to the [SMS Service Console Overview](https://console.cloud.tencent.com/smsv2) to send test messages. If your signature and template are approved, use them directly for testing. If not, Tencent provides test templates.
   - You may need to top up your account with a small amount before sending test messages.
   - Bind the phone number you plan to use for testing in advance to ensure successful receipt of the test messages. Click the "Beginner's Guide" tab at the top of the [SMS Service Console Overview](https://console.cloud.tencent.com/smsv2) for more details.

## Write the Connector's JSON Configuration

1. Go to the [SMS Service Console Overview](https://console.cloud.tencent.com/smsv2), hover over your profile in the top right, navigate to "Access Management," and click "Access Keys" under "[API Key](https://console.cloud.tencent.com/cam/capi)." After completing security verification, you will receive an "AccessKey ID" and an "AccessKey Secret." Keep them safe.
2. Navigate back to the "Domestic Messages" or "International/Greater China Messages" tab, where you can easily find the "Signature Name" and "Template CODE."
   - To use a test-specific signature and template, go to the "Quick Start" tab to find them under "Test Signature Template."
3. Complete the Tencent Cloud SMS Connector setup:
   - Fill in `accessKeyId` and `accessKeySecret` with the pair you obtained in step 1.
   - Use the "Signature Name" from step 2 for the `signName` field. All templates will share this signature.
   - Add multiple SMS templates to cater to different user scenarios. Below is an example of adding a single template:
     - Use the "Template CODE" from step 2 for the `templateCode` field to control the content of the SMS.
     - The `usageType` field should be one of `Register`, `SignIn`, `ForgotPassword`, or `Generic` to correspond to _Registration_, _Login_, _Forgot Password_, or _General_ scenarios. (The `usageType` attribute is specific to Logto and determines the usage scenario.) For a complete setup, configure templates for `Register`, `SignIn`, `ForgotPassword`, and `Generic`.
   - Obtain the App ID from the [Application Management](https://console.cloud.tencent.com/smsv2/app-manage) section and fill it in the `sdkAppId` field.
   - Refer to the [SMS API Documentation](https://cloud.tencent.com/document/api/382/52071#.E5.9C.B0.E5.9F.9F.E5.88.97.E8.A1.A8) for supported regions and fill in the `region` field.

### Test the Tencent Cloud SMS Connector

Before clicking "Save and Complete," enter a phone number and click "Send" to test if the configuration works correctly.

You're all set! Proceed to [Enable phone number sign-up or sign-in](/connectors/sms-connectors/#enable-phone-number-sign-up-or-sign-in).

### Configuration Schema

| Name            | Type       |
| --------------- | ---------- |
| accessKeyId     | string     |
| accessKeySecret | string     |
| signName        | string     |
| region          | string     |
| sdkAppId        | string     |
| templates       | Template[] |

| Template Attribute | Type        | Enum Values                                             |
| ------------------ | ----------- | ------------------------------------------------------- |
| templateCode       | string      | N/A                                                     |
| usageType          | enum string | 'Register' \| 'SignIn' \| 'ForgotPassword' \| 'Generic' |

## References

- [Tencent Cloud: How to Implement SMS Verification Codes](https://cloud.tencent.com/document/product/382/43070)
