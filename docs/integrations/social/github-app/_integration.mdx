## Step 1: Create a GitHub App \{#step-1-create-a-github-app}

Before you can use GitHub as an authentication provider, you must create a GitHub App on GitHub to obtain OAuth 2.0 credentials.

1. Go to [GitHub](https://github.com/) and sign in with your account, or create a new account if needed.
2. Navigate to [Settings > Developer settings > GitHub Apps](https://github.com/settings/apps).
3. Click **New GitHub App** to register a new application:
   - **GitHub App name**: Enter a unique name for your app. The name cannot be longer than 34 characters and must be unique across GitHub.
   - **Homepage URL**: Enter your application's homepage URL.
   - **Callback URL**: Copy the **Callback URI** from your Logto GitHub connector and paste it here. You can add multiple callback URLs if needed. After users sign in with GitHub, they'll be redirected here with an authorization code that Logto uses to complete authentication.
   - **Expire user authorization tokens**: Keep this **checked** (recommended). This enables token expiration and refresh tokens for enhanced security.
   - **Request user authorization (OAuth) during installation**: Optionally check this to prompt users to authorize your app during installation.
   - **Webhook**: Uncheck **Active** if you don't need webhook events. For authentication-only use cases, webhooks are typically not required.
4. Under **Permissions**, configure the permissions your app needs (see Step 2 below for details).
5. Under **Where can this GitHub App be installed?**, select **Any account** if you want users from any GitHub account to use your app for authentication.
6. Click **Create GitHub App** to create the GitHub App.

:::note
Unlike OAuth Apps, GitHub Apps use fine-grained permissions instead of broad scopes. You configure permissions in the GitHub dashboard during app creation, and users grant access to specific repositories during authorization.

For more details on setting up GitHub Apps, see [Registering a GitHub App](https://docs.github.com/en/apps/creating-github-apps/registering-a-github-app/registering-a-github-app).
:::

## Step 2: Configure permissions in GitHub \{#step-2-configure-permissions-in-github}

GitHub Apps use fine-grained permissions instead of OAuth scopes. You must configure permissions **in the GitHub dashboard** when creating or editing your GitHub App. These permissions determine what data your app can access.

### Understanding GitHub App permissions \{#understanding-github-app-permissions}

Permissions are categorized into three types:

- **Repository permissions**: Access to repository-level resources (code, issues, pull requests, etc.)
- **Organization permissions**: Access to organization-level resources (members, teams, projects, etc.)
- **Account permissions**: Access to user account data (email, profile, followers, etc.)

For each permission, you can select:

- **No access**: The app cannot access this resource
- **Read-only**: The app can read but not modify this resource
- **Read & write**: The app can read and modify this resource

### Recommended permissions for authentication \{#recommended-permissions-for-authentication}

For basic "Sign in with GitHub" functionality, configure these minimum **Account permissions**:

| Permission          | Access level | Purpose                                       |
| ------------------- | ------------ | --------------------------------------------- |
| **Email addresses** | Read-only    | Get user's email address for account creation |

:::tip
GitHub Apps have implicit access to read public profile information when acting on behalf of a user. You don't need to explicitly request permission for basic profile data like username, avatar, and public profile URL.
:::

### Additional permissions for API access

If your application needs to access GitHub APIs beyond authentication, add the corresponding permissions in the GitHub dashboard. Here are some common examples:

| Permission type  | Permission    | Access level             | Use case                                                  |
| ---------------- | ------------- | ------------------------ | --------------------------------------------------------- |
| **Repository**   | Contents      | Read-only / Read & write | Access repository files and code                          |
| **Repository**   | Issues        | Read & write             | Create and manage issues                                  |
| **Repository**   | Pull requests | Read & write             | Create and manage pull requests                           |
| **Repository**   | Metadata      | Read-only                | Access repository metadata (required for many operations) |
| **Organization** | Members       | Read-only                | List organization members                                 |
| **Account**      | Followers     | Read-only                | Access user's followers and following                     |

This is not an exhaustive list — GitHub Apps support many more fine-grained permissions. See [Permissions required for GitHub Apps](https://docs.github.com/en/rest/overview/permissions-required-for-github-apps) for the complete list.

:::tip[Key difference from OAuth Apps]
Unlike OAuth Apps where you configure scopes in the Logto connector, GitHub App permissions are managed entirely in the GitHub dashboard. You can leave the `Scope` field empty in your Logto GitHub connector — it's not needed because GitHub Apps don't use traditional OAuth scopes.

Simply configure the permissions you need in GitHub, and users will be prompted to grant access during authorization.
:::

## Step 3: Configure your Logto connector \{#step-3-configure-your-logto-connector}

After creating the GitHub App, you'll be redirected to its settings page where you can obtain the credentials.

1. On your GitHub App's settings page, copy the **Client ID** and paste it into the `clientId` field in Logto.
2. Under **Client secrets**, click **Generate a new client secret**. Copy the generated secret and paste it into the `clientSecret` field in Logto.
3. Click **Save and Done** in Logto to connect your identity system with GitHub.

:::warning
Keep your Client secret secure and never expose it in client-side code. GitHub client secrets cannot be recovered if lost - you'll need to generate a new one.
:::

:::note
The Client ID for a GitHub App is different from the App ID. Make sure to use the Client ID (shown as "Client ID" on the settings page), not the App ID.
:::

## Step 4: General settings \{#step-4-general-settings}

Here are some general settings that won't block the connection to GitHub but may affect the end-user authentication experience.

### Sync profile information \{#sync-profile-information}

In the GitHub connector, you can configure how profile information is synced from GitHub user info to the Logto user profile, including `name`, `avatar`, and `email`. Choose from the following options:

- **Only sync at sign-up**: Profile info is fetched once when the user first signs in.
- **Always sync at sign-in**: Profile info is updated every time the user signs in.

### Store tokens to access GitHub APIs (Optional) \{#store-tokens-to-access-github-apis-optional}

If you want to access GitHub APIs and perform actions with user authorization (whether via social sign-in or account linking), enable token storage in Logto:

1. Configure the required permissions in your GitHub App settings (Step 2).
2. Enable **Store tokens for persistent API access** in the Logto GitHub connector. Logto will securely store both the access token and refresh token in the Secret Vault.

:::note
Since GitHub Apps always issue refresh tokens, Logto stores both tokens automatically. The access token expires after 8 hours, but Logto can use the refresh token to obtain new access tokens, ensuring uninterrupted API access for up to 6 months.
:::

## Step 5: Test your integration (Optional) \{#step-5-test-your-integration-optional}

Before going live, test your GitHub App integration:

1. Use the connector in a Logto development tenant.
2. Verify that users can sign in with GitHub.
3. Check that users are prompted for the correct permissions during authorization.
4. If you enabled token storage, verify that access tokens (and refresh tokens) are stored correctly.
5. Test API calls using the stored tokens to ensure permissions are working as expected.

GitHub Apps work with any GitHub user account immediately - there's no need for test users or app approval like some other platforms. However, if your app is installed on an organization, organization owners may need to approve the installation.
