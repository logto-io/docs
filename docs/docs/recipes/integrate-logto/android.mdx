---
sidebar_label: Android
---

import AppNote from './fragments/_app-note.mdx';
import ConfigureRedirectUri from './fragments/_configure-redirect-uri.mdx';
import SignInNote from './fragments/_sign-in-note.mdx';
import FurtherReadings from './fragments/_further-readings.md';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import redirectUriFigure from './assets/android-redirect-uri.png';

# Android: Integrate Logto Android SDK

<AppNote type="Native App" />

## Add Logto SDK as a dependency

:::note
The minimum supported Android API level of Logto Andorid SDK is level 24.
:::

Add the `mavenCentral()` repository to your Gradle project build file:

```kotlin
repositories {
    mavenCentral()
}
```

Add Logto Android SDK to your dependencies:

<Tabs>

<TabItem value="kotlin" label="Kotlin">

```kotlin
dependencies {
    implementation("io.logto.sdk:android:1.0.0")
}
```

</TabItem>

<TabItem value="groovy" label="Groovy">

```groovy
dependencies {
    implementation 'io.logto.sdk:android:1.0.0'
}
```

</TabItem>

</Tabs>

## Init LogtoClient

<Tabs>

<TabItem value="kotlin" label="Kotlin">

```kotlin
import io.logto.sdk.android.LogtoClient
import io.logto.sdk.android.type.LogtoConfig

class MainActivity : AppCompatActivity() {
    val logtoConfig = LogtoConfig(
        endpoint = "<your-logto-endpoint>",  // E.g. http://localhost:3001
        appId = "<your-app-id>",
        scopes = null,
        resources = null,
        usingPersistStorage = true,
    )

    val logtoClient = LogtoClient(logtoConfig, application)
}
```

</TabItem>

<TabItem value="java" label="Java">

```java
import io.logto.sdk.android.LogtoClient;
import io.logto.sdk.android.type.LogtoConfig;

public class MainActivity extends AppCompatActivity {
    private LogtoClient logtoClient;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        LogtoConfig logtoConfig = new LogtoConfig(
            "<your-logto-endpoint>",  // E.g. http://localhost:3001
            "<your-app-id>",
            null,
            null,
            true
        );

        logtoClient = new LogtoClient(logtoConfig, getApplication());
    }
}
```

</TabItem>

</Tabs>

## Sign in

### Configure Redirect URI

<ConfigureRedirectUri
  figureSrc={redirectUriFigure}
  redirectUri="$(LOGTO_REDIRECT_SCHEME)://$(YOUR_APP_PACKAGE)/callback"
/>

Notes:

- `LOGTO_REDIRECT_SCHEME` should be a custom scheme in the reverse domain format.
- Replace `$(LOGTO_REDIRECT_SCHEME)` with your own settings.

E.g. `io.logto.android://io.logto.sample/callback`

### Sign in

<SignInNote calling=".signIn(context, redirectUri, completion)" />

<Tabs>

<TabItem value="kotlin" label="Kotlin">

```kotlin
logtoClient.signIn(this, "<your-redirect-uri>") { logtoException: LogtoException? ->
    // User signed in successfully if `logtoException` is null.
}
```

</TabItem>

<TabItem value="java" label="Java">

```java
logtoClient.signIn(this, "<your-redirect-uri>", logtoException -> {
    // User signed in successfully if `logtoException` is null.
});
```

</TabItem>

</Tabs>

After signing in successfully, `logtoClient.isAuthenticated` will be `true`.

## Sign out

Calling `.signOut(completion)` will always clear local credentials even if errors occurred.

<Tabs>

<TabItem value="kotlin" label="Kotlin">

```kotlin
logtoClient.signOut { logtoException: LogtoException? ->
    // Local credentials are cleared regardless of whether `logtoException` is null.
}
```

</TabItem>

<TabItem value="java" label="Java">

```java
logtoClient.signOut(logtoException -> {
    // Local credentials are cleared regardless of whether `logtoException` is null.
});
```

</TabItem>

</Tabs>

## Further readings

<FurtherReadings />
