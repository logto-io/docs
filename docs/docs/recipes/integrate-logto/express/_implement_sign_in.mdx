import redirectUriFigure from '../assets/next-redirect-uri.png';
import ConfigureRedirectUri from '../fragments/_configure-redirect-uri.mdx';
import SignInFlowSummary from '../fragments/_web-sign-in-flow-summary.mdx';

<SignInFlowSummary />

### Configure sign-in redirect URI

<ConfigureRedirectUri
  figureSrc={redirectUriFigure}
  redirectUri="http://localhost:3000/logto/sign-in-callback"
/>

### Prepare logto routes

Prepare routes to connect with Logto.

Go back to your IDE/editor, use the following code to implement the API routes first:

```ts
import { handleAuthRoutes } from '@logto/express';

app.use(handleAuthRoutes(config));
```

This will create 3 routes automatically:

1. `/logto/sign-in`: Sign in with Logto.
2. `/logto/sign-in-callback`: Handle sign-in callback.
3. `/logto/sign-out`: Sign out from Logto.

### Implement sign-in

We're almost there! Now, create a sign-in button to redirect to the sign-in route on user click.

```ts
app.get('/', (req, res) => {
  res.setHeader('content-type', 'text/html');
  res.end(`<div><a href="/logto/sign-in">Sign In</a></div>`);
});
```
