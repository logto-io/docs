"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[86591],{37576:(e,n,t)=>{t.d(n,{Ay:()=>i,RM:()=>r});var s=t(86070),o=t(15658);const r=[];function a(e){const n={admonition:"admonition",p:"p",...(0,o.R)(),...e.components};return(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:['Ce guide suppose que vous avez cr\xe9\xe9 une Application de type "',e.type,"\" dans la Console d'administration."]})})}function i(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},3720:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>v,contentTitle:()=>x,default:()=>A,frontMatter:()=>j,metadata:()=>s,toc:()=>f});const s=JSON.parse('{"id":"quick-starts/generic/machine-to-machine/README","title":"Machine-to-machine : Auth avec Logto","description":"Introduction","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/quick-starts/generic/machine-to-machine/README.mdx","sourceDirName":"quick-starts/generic/machine-to-machine","slug":"/quick-starts/m2m","permalink":"/fr/quick-starts/m2m","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/quick-starts/generic/machine-to-machine/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/m2m","sidebar_label":"Machine-to-machine","sidebar_custom_props":{"description":"Permet la communication directe entre machines."}},"sidebar":"quickStartSidebar","previous":{"title":"WordPress","permalink":"/fr/quick-starts/wordpress"},"next":{"title":"Web traditionnel","permalink":"/fr/quick-starts/traditional-web"}}');var o=t(86070),r=t(15658),a=t(78551),i=t(77501);const c=t.p+"assets/images/api-identifier-ee920efff60f2af5efc6c726244393c1.png";var l=t(37576),u=t(47029),d=t(62862),p=t(64455),h=t(93378),m=t(38397),g=t(84814);const j={slug:"/quick-starts/m2m",sidebar_label:"Machine-to-machine",sidebar_custom_props:{description:"Permet la communication directe entre machines."}},x="Machine-to-machine : Auth avec Logto",v={},f=[...l.RM,{value:"Introduction",id:"introduction",level:2},...g.RM,{value:"R\xe9cup\xe9rer un jeton d\u2019acc\xe8s",id:"r\xe9cup\xe9rer-un-jeton-dacc\xe8s",level:2},{value:"Notions de base sur la requ\xeate de jeton d\u2019acc\xe8s",id:"notions-de-base-sur-la-requ\xeate-de-jeton-dacc\xe8s",level:3},...p.RM,{value:"Demander un jeton d\u2019acc\xe8s",id:"demander-un-jeton-dacc\xe8s",level:3},...h.RM,{value:"R\xe9ponse du jeton d\u2019acc\xe8s",id:"r\xe9ponse-du-jeton-dacc\xe8s",level:3},...m.RM,{value:"Acc\xe9der \xe0 la ressource en utilisant le jeton d\u2019acc\xe8s",id:"acc\xe9der-\xe0-la-ressource-en-utilisant-le-jeton-dacc\xe8s",level:2},...d.RM,...u.RM,{value:"Authentification",id:"authentification",level:2}];function b(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"machine-to-machine--auth-avec-logto",children:"Machine-to-machine : Auth avec Logto"})}),"\n",(0,o.jsx)(l.Ay,{type:"Machine-to-machine"}),"\n",(0,o.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsx)(n.p,{children:"Machine-to-machine (M2M) est une pratique courante pour s'authentifier si vous avez une application (pas un utilisateur) qui doit communiquer directement avec des ressources (g\xe9n\xe9ralement, l'utilisation d'une application M2M ne n\xe9cessite pas d'interactions utilisateur, donc elle n'a pas d'interface utilisateur). Par exemple, un service API qui met \xe0 jour les donn\xe9es personnalis\xe9es des utilisateurs dans Logto, un service statistique qui r\xe9cup\xe8re les commandes quotidiennes, etc."}),"\n",(0,o.jsx)(n.p,{children:"\xc9tant donn\xe9 que Logto utilise le contr\xf4le d\u2019acc\xe8s bas\xe9 sur les r\xf4les (RBAC) comme sa politique de contr\xf4le d'acc\xe8s, l'attribution de r\xf4les M2M aux applications M2M est n\xe9cessaire pour prot\xe9ger votre API qui n\xe9cessite une communication directe avec le service."}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["Pour en savoir plus sur notre RBAC actuel et la diff\xe9rence entre le r\xf4le utilisateur et le r\xf4le M2M, consultez ",(0,o.jsx)(n.a,{href:"/authorization/role-based-access-control/configure-roles",children:"Configurer les r\xf4les"})," pour en savoir plus."]})}),"\n",(0,o.jsx)(n.p,{children:"Il existe deux cas d'utilisation courants des applications machine-to-machine dans Logto :"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Acc\xe9der \xe0 Logto Management API"})," : Dans ce cas, vous devez attribuer un r\xf4le M2M qui inclut la ",(0,o.jsx)(n.code,{children:"permission all"})," de la Logto Management API int\xe9gr\xe9e \xe0 votre application M2M."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Acc\xe9der \xe0 votre ressource API"})," : Dans ce cas, vous devez attribuer des r\xf4les M2M qui incluent des permissions de vos ressources API \xe0 votre application M2M."]}),"\n"]}),"\n",(0,o.jsx)(g.Ay,{}),"\n",(0,o.jsx)(n.p,{children:"Maintenant, parcourons le processus de bout en bout. Pour plus de clart\xe9, nous s\xe9parerons les \xe9tapes pour acc\xe9der \xe0 Logto Management API et \xe0 d'autres ressources API. Et nous supposons que vous avez d\xe9j\xe0 cr\xe9\xe9 une application M2M dans Logto."}),"\n",(0,o.jsx)(n.h2,{id:"r\xe9cup\xe9rer-un-jeton-dacc\xe8s",children:"R\xe9cup\xe9rer un jeton d\u2019acc\xe8s"}),"\n",(0,o.jsx)(n.h3,{id:"notions-de-base-sur-la-requ\xeate-de-jeton-dacc\xe8s",children:"Notions de base sur la requ\xeate de jeton d\u2019acc\xe8s"}),"\n",(0,o.jsx)(p.Ay,{}),"\n",(0,o.jsx)(n.p,{children:"Un exemple de requ\xeate de jeton d\u2019acc\xe8s est :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-http",children:"POST /oidc/token HTTP/1.1\nHost: your.logto.endpoint\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=client_credentials\n&resource=https://shopping.api\n&scope=read:products write:products\n"})}),"\n",(0,o.jsx)(n.h3,{id:"demander-un-jeton-dacc\xe8s",children:"Demander un jeton d\u2019acc\xe8s"}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["Dans la d\xe9monstration suivante, remplacez ",(0,o.jsx)(n.code,{children:"https://your.logto.endpoint"})," par le point de terminaison Logto que vous ciblez. Pour Logto Cloud, ce sera ",(0,o.jsx)(n.code,{children:"https://{your-tenant-id}.logto.app"}),"."]})}),"\n",(0,o.jsxs)(i.A,{children:[(0,o.jsx)(a.A,{value:"Logto Management API",label:"Pour Logto Management API",children:(0,o.jsx)(h.Ay,{})}),(0,o.jsxs)(a.A,{value:"API resource",label:"Pour votre ressource API",children:[(0,o.jsxs)(n.p,{children:["Dans votre liste de ressources API, trouvez l'identifiant API que l'application doit acc\xe9der. Si vous n'avez pas ajout\xe9 la ressource API dans Logto ou ne savez pas ce qu'est une ressource API, consultez ",(0,o.jsx)(n.a,{href:"/authorization/api-resources",children:"Ressource API"}),"."]}),(0,o.jsx)("img",{alt:"Identifiant API",src:c,width:"600px",style:{paddingBottom:"12px"}}),(0,o.jsxs)(n.p,{children:["Supposons que nous ayons les permissions ",(0,o.jsx)(n.code,{children:"read:products"})," et ",(0,o.jsx)(n.code,{children:"write:products"}),' sous cette ressource API "Online Shopping".']}),(0,o.jsx)(n.p,{children:"Avant d'acc\xe9der \xe0 votre ressource API, assurez-vous que votre application M2M a \xe9t\xe9 attribu\xe9e avec des r\xf4les M2M qui incluent des permissions de votre ressource API."}),(0,o.jsx)(n.p,{children:"Maintenant, composez tout ce que nous avons et envoyez la requ\xeate :"}),(0,o.jsxs)(i.A,{children:[(0,o.jsx)(a.A,{value:"Node.js",label:"Node.js",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"const logtoEndpoint = 'https://your.logto.endpoint';\nconst tokenEndpoint = `${logtoEndpoint}/oidc/token`;\nconst applicationId = 'your-application-id';\nconst applicationSecret = 'your-application-secret';\n\nconst fetchAccessToken = async () => {\n  return await fetch(tokenEndpoint, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      Authorization: `Basic ${Buffer.from(`${applicationId}:${applicationSecret}`).toString(\n        'base64'\n      )}`,\n    },\n    body: new URLSearchParams({\n      grant_type: 'client_credentials',\n      resource: 'https://shopping.api',\n      scope: 'read:products write:products',\n    }).toString(),\n  });\n};\n"})})}),(0,o.jsx)(a.A,{value:"cURL",label:"cURL",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"curl --location \\\n  --request POST 'https://your.logto.endpoint/oidc/token' \\\n  --header 'Authorization: Basic ${your_auth_string}' \\\n  --header 'Content-Type: application/x-www-form-urlencoded' \\\n  --data-urlencode 'grant_type=client_credentials' \\\n  --data-urlencode 'resource=https://shopping.api' \\\n  --data-urlencode 'scope=read:products write:products'\n"})})})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"r\xe9ponse-du-jeton-dacc\xe8s",children:"R\xe9ponse du jeton d\u2019acc\xe8s"}),"\n",(0,o.jsx)(n.p,{children:"Un corps de r\xe9ponse d'acc\xe8s r\xe9ussi serait comme :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "access_token": "eyJhbG...2g", // Utilisez ce jeton pour acc\xe9der \xe0 Logto Management API\n  "expires_in": 3600, // Expiration du jeton en secondes\n  "token_type": "Bearer", // Type d\'authentification pour votre requ\xeate lors de l\'utilisation du jeton d\u2019acc\xe8s\n  "scope": "all" // port\xe9e `all` pour Logto Management API\n}\n'})}),"\n",(0,o.jsx)(m.Ay,{}),"\n",(0,o.jsx)(n.h2,{id:"acc\xe9der-\xe0-la-ressource-en-utilisant-le-jeton-dacc\xe8s",children:"Acc\xe9der \xe0 la ressource en utilisant le jeton d\u2019acc\xe8s"}),"\n",(0,o.jsx)(d.Ay,{}),"\n",(0,o.jsxs)(i.A,{children:[(0,o.jsx)(a.A,{value:"Logto Management API",label:"Interagir avec Logto Management API",children:(0,o.jsx)(u.Ay,{})}),(0,o.jsxs)(a.A,{value:"Your API resource",label:"Interagir avec votre ressource API",children:[(0,o.jsxs)(n.p,{children:["En utilisant le jeton d\u2019acc\xe8s demand\xe9 avec la ressource API ",(0,o.jsx)(n.code,{children:"https://shopping.api"})," pour obtenir tous les produits dans l'API de shopping :"]}),(0,o.jsxs)(i.A,{children:[(0,o.jsx)(a.A,{value:"Node.js",label:"Node.js",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"const apiEndpoint = 'https://your.api.endpoint';\nconst accessToken = 'eyJhb...2g'; // Jeton d\u2019acc\xe8s\n\nconst fetchProducts = async () => {\n  return await fetch(`${apiEndpoint}/products`, {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n    },\n  });\n};\n"})})}),(0,o.jsx)(a.A,{value:"cURL",label:"cURL",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"curl --location \\\n  --request GET 'https://your.api.endpoint/products' \\\n  --header 'Authorization: Bearer eyJhbG...2 # Jeton d\u2019acc\xe8s\n"})})})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"authentification",children:"Authentification"}),"\n",(0,o.jsxs)(n.p,{children:["Si vous prot\xe9gez vos propres ressources API autres que Logto Management API, n'oubliez pas de mettre en \u0153uvre l'authentification pour votre ressource. Consultez ",(0,o.jsx)(n.a,{href:"/authorization/api-resources/protect-your-api/#validate-authorization-tokens-for-api-requests",children:"Prot\xe9ger votre API"})," pour plus de d\xe9tails."]})]})}function A(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(b,{...e})}):b(e)}},47029:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>i});var s=t(86070),o=t(15658),r=t(78551),a=t(77501);const i=[];function c(e){const n={code:"code",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Utilisation du jeton d\u2019acc\xe8s (Jeton d\u2019acc\xe8s) demand\xe9 avec la ressource API de gestion int\xe9gr\xe9e de Logto ",(0,s.jsx)(n.code,{children:"https://[your-tenant-id].logto.app/api"})," pour obtenir toutes les applications dans Logto :"]}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsx)(r.A,{value:"Node.js",label:"Node.js",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const logtoEndpoint = 'https://your.logto.endpoint'; // Remplacez par votre point de terminaison Logto\nconst accessToken = 'eyJhb...2g'; // Jeton d\u2019acc\xe8s\n\nconst fetchLogtoApplications = async () => {\n  return await fetch(`${logtoEndpoint}/api/applications`, {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n    },\n  });\n};\n"})})}),(0,s.jsxs)(r.A,{value:"cURL",label:"cURL",children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl --location \\\n  --request GET 'https://your.logto.endpoint/api/applications' \\\n  --header 'Authorization: Bearer eyJhbG...2g'\n"})}),(0,s.jsxs)(n.p,{children:["N'oubliez pas de remplacer les valeurs r\xe9elles par les v\xf4tres. La valeur apr\xe8s ",(0,s.jsx)(n.code,{children:"Bearer"})," doit \xeatre le jeton d\u2019acc\xe8s (JWT) que vous avez re\xe7u."]})]})]})]})}function l(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},62862:(e,n,t)=>{t.d(n,{Ay:()=>i,RM:()=>r});var s=t(86070),o=t(15658);const r=[];function a(e){const n={code:"code",p:"p",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Vous pouvez remarquer que la r\xe9ponse du jeton a un champ ",(0,s.jsx)(n.code,{children:"token_type"}),", qui est fix\xe9 \xe0 ",(0,s.jsx)(n.code,{children:"Bearer"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Ainsi, vous devez placer le jeton d\u2019acc\xe8s dans le champ ",(0,s.jsx)(n.code,{children:"Authorization"})," des en-t\xeates HTTP avec le format Bearer (",(0,s.jsx)(n.code,{children:"Bearer YOUR_TOKEN"}),") lorsque vous interagissez avec votre serveur de ressource API."]})]})}function i(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},64455:(e,n,t)=>{t.d(n,{Ay:()=>c,RM:()=>a});var s=t(86070),o=t(15658);const r=t.p+"assets/images/app-id-secret-af29845d7768be05909995293bef45d9.png",a=[];function i(e){const n={a:"a",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["L'application M2M effectue une requ\xeate ",(0,s.jsx)(n.code,{children:"POST"})," vers le point de terminaison de jeton pour r\xe9cup\xe9rer un jeton d\u2019acc\xe8s (Access token) en ajoutant les param\xe8tres suivants en utilisant le format ",(0,s.jsx)(n.code,{children:"application/x-www-form-urlencoded"})," dans le corps de l'entit\xe9 de la requ\xeate HTTP :"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"grant_type"})," : Doit \xeatre d\xe9fini sur ",(0,s.jsx)(n.code,{children:"client_credentials"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"resource"})," : La ressource \xe0 laquelle vous souhaitez acc\xe9der"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"scope"})," : La port\xe9e de la requ\xeate d\u2019acc\xe8s"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Vous devez \xe9galement inclure les informations d'identification de votre application M2M dans l'en-t\xeate de la requ\xeate pour que le point de terminaison de jeton puisse authentifier votre application M2M."}),"\n",(0,s.jsxs)(n.p,{children:["Cela est r\xe9alis\xe9 en incluant les informations d'identification de l'application dans le formulaire d' ",(0,s.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization#basic_authentication",children:"Authentification (Basic authentication)"})," dans l'en-t\xeate de la requ\xeate ",(0,s.jsx)(n.code,{children:"Authorization"}),", o\xf9 le nom d'utilisateur est l'ID de l'application et le mot de passe est le secret de l'application."]}),"\n",(0,s.jsx)(n.p,{children:"Vous pouvez trouver l'ID de l'application et le secret de l'application sur la page des d\xe9tails de votre application M2M :"}),"\n",(0,s.jsx)("img",{alt:"ID de l'application et secret de l'application",src:r,width:"600px"})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}},93378:(e,n,t)=>{t.d(n,{Ay:()=>u,RM:()=>c});var s=t(86070),o=t(15658),r=t(78551),a=t(77501);const i=t.p+"assets/images/logto-management-api-4994334ef32791d9ebc6c9aa298c9ecd.png",c=[];function l(e){const n={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:['Logto fournit une ressource int\xe9gr\xe9e "Logto Management API", c\'est une ressource en lecture seule avec la permission ',(0,s.jsx)(n.code,{children:"all"})," pour acc\xe9der \xe0 Logto Management API, vous pouvez la voir dans votre liste de ressources API. L'indicateur de ressource API suit le mod\xe8le ",(0,s.jsx)(n.code,{children:"https://{your-tenant-id}.logto.app/api"})," , et cela sera votre valeur de ressource utilis\xe9e dans le corps de la requ\xeate de jeton d\u2019acc\xe8s."]}),"\n",(0,s.jsx)("img",{alt:"D\xe9tails de Logto Management API",src:i,width:"600px"}),"\n",(0,s.jsxs)(n.p,{children:["Avant d'acc\xe9der \xe0 Logto Management API, assurez-vous que votre application M2M a \xe9t\xe9 assign\xe9e avec des r\xf4les M2M qui incluent la permission ",(0,s.jsx)(n.code,{children:"all"}),' de cette ressource int\xe9gr\xe9e "Logto Management API".']}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:['Logto fournit \xe9galement un r\xf4le M2M pr\xe9configur\xe9 "Logto Management API access" pour les nouveaux locataires cr\xe9\xe9s, auquel la permission ',(0,s.jsx)(n.code,{children:"all"})," de la ressource Logto Management API a d\xe9j\xe0 \xe9t\xe9 assign\xe9e. Vous pouvez l'utiliser directement sans configurer manuellement les permissions. Ce r\xf4le pr\xe9configur\xe9 peut \xe9galement \xeatre modifi\xe9 et supprim\xe9 selon les besoins."]})}),"\n",(0,s.jsx)(n.p,{children:"Maintenant, composez tout ce que nous avons et envoyez la requ\xeate :"}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsx)(r.A,{value:"Node.js",label:"Node.js",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const logtoEndpoint = 'https://your.logto.endpoint'; // Remplacez par votre point de terminaison Logto\nconst tokenEndpoint = `${logtoEndpoint}/oidc/token`;\nconst applicationId = 'your-application-id';\nconst applicationSecret = 'your-application-secret';\nconst tenantId = 'your-tenant-id';\n\nconst fetchAccessToken = async () => {\n  return await fetch(tokenEndpoint, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      Authorization: `Basic ${Buffer.from(`${applicationId}:${applicationSecret}`).toString(\n        'base64'\n      )}`,\n    },\n    body: new URLSearchParams({\n      grant_type: 'client_credentials',\n      resource: `https://${tenantId}.logto.app/api`,\n      scope: 'all',\n    }).toString(),\n  });\n};\n"})})}),(0,s.jsxs)(r.A,{value:"cURL",label:"cURL",children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl --location \\\n  --request POST 'https://your.logto.endpoint' \\\n  --header 'Authorization: Basic ${your_auth_string}' \\\n  --header 'Content-Type: application/x-www-form-urlencoded' \\\n  --data-urlencode 'grant_type=client_credentials' \\\n  --data-urlencode 'resource=https://${tenantId}.logto.app/api' \\\n  --data-urlencode 'scope=all'\n"})}),(0,s.jsx)(n.p,{children:"N'oubliez pas de remplacer les valeurs r\xe9elles par les v\xf4tres."})]})]}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsxs)(n.p,{children:["Pour les utilisateurs de Logto Cloud : lorsque vous interagissez avec Logto Management API, vous ne pouvez pas utiliser de domaine personnalis\xe9, utilisez le point de terminaison Logto par d\xe9faut ",(0,s.jsx)(n.code,{children:"https://{your_tenant_id}.logto.app/oidc/token"})," pour obtenir des jetons d\u2019acc\xe8s."]})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},38397:(e,n,t)=>{t.d(n,{Ay:()=>i,RM:()=>r});var s=t(86070),o=t(15658);const r=[];function a(e){const n={admonition:"admonition",code:"code",p:"p",...(0,o.R)(),...e.components};return(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Logto ne prend pas actuellement en charge l'application M2M pour repr\xe9senter un utilisateur. Le ",(0,s.jsx)(n.code,{children:"sub"})," dans la charge utile du jeton d\u2019acc\xe8s sera l'ID de l'application."]})})}function i(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},84814:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>i});var s=t(86070),o=t(15658);const r=t.p+"assets/images/assign-m2m-roles-modal-f4f833eaf1c4b2c59509c918d3985eee.png",a=t.p+"assets/images/assign-m2m-roles-page-6084df6c23aec9c3f331738031f197b2.png",i=[];function c(e){const n={p:"p",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Pendant le processus de cr\xe9ation de l'application M2M, vous serez dirig\xe9 vers une page o\xf9 vous pouvez attribuer des R\xf4les M2M \xe0 vos applications :"}),"\n",(0,s.jsx)("img",{alt:"Assign M2M roles modal",src:r,width:"600px"}),"\n",(0,s.jsx)(n.p,{children:"Ou vous pouvez \xe9galement attribuer ces r\xf4les sur la page de d\xe9tails de l'application M2M lorsque vous avez d\xe9j\xe0 cr\xe9\xe9 une application M2M :"}),"\n",(0,s.jsx)("img",{alt:"Assign M2M roles page",src:a,width:"600px"})]})}function l(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},78551:(e,n,t)=>{t.d(n,{A:()=>a});t(30758);var s=t(13526);const o={tabItem:"tabItem_PGP0"};var r=t(86070);function a(e){let{children:n,hidden:t,className:a}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,s.A)(o.tabItem,a),hidden:t,children:n})}},77501:(e,n,t)=>{t.d(n,{A:()=>M});var s=t(30758),o=t(13526),r=t(65052),a=t(25557),i=t(77469),c=t(50873),l=t(62230),u=t(60196);function d(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:s,default:o}}=e;return{value:n,label:t,attributes:s,default:o}}))}(t);return function(e){const n=(0,l.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const o=(0,a.W6)(),r=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,c.aZ)(r),(0,s.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(o.location.search);n.set(r,e),o.replace({...o.location,search:n.toString()})}),[r,o])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:o}=e,r=p(e),[a,c]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=t.find((e=>e.default))??t[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:r}))),[l,d]=m({queryString:t,groupId:o}),[g,j]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,r]=(0,u.Dv)(t);return[o,(0,s.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:o}),x=(()=>{const e=l??g;return h({value:e,tabValues:r})?e:null})();(0,i.A)((()=>{x&&c(x)}),[x]);return{selectedValue:a,selectValue:(0,s.useCallback)((e=>{if(!h({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);c(e),d(e),j(e)}),[d,j,r]),tabValues:r}}var j=t(13887);const x={tabList:"tabList_CGfx",tabItem:"tabItem_JX1E"};var v=t(86070);function f(e){let{className:n,block:t,selectedValue:s,selectValue:a,tabValues:i}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),u=e=>{const n=e.currentTarget,t=c.indexOf(n),o=i[t].value;o!==s&&(l(n),a(o))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;n=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;n=c[t]??c[c.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:r}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>c.push(e),onKeyDown:d,onClick:u,...r,className:(0,o.A)("tabs__item",x.tabItem,r?.className,{"tabs__item--active":s===n}),children:t??n},n)}))})}function b(e){let{lazy:n,children:t,selectedValue:r}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===r));return e?(0,s.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function A(e){const n=g(e);return(0,v.jsxs)("div",{className:(0,o.A)("tabs-container",x.tabList),children:[(0,v.jsx)(f,{...n,...e}),(0,v.jsx)(b,{...n,...e})]})}function M(e){const n=(0,j.A)();return(0,v.jsx)(A,{...e,children:d(e.children)},String(n))}},15658:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>i});var s=t(30758);const o={},r=s.createContext(o);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);