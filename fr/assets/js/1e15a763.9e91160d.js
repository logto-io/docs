"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[12602],{20628:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"concepts/core-service/README","title":"Service principal","description":"Introduction","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/concepts/core-service/README.mdx","sourceDirName":"concepts/core-service","slug":"/concepts/core-service/","permalink":"/fr/concepts/core-service/","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/concepts/core-service/README.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_label":"Service principal Logto","sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Authentification vs. autorisation","permalink":"/fr/concepts/authn-vs-authz"},"next":{"title":"Configuration","permalink":"/fr/concepts/core-service/configuration"}}');var t=i(86070),s=i(15658);const o={sidebar_label:"Service principal Logto",sidebar_position:3},c="Service principal",d={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Fournisseur OIDC",id:"fournisseur-oidc",level:2},{value:"Fonctionnalit\xe9s OpenID activ\xe9es",id:"fonctionnalit\xe9s-openid-activ\xe9es",level:3},{value:"Logto API",id:"logto-api",level:2},{value:"Management API",id:"management-api",level:3},{value:"Experience API",id:"experience-api",level:3},{value:"Account API",id:"account-api",level:3},{value:"Proxies frontend",id:"proxies-frontend",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"service-principal",children:"Service principal"})}),"\n",(0,t.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"Le service principal"})," est un service monolithique pour les t\xe2ches critiques de Logto. Le code source se trouve dans ",(0,t.jsx)(n.a,{href:"https://github.com/logto-io/logto/tree/master/packages/core",children:(0,t.jsx)(n.code,{children:"@logto/core"})}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"Le service principal"})," et ",(0,t.jsx)(n.em,{children:"SDK core"})," sont deux concepts distincts. Voir ",(0,t.jsx)(n.a,{href:"/developers/sdk-conventions",children:"convention SDK"})," pour les diff\xe9rences."]})}),"\n",(0,t.jsx)(n.p,{children:"Pour simplifier, nous divisons le service principal en quatre modules majeurs :"}),"\n",(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Nom"}),(0,t.jsx)("td",{children:"Description"}),(0,t.jsx)("td",{children:"Chemin de montage"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Fournisseur OIDC"}),(0,t.jsxs)("td",{children:["Un ",(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"fournisseur OpenID"}),"."]}),(0,t.jsx)("td",{children:(0,t.jsx)("code",{children:"/oidc"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Logto API"}),(0,t.jsx)("td",{children:"Management API, Experience API et Account API."}),(0,t.jsx)("td",{children:(0,t.jsx)("code",{children:"/api"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Proxies frontend"}),(0,t.jsx)("td",{children:"Proxies HTTP ou service de fichiers statiques pour les projets frontend."}),(0,t.jsx)("td",{children:(0,t.jsxs)(n.p,{children:["Voir ",(0,t.jsx)("a",{href:"#frontend-proxies",children:"Proxies frontend"})," pour les d\xe9tails."]})})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["Les API backend, y compris OIDC, sont construites dans le package ",(0,t.jsx)(n.code,{children:"core"}),", tandis que les proxies frontend d\xe9pendent des packages fr\xe8res correspondants dans le monorepo Logto."]}),"\n",(0,t.jsx)(n.h2,{id:"fournisseur-oidc",children:"Fournisseur OIDC"}),"\n",(0,t.jsxs)(n.p,{children:["Logto utilise la formidable impl\xe9mentation certifi\xe9e ",(0,t.jsx)(n.a,{href:"https://openid.net/connect/",children:"OpenID Connect"})," ",(0,t.jsx)(n.a,{href:"https://github.com/panva/node-oidc-provider",children:"node-oidc-provider"})," en arri\xe8re-plan. Le fournisseur est mont\xe9 sur ",(0,t.jsx)(n.code,{children:"/oidc"}),", et vous pouvez v\xe9rifier les configurations et fichiers relatifs dans ",(0,t.jsx)(n.a,{href:"https://github.com/logto-io/logto/tree/master/packages/core/src/oidc",children:"packages/core/src/oidc"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Le ",(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"point de terminaison Userinfo OIDC"})," est disponible et mont\xe9 sur ",(0,t.jsx)(n.code,{children:"/oidc/me"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Si vous souhaitez appeler directement les API OIDC, n'oubliez pas de d\xe9finir l'en-t\xeate ",(0,t.jsx)(n.code,{children:"Content-Type: application/x-www-form-urlencoded"}),"."]})}),"\n",(0,t.jsx)(n.h3,{id:"fonctionnalit\xe9s-openid-activ\xe9es",children:"Fonctionnalit\xe9s OpenID activ\xe9es"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect Core"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-discovery-1_0.html",children:"OpenID Connect Discovery"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-rpinitiated-1_0.html",children:"OpenID Connect RP-Initiated Logout"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-backchannel-1_0-final.html",children:"OpenID Connect Back-Channel Logout"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc6749.html",children:"OAuth 2.0"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc7662.html",children:"OAuth 2.0 Token Introspection"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc7009.html",children:"OAuth 2.0 Token Revocation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"OAuth 2.0 Resource Indicators"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc7636.html",children:"Proof Key for Code Exchange (PKCE)"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"logto-api",children:"Logto API"}),"\n",(0,t.jsx)(n.h3,{id:"management-api",children:"Management API"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"Management API"})," est un ensemble d'API qui g\xe8rent et mettent \xe0 jour les donn\xe9es Logto. Seuls les utilisateurs avec le r\xf4le ",(0,t.jsx)(n.code,{children:"admin"})," y ont acc\xe8s."]}),"\n",(0,t.jsxs)(n.p,{children:["Dirigez-vous vers ",(0,t.jsx)(n.a,{href:"https://openapi.logto.io",children:"r\xe9f\xe9rences API"})," pour voir les d\xe9tails."]}),"\n",(0,t.jsxs)(n.p,{children:["Pour acc\xe9der \xe0 l'API de mani\xe8re programmatique, voir ",(0,t.jsx)(n.a,{href:"/integrate-logto/interact-with-management-api",children:"Interagir avec Management API"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"experience-api",children:"Experience API"}),"\n",(0,t.jsx)(n.p,{children:"Experience API est un ensemble de points de terminaison d\xe9di\xe9s qui prennent en charge les interactions d'interface de connexion personnalis\xe9es."}),"\n",(0,t.jsx)(n.p,{children:"Ces API permettent aux d\xe9veloppeurs de mettre en \u0153uvre des fonctionnalit\xe9s d'authentification principales, y compris la connexion, l'inscription, la r\xe9initialisation de mot de passe, la liaison de compte social et l'authentification multi-facteurs (MFA). Pour impl\xe9menter ces fonctionnalit\xe9s, votre interface utilisateur personnalis\xe9e doit interagir avec Experience API."}),"\n",(0,t.jsx)(n.p,{children:"Pour mieux comprendre les flux utilisateur et les d\xe9tails de l'impl\xe9mentation :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Consultez le guide ",(0,t.jsx)(n.a,{href:"/customization/bring-your-ui/#develop-your-custom-ui",children:"D\xe9veloppez votre interface utilisateur personnalis\xe9e"})," pour apprendre \xe0 utiliser Experience API pour construire votre interface utilisateur d'exp\xe9rience personnalis\xe9e"]}),"\n",(0,t.jsxs)(n.li,{children:["R\xe9f\xe9rez-vous aux ",(0,t.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-experience",children:"r\xe9f\xe9rences Experience API"})," pour une documentation API d\xe9taill\xe9e"]}),"\n",(0,t.jsxs)(n.li,{children:["Lisez le ",(0,t.jsx)(n.a,{href:"https://github.com/logto-io/rfcs/blob/master/draft/0004-experience-api.md",children:"RFC de conception Experience API"})," pour des sp\xe9cifications techniques approfondies et des exemples"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"account-api",children:"Account API"}),"\n",(0,t.jsx)(n.p,{children:"Account API est un ensemble complet d'API qui donne aux utilisateurs finaux un acc\xe8s direct \xe0 l'API sans avoir besoin de passer par Management API, voici les points forts :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Acc\xe8s direct : Account API permet aux utilisateurs finaux d'acc\xe9der directement et de g\xe9rer leur propre profil de compte sans n\xe9cessiter le relais de Management API."}),"\n",(0,t.jsx)(n.li,{children:"Gestion des profils et identit\xe9s utilisateur : Les utilisateurs peuvent g\xe9rer enti\xe8rement leurs profils et param\xe8tres de s\xe9curit\xe9, y compris la possibilit\xe9 de mettre \xe0 jour les informations d'identit\xe9 comme l'email, le t\xe9l\xe9phone et le mot de passe, ainsi que de g\xe9rer les connexions sociales. Le support MFA et SSO arrive bient\xf4t."}),"\n",(0,t.jsx)(n.li,{children:"Contr\xf4le d'acc\xe8s global : L'administrateur a un contr\xf4le total et global sur les param\xe8tres d'acc\xe8s, peut personnaliser chaque champ."}),"\n",(0,t.jsxs)(n.li,{children:["Autorisation transparente : L'autorisation est plus facile que jamais ! Utilisez simplement ",(0,t.jsx)(n.code,{children:"client.getAccessToken()"})," pour obtenir un jeton d\u2019acc\xe8s opaque pour OP (Logto), et attachez-le \xe0 l'en-t\xeate Autorisation comme ",(0,t.jsx)(n.code,{children:"Bearer <access_token>"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Avec Logto Account API, vous pouvez construire un syst\xe8me de gestion de compte personnalis\xe9 comme une page de profil enti\xe8rement int\xe9gr\xe9e \xe0 Logto."}),"\n",(0,t.jsxs)(n.p,{children:["Consultez ",(0,t.jsx)(n.a,{href:"/end-user-flows/account-settings/by-account-api",children:"Param\xe8tres de compte par Account API"})," pour apprendre comment tirer parti de Account API pour construire votre propre page de param\xe8tres de compte."]}),"\n",(0,t.jsxs)(n.p,{children:["R\xe9f\xe9rez-vous aux ",(0,t.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-my-account",children:"r\xe9f\xe9rences Account API"})," pour une documentation API d\xe9taill\xe9e."]}),"\n",(0,t.jsx)(n.h2,{id:"proxies-frontend",children:"Proxies frontend"}),"\n",(0,t.jsxs)(n.p,{children:["Un ",(0,t.jsx)(n.em,{children:"proxy frontend"})," est une fonction middleware qui sert un projet frontend de mani\xe8re li\xe9e \xe0 l'environnement :"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Si c'est en d\xe9veloppement, il proxy les requ\xeates HTTP vers le serveur de d\xe9veloppement frontend."}),"\n",(0,t.jsx)(n.li,{children:"Si c'est en production, il sert directement les fichiers frontend statiques."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Logto a trois proxies frontend :"}),"\n",(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Nom"}),(0,t.jsx)("td",{children:"Package Frontend"}),(0,t.jsx)("td",{children:"Chemin de montage"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Proxy de la console d'administration"}),(0,t.jsx)("td",{children:(0,t.jsx)("code",{children:"/packages/console"})}),(0,t.jsx)("td",{children:(0,t.jsx)("code",{children:"/console"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Proxy de l'application de d\xe9monstration"}),(0,t.jsx)("td",{children:(0,t.jsx)("code",{children:"/packages/demo-app"})}),(0,t.jsx)("td",{children:(0,t.jsx)("code",{children:"/demo-app"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Proxy UI (exp\xe9rience de connexion)"}),(0,t.jsx)("td",{children:(0,t.jsx)("code",{children:"/packages/ui"})}),(0,t.jsx)("td",{children:(0,t.jsx)("code",{children:"/"})})]})]})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Vous remarquerez peut-\xeatre que le proxy UI utilise le chemin racine. Contrairement aux autres proxies, le proxy UI est un proxy de secours, ce qui signifie qu'il ne prend effet que lorsqu'aucun autre proxy n'est correspondant."})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},15658:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>c});var r=i(30758);const t={},s=r.createContext(t);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);