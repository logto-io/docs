"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[77976],{15457:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>u,default:()=>m,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"customization/bring-your-ui/debug-and-test-your-custom-ui-locally","title":"D\xe9boguer et tester votre interface utilisateur personnalis\xe9e localement","description":"Pour les utilisateurs de Logto Cloud, nous avons simplifi\xe9 l\'int\xe9gration de votre propre interface utilisateur \xe0 Logto. Les utilisateurs de Cloud peuvent d\xe9sormais t\xe9l\xe9charger un fichier zip contenant les ressources de l\'interface utilisateur personnalis\xe9e dans Console > Exp\xe9rience de connexion > Image de marque > Apportez votre interface utilisateur (Consultez la page Apportez votre interface utilisateur pour plus de d\xe9tails.)","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/customization/bring-your-ui/debug-and-test-your-custom-ui-locally.mdx","sourceDirName":"customization/bring-your-ui","slug":"/customization/bring-your-ui/debug-and-test-your-custom-ui-locally","permalink":"/fr/customization/bring-your-ui/debug-and-test-your-custom-ui-locally","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/customization/bring-your-ui/debug-and-test-your-custom-ui-locally.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Apportez votre interface utilisateur","permalink":"/fr/customization/bring-your-ui/"},"next":{"title":"T\xe9l\xe9charger des ressources UI personnalis\xe9es en utilisant CLI","permalink":"/fr/customization/bring-your-ui/upload-custom-ui-assets-using-cli"}}');var o=t(86070),i=t(15658),a=t(78551),s=t(77501);const l={sidebar_position:1},u="D\xe9boguer et tester votre interface utilisateur personnalis\xe9e localement",c={},d=[{value:"Pourquoi ai-je besoin de cela ?",id:"pourquoi-ai-je-besoin-de-cela-",level:2},{value:"Instructions",id:"instructions",level:2},{value:"\xc9tape 1 : Ex\xe9cutez la commande",id:"\xe9tape-1--ex\xe9cutez-la-commande",level:3},{value:"\xc9tape 2 : Mettez \xe0 jour l&#39;URI du point de terminaison dans votre application",id:"\xe9tape-2--mettez-\xe0-jour-luri-du-point-de-terminaison-dans-votre-application",level:3}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",mermaid:"mermaid",p:"p",pre:"pre",...(0,i.R)(),...e.components},{CloudLink:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CloudLink",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"d\xe9boguer-et-tester-votre-interface-utilisateur-personnalis\xe9e-localement",children:"D\xe9boguer et tester votre interface utilisateur personnalis\xe9e localement"})}),"\n",(0,o.jsxs)(n.p,{children:["Pour les utilisateurs de Logto Cloud, nous avons simplifi\xe9 l'int\xe9gration de votre propre interface utilisateur \xe0 Logto. Les utilisateurs de Cloud peuvent d\xe9sormais t\xe9l\xe9charger un fichier zip contenant les ressources de l'interface utilisateur personnalis\xe9e dans ",(0,o.jsx)(t,{to:"/sign-in-experience/branding",children:"Console > Exp\xe9rience de connexion > Image de marque > Apportez votre interface utilisateur"})," (Consultez la page ",(0,o.jsx)(n.a,{href:"/customization/bring-your-ui",children:"Apportez votre interface utilisateur"})," pour plus de d\xe9tails.)"]}),"\n",(0,o.jsx)(n.p,{children:"Cependant, lors du d\xe9veloppement de telles pages d'interface utilisateur personnalis\xe9es, les utilisateurs souhaitent tester et d\xe9boguer le code localement avant de le t\xe9l\xe9charger sur Logto Cloud. Cette commande CLI vous aide \xe0 configurer un tunnel local et \xe0 connecter ensemble les 3 entit\xe9s suivantes : votre point de terminaison d'authentification Logto Cloud, votre application et votre interface utilisateur de connexion personnalis\xe9e."}),"\n",(0,o.jsx)(n.h2,{id:"pourquoi-ai-je-besoin-de-cela-",children:"Pourquoi ai-je besoin de cela ?"}),"\n",(0,o.jsx)(n.p,{children:'Par d\xe9faut, lorsque vous cliquez sur le bouton "connexion" dans votre application, vous serez redirig\xe9 vers la page de connexion configur\xe9e au point de terminaison Logto. Un flux de connexion r\xe9ussi peut \xeatre illustr\xe9 comme suit :'}),"\n",(0,o.jsx)(n.mermaid,{value:"sequenceDiagram\n    box Machine locale\n    participant A as Votre application\n    end\n    box Logto Cloud\n    participant B as Point de terminaison d'auth Logto Cloud\n    participant C as Page de connexion Logto\n    end\n    A ->> B: L'utilisateur initie l'action \"connexion\" et demande l'auth\n    B --\x3e> A: Retourne la r\xe9ponse d'auth et indique au client<br/>de rediriger vers la page de connexion Logto\n    A ->> C: Redirige vers la page de connexion Logto\n    C ->> B: Soumet le formulaire de connexion et<br/>demande \xe0 l'Experience API d'authentifier\n    B --\x3e> C: R\xe9pond \xe0 la requ\xeate de connexion et<br/>indique au client de rediriger vers votre application\n    C --\x3e> A: Redirige vers votre application\n    A --\x3e A: G\xe8re le rappel de connexion et<br/>l'utilisateur est maintenant authentifi\xe9"}),"\n",(0,o.jsx)(n.p,{children:"Mais maintenant que vous d\xe9veloppez votre propre interface utilisateur de connexion personnalis\xe9e, vous avez besoin d'un moyen de naviguer vers les pages d'interface utilisateur de connexion personnalis\xe9es ex\xe9cut\xe9es sur votre machine locale \xe0 la place.\nCela n\xe9cessite un service de tunnel local pour intercepter les requ\xeates sortantes de votre application et les rediriger vers vos pages d'interface utilisateur de connexion personnalis\xe9es."}),"\n",(0,o.jsx)(n.p,{children:"De plus, vous devez interagir avec l'Experience API de Logto pour authentifier les utilisateurs et g\xe9rer les sessions.\nCe service aidera \xe9galement \xe0 transf\xe9rer ces requ\xeates Experience API vers Logto Cloud afin d'\xe9viter les probl\xe8mes de CORS."}),"\n",(0,o.jsx)(n.p,{children:'Le diagramme de s\xe9quence ci-dessous illustre comment un flux de "connexion" r\xe9ussi fonctionne avec votre interface utilisateur personnalis\xe9e et le service de tunnel en place :'}),"\n",(0,o.jsx)(n.mermaid,{value:"sequenceDiagram\n    box Machine locale\n    participant A as Votre application\n    participant B as Votre interface utilisateur de connexion personnalis\xe9e\n    participant C as Tunnel\n    end\n    box Logto Cloud\n    participant D as Point de terminaison d'auth Logto Cloud\n    participant E as Page de connexion Logto\n    end\n    A ->> C: L'utilisateur initie l'action \"connexion\" et demande l'auth\n    C ->> D: Transf\xe8re la requ\xeate d'auth au point de terminaison Logto Cloud\n    D --\x3e> C: Retourne la r\xe9ponse d'auth et indique au client<br/>de rediriger vers la page de connexion Logto\n    C ->> B: Intercepte la redirection et<br/>redirige vers votre page de connexion personnalis\xe9e\n    B ->> C: Soumet le formulaire de connexion et<br/>demande \xe0 l'Experience API d'authentifier\n    C ->> D: Transf\xe8re les requ\xeates Experience API \xe0 Logto Cloud\n    D --\x3e> C: Authentifie la requ\xeate de connexion et<br/>indique au client de rediriger vers votre application\n    C --\x3e> A: Redirige vers votre application\n    A --\x3e A: G\xe8re le rappel de connexion et<br/>l'utilisateur est maintenant authentifi\xe9"}),"\n",(0,o.jsx)(n.p,{children:"Avec le service de tunnel en place, vous pouvez d\xe9sormais d\xe9velopper et tester votre interface utilisateur de connexion personnalis\xe9e localement, sans avoir besoin de t\xe9l\xe9charger les ressources sur Logto Cloud \xe0 chaque modification."}),"\n",(0,o.jsx)(n.h2,{id:"instructions",children:"Instructions"}),"\n",(0,o.jsx)(n.h3,{id:"\xe9tape-1--ex\xe9cutez-la-commande",children:"\xc9tape 1 : Ex\xe9cutez la commande"}),"\n",(0,o.jsxs)(n.p,{children:["En supposant que votre ID de locataire Cloud est ",(0,o.jsx)(n.code,{children:"foobar"}),", et que vous avez une page de connexion personnalis\xe9e ex\xe9cut\xe9e sur votre serveur de d\xe9veloppement local \xe0 ",(0,o.jsx)(n.code,{children:"http://localhost:4000"}),", vous pouvez ex\xe9cuter la commande de cette mani\xe8re :"]}),"\n",(0,o.jsxs)(s.A,{groupId:"cmd",children:[(0,o.jsx)(a.A,{value:"cli",label:"CLI",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"logto-tunnel -p 9000 --experience-uri http://localhost:4000/ --endpoint https://foobar.logto.app/\n"})})}),(0,o.jsx)(a.A,{value:"npx",label:"npx",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npx @logto/tunnel -p 9000 --experience-uri http://localhost:4000/ --endpoint https://foobar.logto.app/\n"})})})]}),"\n",(0,o.jsx)(n.p,{children:"Cela fonctionne \xe9galement si vous avez un domaine personnalis\xe9 configur\xe9 dans Logto :"}),"\n",(0,o.jsxs)(s.A,{groupId:"cmd",children:[(0,o.jsx)(a.A,{value:"cli",label:"CLI",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"logto-tunnel -p 9000 --experience-uri http://localhost:4000/ --endpoint https://your.custom.domain/\n"})})}),(0,o.jsx)(a.A,{value:"npx",label:"npx",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npx @logto/tunnel -p 9000 --experience-uri http://localhost:4000/ --endpoint https://your.custom.domain/\n"})})})]}),"\n",(0,o.jsxs)(n.p,{children:["Alternativement, la commande prend \xe9galement en charge les ressources html statiques sans avoir besoin de les ex\xe9cuter d'abord sur un serveur de d\xe9veloppement. Assurez-vous simplement qu'il y a un ",(0,o.jsx)(n.code,{children:"index.html"})," dans le chemin que vous avez sp\xe9cifi\xe9."]}),"\n",(0,o.jsxs)(s.A,{groupId:"cmd",children:[(0,o.jsx)(a.A,{value:"cli",label:"CLI",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"logto-tunnel -p 9000 --experience-path /path/to/your/static/files --endpoint https://foobar.logto.app/\n"})})}),(0,o.jsx)(a.A,{value:"npx",label:"npx",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npx @logto/tunnel -p 9000 --experience-path /path/to/your/static/files --endpoint https://foobar.logto.app/\n"})})})]}),"\n",(0,o.jsx)(n.h3,{id:"\xe9tape-2--mettez-\xe0-jour-luri-du-point-de-terminaison-dans-votre-application",children:"\xc9tape 2 : Mettez \xe0 jour l'URI du point de terminaison dans votre application"}),"\n",(0,o.jsxs)(n.p,{children:["Enfin, ex\xe9cutez votre application et d\xe9finissez son point de terminaison Logto sur l'adresse du service de tunnel ",(0,o.jsx)(n.code,{children:"http://localhost:9000/"})," \xe0 la place."]}),"\n",(0,o.jsx)(n.p,{children:"Prenons une application React comme exemple :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",metastring:"title=App.tsx",children:"import { LogtoProvider, LogtoConfig } from '@logto/react';\n\nconst config: LogtoConfig = {\n  // endpoint: 'https://foobar.logto.app/', // point de terminaison Logto Cloud original\n  endpoint: 'http://localhost:9000/', // adresse du service de tunnel\n  appId: '<your-application-id>',\n};\n\nconst App = () => (\n  <LogtoProvider config={config}>\n    <YourAppContent />\n  </LogtoProvider>\n);\n"})}),"\n",(0,o.jsx)(n.p,{children:"Si vous utilisez la connexion sociale, vous devez \xe9galement mettre \xe0 jour l'URI de redirection dans les param\xe8tres de votre fournisseur social vers l'adresse du service de tunnel."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"http://localhost:9000/callback/<connector-id>\n"})}),"\n",(0,o.jsx)(n.p,{children:"Si tout est correctement configur\xe9, lorsque vous cliquez sur le bouton \"connexion\" dans votre application, vous devriez \xeatre redirig\xe9 vers votre page de connexion personnalis\xe9e au lieu de l'interface utilisateur int\xe9gr\xe9e de Logto, avec une session valide (cookies) qui vous permet d'interagir davantage avec l'Experience API de Logto."}),"\n",(0,o.jsx)(n.p,{children:"Bon codage !"})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},78551:(e,n,t)=>{t.d(n,{A:()=>a});t(30758);var r=t(13526);const o={tabItem:"tabItem_PGP0"};var i=t(86070);function a(e){let{children:n,hidden:t,className:a}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(o.tabItem,a),hidden:t,children:n})}},77501:(e,n,t)=>{t.d(n,{A:()=>y});var r=t(30758),o=t(13526),i=t(65052),a=t(25557),s=t(77469),l=t(50873),u=t(62230),c=t(60196);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:o}}=e;return{value:n,label:t,attributes:r,default:o}}))}(t);return function(e){const n=(0,u.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function m(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function h(e){let{queryString:n=!1,groupId:t}=e;const o=(0,a.W6)(),i=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(o.location.search);n.set(i,e),o.replace({...o.location,search:n.toString()})}),[i,o])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:o}=e,i=p(e),[a,l]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:i}))),[u,d]=h({queryString:t,groupId:o}),[g,v]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,i]=(0,c.Dv)(t);return[o,(0,r.useCallback)((e=>{t&&i.set(e)}),[t,i])]}({groupId:o}),x=(()=>{const e=u??g;return m({value:e,tabValues:i})?e:null})();(0,s.A)((()=>{x&&l(x)}),[x]);return{selectedValue:a,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),v(e)}),[d,v,i]),tabValues:i}}var v=t(13887);const x={tabList:"tabList_CGfx",tabItem:"tabItem_JX1E"};var f=t(86070);function b(e){let{className:n,block:t,selectedValue:r,selectValue:a,tabValues:s}=e;const l=[],{blockElementScrollPositionUntilNextRender:u}=(0,i.a_)(),c=e=>{const n=e.currentTarget,t=l.indexOf(n),o=s[t].value;o!==r&&(u(n),a(o))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},n),children:s.map((e=>{let{value:n,label:t,attributes:i}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>l.push(e),onKeyDown:d,onClick:c,...i,className:(0,o.A)("tabs__item",x.tabItem,i?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function j(e){let{lazy:n,children:t,selectedValue:i}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===i));return e?(0,r.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==i})))})}function C(e){const n=g(e);return(0,f.jsxs)("div",{className:(0,o.A)("tabs-container",x.tabList),children:[(0,f.jsx)(b,{...n,...e}),(0,f.jsx)(j,{...n,...e})]})}function y(e){const n=(0,v.A)();return(0,f.jsx)(C,{...e,children:d(e.children)},String(n))}},15658:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var r=t(30758);const o={},i=r.createContext(o);function a(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);